(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function uC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xg={exports:{}},Pc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function Y1(){if(gw)return Pc;gw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Pc.Fragment=e,Pc.jsx=t,Pc.jsxs=t,Pc}var yw;function z1(){return yw||(yw=1,xg.exports=Y1()),xg.exports}var ye=z1(),kg={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function Q1(){if(_w)return et;_w=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=T&&q[T]||q["@@iterator"],typeof q=="function"?q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,L={};function O(q,ce,Se){this.props=q,this.context=ce,this.refs=L,this.updater=Se||C}O.prototype.isReactComponent={},O.prototype.setState=function(q,ce){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ce,"setState")},O.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function x(){}x.prototype=O.prototype;function P(q,ce,Se){this.props=q,this.context=ce,this.refs=L,this.updater=Se||C}var j=P.prototype=new x;j.constructor=P,I(j,O.prototype),j.isPureReactComponent=!0;var ne=Array.isArray,se={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function B(q,ce,Se,Ae,we,Ne){return Se=Ne.ref,{$$typeof:n,type:q,key:ce,ref:Se!==void 0?Se:null,props:Ne}}function N(q,ce){return B(q.type,ce,void 0,void 0,void 0,q.props)}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function U(q){var ce={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Se){return ce[Se]})}var H=/\/+/g;function Y(q,ce){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):ce.toString(36)}function F(){}function Le(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(F,F):(q.status="pending",q.then(function(ce){q.status==="pending"&&(q.status="fulfilled",q.value=ce)},function(ce){q.status==="pending"&&(q.status="rejected",q.reason=ce)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Ge(q,ce,Se,Ae,we){var Ne=typeof q;(Ne==="undefined"||Ne==="boolean")&&(q=null);var me=!1;if(q===null)me=!0;else switch(Ne){case"bigint":case"string":case"number":me=!0;break;case"object":switch(q.$$typeof){case n:case e:me=!0;break;case _:return me=q._init,Ge(me(q._payload),ce,Se,Ae,we)}}if(me)return we=we(q),me=Ae===""?"."+Y(q,0):Ae,ne(we)?(Se="",me!=null&&(Se=me.replace(H,"$&/")+"/"),Ge(we,ce,Se,"",function(je){return je})):we!=null&&(M(we)&&(we=N(we,Se+(we.key==null||q&&q.key===we.key?"":(""+we.key).replace(H,"$&/")+"/")+me)),ce.push(we)),1;me=0;var ke=Ae===""?".":Ae+":";if(ne(q))for(var Me=0;Me<q.length;Me++)Ae=q[Me],Ne=ke+Y(Ae,Me),me+=Ge(Ae,ce,Se,Ne,we);else if(Me=b(q),typeof Me=="function")for(q=Me.call(q),Me=0;!(Ae=q.next()).done;)Ae=Ae.value,Ne=ke+Y(Ae,Me++),me+=Ge(Ae,ce,Se,Ne,we);else if(Ne==="object"){if(typeof q.then=="function")return Ge(Le(q),ce,Se,Ae,we);throw ce=String(q),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return me}function oe(q,ce,Se){if(q==null)return q;var Ae=[],we=0;return Ge(q,Ae,"","",function(Ne){return ce.call(Se,Ne,we++)}),Ae}function Ce(q){if(q._status===-1){var ce=q._result;ce=ce(),ce.then(function(Se){(q._status===0||q._status===-1)&&(q._status=1,q._result=Se)},function(Se){(q._status===0||q._status===-1)&&(q._status=2,q._result=Se)}),q._status===-1&&(q._status=0,q._result=ce)}if(q._status===1)return q._result.default;throw q._result}var Te=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Pe(){}return et.Children={map:oe,forEach:function(q,ce,Se){oe(q,function(){ce.apply(this,arguments)},Se)},count:function(q){var ce=0;return oe(q,function(){ce++}),ce},toArray:function(q){return oe(q,function(ce){return ce})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},et.Component=O,et.Fragment=t,et.Profiler=a,et.PureComponent=P,et.StrictMode=i,et.Suspense=p,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,et.act=function(){throw Error("act(...) is not supported in production builds of React.")},et.cache=function(q){return function(){return q.apply(null,arguments)}},et.cloneElement=function(q,ce,Se){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Ae=I({},q.props),we=q.key,Ne=void 0;if(ce!=null)for(me in ce.ref!==void 0&&(Ne=void 0),ce.key!==void 0&&(we=""+ce.key),ce)!pe.call(ce,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ce.ref===void 0||(Ae[me]=ce[me]);var me=arguments.length-2;if(me===1)Ae.children=Se;else if(1<me){for(var ke=Array(me),Me=0;Me<me;Me++)ke[Me]=arguments[Me+2];Ae.children=ke}return B(q.type,we,void 0,void 0,Ne,Ae)},et.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},et.createElement=function(q,ce,Se){var Ae,we={},Ne=null;if(ce!=null)for(Ae in ce.key!==void 0&&(Ne=""+ce.key),ce)pe.call(ce,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(we[Ae]=ce[Ae]);var me=arguments.length-2;if(me===1)we.children=Se;else if(1<me){for(var ke=Array(me),Me=0;Me<me;Me++)ke[Me]=arguments[Me+2];we.children=ke}if(q&&q.defaultProps)for(Ae in me=q.defaultProps,me)we[Ae]===void 0&&(we[Ae]=me[Ae]);return B(q,Ne,void 0,void 0,null,we)},et.createRef=function(){return{current:null}},et.forwardRef=function(q){return{$$typeof:f,render:q}},et.isValidElement=M,et.lazy=function(q){return{$$typeof:_,_payload:{_status:-1,_result:q},_init:Ce}},et.memo=function(q,ce){return{$$typeof:m,type:q,compare:ce===void 0?null:ce}},et.startTransition=function(q){var ce=se.T,Se={};se.T=Se;try{var Ae=q(),we=se.S;we!==null&&we(Se,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(Pe,Te)}catch(Ne){Te(Ne)}finally{se.T=ce}},et.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},et.use=function(q){return se.H.use(q)},et.useActionState=function(q,ce,Se){return se.H.useActionState(q,ce,Se)},et.useCallback=function(q,ce){return se.H.useCallback(q,ce)},et.useContext=function(q){return se.H.useContext(q)},et.useDebugValue=function(){},et.useDeferredValue=function(q,ce){return se.H.useDeferredValue(q,ce)},et.useEffect=function(q,ce){return se.H.useEffect(q,ce)},et.useId=function(){return se.H.useId()},et.useImperativeHandle=function(q,ce,Se){return se.H.useImperativeHandle(q,ce,Se)},et.useInsertionEffect=function(q,ce){return se.H.useInsertionEffect(q,ce)},et.useLayoutEffect=function(q,ce){return se.H.useLayoutEffect(q,ce)},et.useMemo=function(q,ce){return se.H.useMemo(q,ce)},et.useOptimistic=function(q,ce){return se.H.useOptimistic(q,ce)},et.useReducer=function(q,ce,Se){return se.H.useReducer(q,ce,Se)},et.useRef=function(q){return se.H.useRef(q)},et.useState=function(q){return se.H.useState(q)},et.useSyncExternalStore=function(q,ce,Se){return se.H.useSyncExternalStore(q,ce,Se)},et.useTransition=function(){return se.H.useTransition()},et.version="19.0.0",et}var vw;function c_(){return vw||(vw=1,kg.exports=Q1()),kg.exports}var X=c_();const Je=uC(X);var Pg={exports:{}},Lc={},Lg={exports:{}},Bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function K1(){return Ew||(Ew=1,function(n){function e(oe,Ce){var Te=oe.length;oe.push(Ce);e:for(;0<Te;){var Pe=Te-1>>>1,q=oe[Pe];if(0<a(q,Ce))oe[Pe]=Ce,oe[Te]=q,Te=Pe;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var Ce=oe[0],Te=oe.pop();if(Te!==Ce){oe[0]=Te;e:for(var Pe=0,q=oe.length,ce=q>>>1;Pe<ce;){var Se=2*(Pe+1)-1,Ae=oe[Se],we=Se+1,Ne=oe[we];if(0>a(Ae,Te))we<q&&0>a(Ne,Ae)?(oe[Pe]=Ne,oe[we]=Te,Pe=we):(oe[Pe]=Ae,oe[Se]=Te,Pe=Se);else if(we<q&&0>a(Ne,Te))oe[Pe]=Ne,oe[we]=Te,Pe=we;else break e}}return Ce}function a(oe,Ce){var Te=oe.sortIndex-Ce.sortIndex;return Te!==0?Te:oe.id-Ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var p=[],m=[],_=1,T=null,b=3,C=!1,I=!1,L=!1,O=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function j(oe){for(var Ce=t(m);Ce!==null;){if(Ce.callback===null)i(m);else if(Ce.startTime<=oe)i(m),Ce.sortIndex=Ce.expirationTime,e(p,Ce);else break;Ce=t(m)}}function ne(oe){if(L=!1,j(oe),!I)if(t(p)!==null)I=!0,Le();else{var Ce=t(m);Ce!==null&&Ge(ne,Ce.startTime-oe)}}var se=!1,pe=-1,B=5,N=-1;function M(){return!(n.unstable_now()-N<B)}function U(){if(se){var oe=n.unstable_now();N=oe;var Ce=!0;try{e:{I=!1,L&&(L=!1,x(pe),pe=-1),C=!0;var Te=b;try{t:{for(j(oe),T=t(p);T!==null&&!(T.expirationTime>oe&&M());){var Pe=T.callback;if(typeof Pe=="function"){T.callback=null,b=T.priorityLevel;var q=Pe(T.expirationTime<=oe);if(oe=n.unstable_now(),typeof q=="function"){T.callback=q,j(oe),Ce=!0;break t}T===t(p)&&i(p),j(oe)}else i(p);T=t(p)}if(T!==null)Ce=!0;else{var ce=t(m);ce!==null&&Ge(ne,ce.startTime-oe),Ce=!1}}break e}finally{T=null,b=Te,C=!1}Ce=void 0}}finally{Ce?H():se=!1}}}var H;if(typeof P=="function")H=function(){P(U)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,F=Y.port2;Y.port1.onmessage=U,H=function(){F.postMessage(null)}}else H=function(){O(U,0)};function Le(){se||(se=!0,H())}function Ge(oe,Ce){pe=O(function(){oe(n.unstable_now())},Ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){I||C||(I=!0,Le())},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(oe){switch(b){case 1:case 2:case 3:var Ce=3;break;default:Ce=b}var Te=b;b=Ce;try{return oe()}finally{b=Te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,Ce){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var Te=b;b=oe;try{return Ce()}finally{b=Te}},n.unstable_scheduleCallback=function(oe,Ce,Te){var Pe=n.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Pe+Te:Pe):Te=Pe,oe){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Te+q,oe={id:_++,callback:Ce,priorityLevel:oe,startTime:Te,expirationTime:q,sortIndex:-1},Te>Pe?(oe.sortIndex=Te,e(m,oe),t(p)===null&&oe===t(m)&&(L?(x(pe),pe=-1):L=!0,Ge(ne,Te-Pe))):(oe.sortIndex=q,e(p,oe),I||C||(I=!0,Le())),oe},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(oe){var Ce=b;return function(){var Te=b;b=Ce;try{return oe.apply(this,arguments)}finally{b=Te}}}}(Bg)),Bg}var ww;function W1(){return ww||(ww=1,Lg.exports=K1()),Lg.exports}var Vg={exports:{}},ni={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function J1(){if(Tw)return ni;Tw=1;var n=c_();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ni.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,_)},ni.flushSync=function(p){var m=u.T,_=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=m,i.p=_,i.d.f()}},ni.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},ni.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},ni.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:C}):_==="script"&&i.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ni.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},ni.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin);i.d.L(p,_,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ni.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},ni.requestFormReset=function(p){i.d.r(p)},ni.unstable_batchedUpdates=function(p,m){return p(m)},ni.useFormState=function(p,m,_){return u.H.useFormState(p,m,_)},ni.useFormStatus=function(){return u.H.useHostTransitionStatus()},ni.version="19.0.0",ni}var Aw;function X1(){if(Aw)return Vg.exports;Aw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vg.exports=J1(),Vg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function Z1(){if(Cw)return Lc;Cw=1;var n=W1(),e=c_(),t=X1();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),ne=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var B=Symbol.for("react.client.reference");function N(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===B?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case f:return"Portal";case _:return"Profiler";case m:return"StrictMode";case L:return"Suspense";case O:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case C:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case I:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return s=r.displayName||null,s!==null?s:N(r.type)||"Memo";case P:s=r._payload,r=r._init;try{return N(r(s))}catch{}}return null}var M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,H,Y;function F(r){if(H===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);H=s&&s[1]||"",Y=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+H+r+Y}var Le=!1;function Ge(r,s){if(!r||Le)return"";Le=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ae){var te=ae}Reflect.construct(r,[],de)}else{try{de.call()}catch(ae){te=ae}r.call(de.prototype)}}else{try{throw Error()}catch(ae){te=ae}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),A=g[0],R=g[1];if(A&&R){var V=A.split(`
`),K=R.split(`
`);for(d=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(c===V.length||d===K.length)for(c=V.length-1,d=K.length-1;1<=c&&0<=d&&V[c]!==K[d];)d--;for(;1<=c&&0<=d;c--,d--)if(V[c]!==K[d]){if(c!==1||d!==1)do if(c--,d--,0>d||V[c]!==K[d]){var ue=`
`+V[c].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=c&&0<=d);break}}}finally{Le=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?F(o):""}function oe(r){switch(r.tag){case 26:case 27:case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return r=Ge(r.type,!1),r;case 11:return r=Ge(r.type.render,!1),r;case 1:return r=Ge(r.type,!0),r;default:return""}}function Ce(r){try{var s="";do s+=oe(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Te(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Pe(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function q(r){if(Te(r)!==r)throw Error(i(188))}function ce(r){var s=r.alternate;if(!s){if(s=Te(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return q(d),r;if(g===c)return q(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=g;else{for(var A=!1,R=d.child;R;){if(R===o){A=!0,o=d,c=g;break}if(R===c){A=!0,c=d,o=g;break}R=R.sibling}if(!A){for(R=g.child;R;){if(R===o){A=!0,o=g,c=d;break}if(R===c){A=!0,c=g,o=d;break}R=R.sibling}if(!A)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function Se(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=Se(r),s!==null)return s;r=r.sibling}return null}var Ae=Array.isArray,we=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},me=[],ke=-1;function Me(r){return{current:r}}function je(r){0>ke||(r.current=me[ke],me[ke]=null,ke--)}function Qe(r,s){ke++,me[ke]=r.current,r.current=s}var Tt=Me(null),It=Me(null),xt=Me(null),qn=Me(null);function Gn(r,s){switch(Qe(xt,s),Qe(It,r),Qe(Tt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Y0(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=Y0(r),s=z0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}je(Tt),Qe(Tt,s)}function fn(){je(Tt),je(It),je(xt)}function Xt(r){r.memoizedState!==null&&Qe(qn,r);var s=Tt.current,o=z0(s,r.type);s!==o&&(Qe(It,r),Qe(Tt,o))}function Pr(r){It.current===r&&(je(Tt),je(It)),qn.current===r&&(je(qn),Nc._currentValue=Ne)}var Lr=Object.prototype.hasOwnProperty,Di=n.unstable_scheduleCallback,Ke=n.unstable_cancelCallback,nt=n.unstable_shouldYield,Qi=n.unstable_requestPaint,Tn=n.unstable_now,cl=n.unstable_getCurrentPriorityLevel,Dt=n.unstable_ImmediatePriority,dn=n.unstable_UserBlockingPriority,Ni=n.unstable_NormalPriority,hl=n.unstable_LowPriority,Br=n.unstable_IdlePriority,so=n.log,fs=n.unstable_setDisableYieldValue,Vr=null,On=null;function ao(r){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Vr,r,void 0,(r.current.flags&128)===128)}catch{}}function Ki(r){if(typeof so=="function"&&fs(r),On&&typeof On.setStrictMode=="function")try{On.setStrictMode(Vr,r)}catch{}}var jn=Math.clz32?Math.clz32:Ws,oo=Math.log,ds=Math.LN2;function Ws(r){return r>>>=0,r===0?32:31-(oo(r)/ds|0)|0}var $n=128,ui=4194304;function An(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Hn(r,s){var o=r.pendingLanes;if(o===0)return 0;var c=0,d=r.suspendedLanes,g=r.pingedLanes,A=r.warmLanes;r=r.finishedLanes!==0;var R=o&134217727;return R!==0?(o=R&~d,o!==0?c=An(o):(g&=R,g!==0?c=An(g):r||(A=R&~A,A!==0&&(c=An(A))))):(R=o&~d,R!==0?c=An(R):g!==0?c=An(g):r||(A=o&~A,A!==0&&(c=An(A)))),c===0?0:s!==0&&s!==c&&!(s&d)&&(d=c&-c,A=s&-s,d>=A||d===32&&(A&4194176)!==0)?s:c}function dr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function pr(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mi(){var r=$n;return $n<<=1,!($n&4194176)&&($n=128),r}function Ur(){var r=ui;return ui<<=1,!(ui&62914560)&&(ui=4194304),r}function Js(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Yt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function lo(r,s,o,c,d,g){var A=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,V=r.expirationTimes,K=r.hiddenUpdates;for(o=A&~o;0<o;){var ue=31-jn(o),de=1<<ue;R[ue]=0,V[ue]=-1;var te=K[ue];if(te!==null)for(K[ue]=null,ue=0;ue<te.length;ue++){var ae=te[ue];ae!==null&&(ae.lane&=-536870913)}o&=~de}c!==0&&jt(r,c,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(A&~s))}function jt(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-jn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194218}function ci(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-jn(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}function ft(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function fl(){var r=we.p;return r!==0?r:(r=window.event,r===void 0?32:cw(r.type))}function Cn(r,s){var o=we.p;try{return we.p=r,s()}finally{we.p=o}}var pn=Math.random().toString(36).slice(2),mn="__reactFiber$"+pn,an="__reactProps$"+pn,Oi="__reactContainer$"+pn,mr="__reactEvents$"+pn,ps="__reactListeners$"+pn,Wi="__reactHandles$"+pn,Xs="__reactResources$"+pn,gr="__reactMarker$"+pn;function Fr(r){delete r[mn],delete r[an],delete r[mr],delete r[ps],delete r[Wi]}function xi(r){var s=r[mn];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Oi]||o[mn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=W0(r);r!==null;){if(o=r[mn])return o;r=W0(r)}return s}r=o,o=r.parentNode}return null}function yr(r){if(r=r[mn]||r[Oi]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function qr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ki(r){var s=r[Xs];return s||(s=r[Xs]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qt(r){r[gr]=!0}var _r=new Set,Zs={};function xn(r,s){bn(r,s),bn(r+"Capture",s)}function bn(r,s){for(Zs[r]=s,r=0;r<s.length;r++)_r.add(s[r])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uo={},co={};function pl(r){return Lr.call(co,r)?!0:Lr.call(uo,r)?!1:dl.test(r)?co[r]=!0:(uo[r]=!0,!1)}function Gr(r,s,o){if(pl(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ji(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function gi(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function Yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ml(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qu(r){var s=ml(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(A){c=""+A,g.call(this,A)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Xi(r){r._valueTracker||(r._valueTracker=qu(r))}function $s(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=ml(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function ea(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var yi=/[\n"\\]/g;function Gt(r){return r.replace(yi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function We(r,s,o,c,d,g,A,R){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),s!=null?A==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Yn(s)):r.value!==""+Yn(s)&&(r.value=""+Yn(s)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),s!=null?ta(r,A,Yn(s)):o!=null?ta(r,A,Yn(o)):c!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+Yn(R):r.removeAttribute("name")}function ms(r,s,o,c,d,g,A,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+Yn(o):"",s=s!=null?""+Yn(s):o,R||s===r.value||(r.value=s),r.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=R?r.checked:!!c,r.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function ta(r,s,o){s==="number"&&ea(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function He(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Yn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function gs(r,s,o){if(s!=null&&(s=""+Yn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Yn(o):""}function vr(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(Ae(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Yn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function hi(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ho(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||na.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ia(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&ho(r,d,c)}else for(var g in s)s.hasOwnProperty(g)&&ho(r,g,s[g])}function fo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var po=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pi(r){return Gu.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _i=null;function jr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Sn=null,Li=null;function Er(r){var s=yr(r);if(s&&(r=s.stateNode)){var o=r[an]||null;e:switch(r=s.stateNode,s.type){case"input":if(We(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Gt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=c[an]||null;if(!d)throw Error(i(90));We(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&$s(c)}break e;case"textarea":gs(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&He(r,!!o.multiple,s,!1)}}}var mo=!1;function vi(r,s,o){if(mo)return r(s,o);mo=!0;try{var c=r(s);return c}finally{if(mo=!1,(Sn!==null||Li!==null)&&(Of(),Sn&&(s=Sn,r=Li,Li=Sn=null,Er(s),r)))for(s=0;s<r.length;s++)Er(r[s])}}function Hr(r,s){var o=r.stateNode;if(o===null)return null;var c=o[an]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Ei=!1;if(ei)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){Ei=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{Ei=!1}var Zi=null,Yr=null,Tr=null;function go(){if(Tr)return Tr;var r,s=Yr,o=s.length,c,d="value"in Zi?Zi.value:Zi.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var A=o-r;for(c=1;c<=A&&s[o-c]===d[g-c];c++);return Tr=d.slice(r,1<c?1-c:void 0)}function $i(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function er(){return!0}function yo(){return!1}function gn(r){function s(o,c,d,g,A){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?er:yo,this.isPropagationStopped=yo,this}return U(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),s}var Ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=gn(Ct),ys=U({},Ct,{view:0,detail:0}),_o=gn(ys),_s,ra,nr,zr=U({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==nr&&(nr&&r.type==="mousemove"?(_s=r.screenX-nr.screenX,ra=r.screenY-nr.screenY):ra=_s=0,nr=r),_s)},movementY:function(r){return"movementY"in r?r.movementY:ra}}),wi=gn(zr),gl=U({},zr,{dataTransfer:0}),ju=gn(gl),vs=U({},ys,{relatedTarget:0}),sa=gn(vs),vo=U({},Ct,{animationName:0,elapsedTime:0,pseudoElement:0}),aa=gn(vo),yl=U({},Ct,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),oa=gn(yl),Hu=U({},Ct,{data:0}),Eo=gn(Hu),Ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_l={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wo(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=vl[r])?!!s[r]:!1}function Qr(){return wo}var El=U({},ys,{key:function(r){if(r.key){var s=Ar[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=$i(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?_l[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(r){return r.type==="keypress"?$i(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$i(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),la=gn(El),To=U({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=gn(To),Cr=U({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),wl=gn(Cr),Tl=U({},Ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),Al=gn(Tl),Cl=U({},zr,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ua=gn(Cl),zn=U({},Ct,{newState:0,oldState:0}),bl=gn(zn),Sl=[9,13,27,32],ir=ei&&"CompositionEvent"in window,h=null;ei&&"documentMode"in document&&(h=document.documentMode);var y=ei&&"TextEvent"in window&&!h,w=ei&&(!ir||h&&8<h&&11>=h),D=" ",Z=!1;function ie(r,s){switch(r){case"keyup":return Sl.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ee(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var dt=!1;function on(r,s){switch(r){case"compositionend":return Ee(s);case"keypress":return s.which!==32?null:(Z=!0,D);case"textInput":return r=s.data,r===D&&Z?null:r;default:return null}}function pt(r,s){if(dt)return r==="compositionend"||!ir&&ie(r,s)?(r=go(),Tr=Yr=Zi=null,dt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ln(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!yn[r.type]:s==="textarea"}function br(r,s,o,c){Sn?Li?Li.push(c):Li=[c]:Sn=c,s=Bf(s,"onChange"),0<s.length&&(o=new tr("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Rn=null,gt=null;function ca(r){F0(r,0)}function Ti(r){var s=qr(r);if($s(s))return r}function Rl(r,s){if(r==="change")return s}var Yu=!1;if(ei){var it;if(ei){var Il="oninput"in document;if(!Il){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),Il=typeof zu.oninput=="function"}it=Il}else it=!1;Yu=it&&(!document.documentMode||9<document.documentMode)}function Qu(){Rn&&(Rn.detachEvent("onpropertychange",Ku),gt=Rn=null)}function Ku(r){if(r.propertyName==="value"&&Ti(gt)){var s=[];br(s,gt,r,jr(r)),vi(ca,s)}}function Hh(r,s,o){r==="focusin"?(Qu(),Rn=s,gt=o,Rn.attachEvent("onpropertychange",Ku)):r==="focusout"&&Qu()}function Yh(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ti(gt)}function zh(r,s){if(r==="click")return Ti(s)}function Qh(r,s){if(r==="input"||r==="change")return Ti(s)}function Wp(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var fi=typeof Object.is=="function"?Object.is:Wp;function Co(r,s){if(fi(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Lr.call(s,d)||!fi(r[d],s[d]))return!1}return!0}function Kh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Wh(r,s){var o=Kh(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Kh(o)}}function Jh(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Jh(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Xh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ea(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ea(r.document)}return s}function Wu(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Jp(r,s){var o=Xh(s);s=r.focusedElem;var c=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Jh(s.ownerDocument.documentElement,s)){if(c!==null&&Wu(s)){if(r=c.start,o=c.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var d=s.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!o.extend&&g>c&&(d=c,c=g,g=d),d=Wh(s,g);var A=Wh(s,c);d&&A&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==A.node||o.focusOffset!==A.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),o.removeAllRanges(),g>c?(o.addRange(r),o.extend(A.node,A.offset)):(r.setEnd(A.node,A.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Xp=ei&&"documentMode"in document&&11>=document.documentMode,ha=null,Ju=null,bo=null,Xu=!1;function Zh(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xu||ha==null||ha!==ea(c)||(c=ha,"selectionStart"in c&&Wu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bo&&Co(bo,c)||(bo=c,c=Bf(Ju,"onSelect"),0<c.length&&(s=new tr("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=ha)))}function Es(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var fa={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Zu={},$h={};ei&&($h=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function ws(r){if(Zu[r])return Zu[r];if(!fa[r])return r;var s=fa[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in $h)return Zu[r]=s[o];return r}var ef=ws("animationend"),tf=ws("animationiteration"),nf=ws("animationstart"),Zp=ws("transitionrun"),$p=ws("transitionstart"),em=ws("transitioncancel"),rf=ws("transitionend"),sf=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bi(r,s){sf.set(r,s),xn(s,[r])}var Ai=[],da=0,$u=0;function Dl(){for(var r=da,s=$u=da=0;s<r;){var o=Ai[s];Ai[s++]=null;var c=Ai[s];Ai[s++]=null;var d=Ai[s];Ai[s++]=null;var g=Ai[s];if(Ai[s++]=null,c!==null&&d!==null){var A=c.pending;A===null?d.next=d:(d.next=A.next,A.next=d),c.pending=d}g!==0&&E(o,d,g)}}function Ts(r,s,o,c){Ai[da++]=r,Ai[da++]=s,Ai[da++]=o,Ai[da++]=c,$u|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Nl(r,s,o,c){return Ts(r,s,o,c),S(r)}function v(r,s){return Ts(r,null,null,s),S(r)}function E(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;d&&s!==null&&r.tag===3&&(g=r.stateNode,d=31-jn(o),g=g.hiddenUpdates,r=g[d],r===null?g[d]=[s]:r.push(s),s.lane=o|536870912)}function S(r){if(50<Ac)throw Ac=0,ig=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var k={},G=new WeakMap;function z(r,s){if(typeof r=="object"&&r!==null){var o=G.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ce(s)},G.set(r,s),s)}return{value:r,source:s,stack:Ce(s)}}var $=[],W=0,le=null,ge=0,_e=[],Ie=0,Ze=null,$e=1,yt="";function kt(r,s){$[W++]=ge,$[W++]=le,le=r,ge=s}function zt(r,s,o){_e[Ie++]=$e,_e[Ie++]=yt,_e[Ie++]=Ze,Ze=r;var c=$e;r=yt;var d=32-jn(c)-1;c&=~(1<<d),o+=1;var g=32-jn(s)+d;if(30<g){var A=d-d%5;g=(c&(1<<A)-1).toString(32),c>>=A,d-=A,$e=1<<32-jn(s)+d|o<<d|c,yt=g+r}else $e=1<<g|o<<d|c,yt=r}function Ht(r){r.return!==null&&(kt(r,1),zt(r,1,0))}function Sr(r){for(;r===le;)le=$[--W],$[W]=null,ge=$[--W],$[W]=null;for(;r===Ze;)Ze=_e[--Ie],_e[Ie]=null,yt=_e[--Ie],_e[Ie]=null,$e=_e[--Ie],_e[Ie]=null}var St=null,Pt=null,lt=!1,Vi=null,Ui=!1,Ml=Error(i(519));function Kr(r){var s=Error(i(418,""));throw tc(z(s,r)),Ml}function So(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[mn]=r,s[an]=c,o){case"dialog":mt("cancel",s),mt("close",s);break;case"iframe":case"object":case"embed":mt("load",s);break;case"video":case"audio":for(o=0;o<bc.length;o++)mt(bc[o],s);break;case"source":mt("error",s);break;case"img":case"image":case"link":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"input":mt("invalid",s),ms(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Xi(s);break;case"select":mt("invalid",s);break;case"textarea":mt("invalid",s),vr(s,c.value,c.defaultValue,c.children),Xi(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||H0(s.textContent,o)?(c.popover!=null&&(mt("beforetoggle",s),mt("toggle",s)),c.onScroll!=null&&mt("scroll",s),c.onScrollEnd!=null&&mt("scrollend",s),c.onClick!=null&&(s.onclick=Vf),s=!0):s=!1,s||Kr(r)}function Ro(r){for(St=r.return;St;)switch(St.tag){case 3:case 27:Ui=!0;return;case 5:case 13:Ui=!1;return;default:St=St.return}}function pa(r){if(r!==St)return!1;if(!lt)return Ro(r),lt=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Eg(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&Pt&&Kr(r),Ro(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Pt=Ir(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Pt=null}}else Pt=St?Ir(r.stateNode.nextSibling):null;return!0}function ec(){Pt=St=null,lt=!1}function tc(r){Vi===null?Vi=[r]:Vi.push(r)}var nc=Error(i(460)),Bv=Error(i(474)),tm={then:function(){}};function Vv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function of(){}function Uv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(of,of),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===nc?Error(i(483)):r;default:if(typeof s.status=="string")s.then(of,of);else{if(r=Bt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===nc?Error(i(483)):r}throw ic=s,nc}}var ic=null;function Fv(){if(ic===null)throw Error(i(459));var r=ic;return ic=null,r}var Ol=null,rc=0;function lf(r){var s=rc;return rc+=1,Ol===null&&(Ol=[]),Uv(Ol,r,s)}function sc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function uf(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function qv(r){var s=r._init;return s(r._payload)}function Gv(r){function s(J,Q){if(r){var ee=J.deletions;ee===null?(J.deletions=[Q],J.flags|=16):ee.push(Q)}}function o(J,Q){if(!r)return null;for(;Q!==null;)s(J,Q),Q=Q.sibling;return null}function c(J){for(var Q=new Map;J!==null;)J.key!==null?Q.set(J.key,J):Q.set(J.index,J),J=J.sibling;return Q}function d(J,Q){return J=Sa(J,Q),J.index=0,J.sibling=null,J}function g(J,Q,ee){return J.index=ee,r?(ee=J.alternate,ee!==null?(ee=ee.index,ee<Q?(J.flags|=33554434,Q):ee):(J.flags|=33554434,Q)):(J.flags|=1048576,Q)}function A(J){return r&&J.alternate===null&&(J.flags|=33554434),J}function R(J,Q,ee,he){return Q===null||Q.tag!==6?(Q=Wm(ee,J.mode,he),Q.return=J,Q):(Q=d(Q,ee),Q.return=J,Q)}function V(J,Q,ee,he){var De=ee.type;return De===p?ue(J,Q,ee.props.children,he,ee.key):Q!==null&&(Q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===P&&qv(De)===Q.type)?(Q=d(Q,ee.props),sc(Q,ee),Q.return=J,Q):(Q=Rf(ee.type,ee.key,ee.props,null,J.mode,he),sc(Q,ee),Q.return=J,Q)}function K(J,Q,ee,he){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ee.containerInfo||Q.stateNode.implementation!==ee.implementation?(Q=Jm(ee,J.mode,he),Q.return=J,Q):(Q=d(Q,ee.children||[]),Q.return=J,Q)}function ue(J,Q,ee,he,De){return Q===null||Q.tag!==7?(Q=Bo(ee,J.mode,he,De),Q.return=J,Q):(Q=d(Q,ee),Q.return=J,Q)}function de(J,Q,ee){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Wm(""+Q,J.mode,ee),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return ee=Rf(Q.type,Q.key,Q.props,null,J.mode,ee),sc(ee,Q),ee.return=J,ee;case f:return Q=Jm(Q,J.mode,ee),Q.return=J,Q;case P:var he=Q._init;return Q=he(Q._payload),de(J,Q,ee)}if(Ae(Q)||pe(Q))return Q=Bo(Q,J.mode,ee,null),Q.return=J,Q;if(typeof Q.then=="function")return de(J,lf(Q),ee);if(Q.$$typeof===C)return de(J,Cf(J,Q),ee);uf(J,Q)}return null}function te(J,Q,ee,he){var De=Q!==null?Q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return De!==null?null:R(J,Q,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:return ee.key===De?V(J,Q,ee,he):null;case f:return ee.key===De?K(J,Q,ee,he):null;case P:return De=ee._init,ee=De(ee._payload),te(J,Q,ee,he)}if(Ae(ee)||pe(ee))return De!==null?null:ue(J,Q,ee,he,null);if(typeof ee.then=="function")return te(J,Q,lf(ee),he);if(ee.$$typeof===C)return te(J,Q,Cf(J,ee),he);uf(J,ee)}return null}function ae(J,Q,ee,he,De){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return J=J.get(ee)||null,R(Q,J,""+he,De);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case u:return J=J.get(he.key===null?ee:he.key)||null,V(Q,J,he,De);case f:return J=J.get(he.key===null?ee:he.key)||null,K(Q,J,he,De);case P:var st=he._init;return he=st(he._payload),ae(J,Q,ee,he,De)}if(Ae(he)||pe(he))return J=J.get(ee)||null,ue(Q,J,he,De,null);if(typeof he.then=="function")return ae(J,Q,ee,lf(he),De);if(he.$$typeof===C)return ae(J,Q,ee,Cf(Q,he),De);uf(Q,he)}return null}function Oe(J,Q,ee,he){for(var De=null,st=null,xe=Q,Be=Q=0,Ln=null;xe!==null&&Be<ee.length;Be++){xe.index>Be?(Ln=xe,xe=null):Ln=xe.sibling;var bt=te(J,xe,ee[Be],he);if(bt===null){xe===null&&(xe=Ln);break}r&&xe&&bt.alternate===null&&s(J,xe),Q=g(bt,Q,Be),st===null?De=bt:st.sibling=bt,st=bt,xe=Ln}if(Be===ee.length)return o(J,xe),lt&&kt(J,Be),De;if(xe===null){for(;Be<ee.length;Be++)xe=de(J,ee[Be],he),xe!==null&&(Q=g(xe,Q,Be),st===null?De=xe:st.sibling=xe,st=xe);return lt&&kt(J,Be),De}for(xe=c(xe);Be<ee.length;Be++)Ln=ae(xe,J,Be,ee[Be],he),Ln!==null&&(r&&Ln.alternate!==null&&xe.delete(Ln.key===null?Be:Ln.key),Q=g(Ln,Q,Be),st===null?De=Ln:st.sibling=Ln,st=Ln);return r&&xe.forEach(function(xa){return s(J,xa)}),lt&&kt(J,Be),De}function Ye(J,Q,ee,he){if(ee==null)throw Error(i(151));for(var De=null,st=null,xe=Q,Be=Q=0,Ln=null,bt=ee.next();xe!==null&&!bt.done;Be++,bt=ee.next()){xe.index>Be?(Ln=xe,xe=null):Ln=xe.sibling;var xa=te(J,xe,bt.value,he);if(xa===null){xe===null&&(xe=Ln);break}r&&xe&&xa.alternate===null&&s(J,xe),Q=g(xa,Q,Be),st===null?De=xa:st.sibling=xa,st=xa,xe=Ln}if(bt.done)return o(J,xe),lt&&kt(J,Be),De;if(xe===null){for(;!bt.done;Be++,bt=ee.next())bt=de(J,bt.value,he),bt!==null&&(Q=g(bt,Q,Be),st===null?De=bt:st.sibling=bt,st=bt);return lt&&kt(J,Be),De}for(xe=c(xe);!bt.done;Be++,bt=ee.next())bt=ae(xe,J,Be,bt.value,he),bt!==null&&(r&&bt.alternate!==null&&xe.delete(bt.key===null?Be:bt.key),Q=g(bt,Q,Be),st===null?De=bt:st.sibling=bt,st=bt);return r&&xe.forEach(function(H1){return s(J,H1)}),lt&&kt(J,Be),De}function en(J,Q,ee,he){if(typeof ee=="object"&&ee!==null&&ee.type===p&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:e:{for(var De=ee.key;Q!==null;){if(Q.key===De){if(De=ee.type,De===p){if(Q.tag===7){o(J,Q.sibling),he=d(Q,ee.props.children),he.return=J,J=he;break e}}else if(Q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===P&&qv(De)===Q.type){o(J,Q.sibling),he=d(Q,ee.props),sc(he,ee),he.return=J,J=he;break e}o(J,Q);break}else s(J,Q);Q=Q.sibling}ee.type===p?(he=Bo(ee.props.children,J.mode,he,ee.key),he.return=J,J=he):(he=Rf(ee.type,ee.key,ee.props,null,J.mode,he),sc(he,ee),he.return=J,J=he)}return A(J);case f:e:{for(De=ee.key;Q!==null;){if(Q.key===De)if(Q.tag===4&&Q.stateNode.containerInfo===ee.containerInfo&&Q.stateNode.implementation===ee.implementation){o(J,Q.sibling),he=d(Q,ee.children||[]),he.return=J,J=he;break e}else{o(J,Q);break}else s(J,Q);Q=Q.sibling}he=Jm(ee,J.mode,he),he.return=J,J=he}return A(J);case P:return De=ee._init,ee=De(ee._payload),en(J,Q,ee,he)}if(Ae(ee))return Oe(J,Q,ee,he);if(pe(ee)){if(De=pe(ee),typeof De!="function")throw Error(i(150));return ee=De.call(ee),Ye(J,Q,ee,he)}if(typeof ee.then=="function")return en(J,Q,lf(ee),he);if(ee.$$typeof===C)return en(J,Q,Cf(J,ee),he);uf(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Q!==null&&Q.tag===6?(o(J,Q.sibling),he=d(Q,ee),he.return=J,J=he):(o(J,Q),he=Wm(ee,J.mode,he),he.return=J,J=he),A(J)):o(J,Q)}return function(J,Q,ee,he){try{rc=0;var De=en(J,Q,ee,he);return Ol=null,De}catch(xe){if(xe===nc)throw xe;var st=or(29,xe,null,J.mode);return st.lanes=he,st.return=J,st}finally{}}}var Io=Gv(!0),jv=Gv(!1),xl=Me(null),cf=Me(0);function Hv(r,s){r=xs,Qe(cf,r),Qe(xl,s),xs=r|s.baseLanes}function nm(){Qe(cf,xs),Qe(xl,xl.current)}function im(){xs=cf.current,je(xl),je(cf)}var rr=Me(null),Wr=null;function ma(r){var s=r.alternate;Qe(In,In.current&1),Qe(rr,r),Wr===null&&(s===null||xl.current!==null||s.memoizedState!==null)&&(Wr=r)}function Yv(r){if(r.tag===22){if(Qe(In,In.current),Qe(rr,r),Wr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Wr=r)}}else ga()}function ga(){Qe(In,In.current),Qe(rr,rr.current)}function As(r){je(rr),Wr===r&&(Wr=null),je(In)}var In=Me(0);function hf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var MI=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},OI=n.unstable_scheduleCallback,xI=n.unstable_NormalPriority,Dn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new MI,data:new Map,refCount:0}}function ac(r){r.refCount--,r.refCount===0&&OI(xI,function(){r.controller.abort()})}var oc=null,sm=0,kl=0,Pl=null;function kI(r,s){if(oc===null){var o=oc=[];sm=0,kl=hg(),Pl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return sm++,s.then(zv,zv),s}function zv(){if(--sm===0&&oc!==null){Pl!==null&&(Pl.status="fulfilled");var r=oc;oc=null,kl=0,Pl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function PI(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Qv=M.S;M.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&kI(r,s),Qv!==null&&Qv(r,s)};var Do=Me(null);function am(){var r=Do.current;return r!==null?r:Bt.pooledCache}function ff(r,s){s===null?Qe(Do,Do.current):Qe(Do,s.pool)}function Kv(){var r=am();return r===null?null:{parent:Dn._currentValue,pool:r}}var ya=0,rt=null,Nt=null,_n=null,df=!1,Ll=!1,No=!1,pf=0,lc=0,Bl=null,LI=0;function un(){throw Error(i(321))}function om(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!fi(r[o],s[o]))return!1;return!0}function lm(r,s,o,c,d,g){return ya=g,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,M.H=r===null||r.memoizedState===null?Mo:_a,No=!1,g=o(c,d),No=!1,Ll&&(g=Jv(s,o,c,d)),Wv(r),g}function Wv(r){M.H=Jr;var s=Nt!==null&&Nt.next!==null;if(ya=0,_n=Nt=rt=null,df=!1,lc=0,Bl=null,s)throw Error(i(300));r===null||kn||(r=r.dependencies,r!==null&&Af(r)&&(kn=!0))}function Jv(r,s,o,c){rt=r;var d=0;do{if(Ll&&(Bl=null),lc=0,Ll=!1,25<=d)throw Error(i(301));if(d+=1,_n=Nt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}M.H=Oo,g=s(o,c)}while(Ll);return g}function BI(){var r=M.H,s=r.useState()[0];return s=typeof s.then=="function"?uc(s):s,r=r.useState()[0],(Nt!==null?Nt.memoizedState:null)!==r&&(rt.flags|=1024),s}function um(){var r=pf!==0;return pf=0,r}function cm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function hm(r){if(df){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}df=!1}ya=0,_n=Nt=rt=null,Ll=!1,lc=pf=0,Bl=null}function Ci(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?rt.memoizedState=_n=r:_n=_n.next=r,_n}function vn(){if(Nt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=Nt.next;var s=_n===null?rt.memoizedState:_n.next;if(s!==null)_n=s,Nt=r;else{if(r===null)throw rt.alternate===null?Error(i(467)):Error(i(310));Nt=r,r={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},_n===null?rt.memoizedState=_n=r:_n=_n.next=r}return _n}var mf;mf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function uc(r){var s=lc;return lc+=1,Bl===null&&(Bl=[]),r=Uv(Bl,r,s),s=rt,(_n===null?s.memoizedState:_n.next)===null&&(s=s.alternate,M.H=s===null||s.memoizedState===null?Mo:_a),r}function gf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return uc(r);if(r.$$typeof===C)return ti(r)}throw Error(i(438,String(r)))}function fm(r){var s=null,o=rt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=rt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=mf(),rt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=ne;return s.index++,o}function Cs(r,s){return typeof s=="function"?s(r):s}function yf(r){var s=vn();return dm(s,Nt,r)}function dm(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=r.baseQueue,g=c.pending;if(g!==null){if(d!==null){var A=d.next;d.next=g.next,g.next=A}s.baseQueue=d=g,c.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var R=A=null,V=null,K=s,ue=!1;do{var de=K.lane&-536870913;if(de!==K.lane?(_t&de)===de:(ya&de)===de){var te=K.revertLane;if(te===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),de===kl&&(ue=!0);else if((ya&te)===te){K=K.next,te===kl&&(ue=!0);continue}else de={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(R=V=de,A=g):V=V.next=de,rt.lanes|=te,Ra|=te;de=K.action,No&&o(g,de),g=K.hasEagerState?K.eagerState:o(g,de)}else te={lane:de,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(R=V=te,A=g):V=V.next=te,rt.lanes|=de,Ra|=de;K=K.next}while(K!==null&&K!==s);if(V===null?A=g:V.next=R,!fi(g,r.memoizedState)&&(kn=!0,ue&&(o=Pl,o!==null)))throw o;r.memoizedState=g,r.baseState=A,r.baseQueue=V,c.lastRenderedState=g}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function pm(r){var s=vn(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var A=d=d.next;do g=r(g,A.action),A=A.next;while(A!==d);fi(g,s.memoizedState)||(kn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function Xv(r,s,o){var c=rt,d=vn(),g=lt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var A=!fi((Nt||d).memoizedState,o);if(A&&(d.memoizedState=o,kn=!0),d=d.queue,ym(eE.bind(null,c,d,r),[r]),d.getSnapshot!==s||A||_n!==null&&_n.memoizedState.tag&1){if(c.flags|=2048,Vl(9,$v.bind(null,c,d,o,s),{destroy:void 0},null),Bt===null)throw Error(i(349));g||ya&60||Zv(c,s,o)}return o}function Zv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=rt.updateQueue,s===null?(s=mf(),rt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function $v(r,s,o,c){s.value=o,s.getSnapshot=c,tE(s)&&nE(r)}function eE(r,s,o){return o(function(){tE(s)&&nE(r)})}function tE(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!fi(r,o)}catch{return!0}}function nE(r){var s=v(r,2);s!==null&&di(s,r,2)}function mm(r){var s=Ci();if(typeof r=="function"){var o=r;if(r=o(),No){Ki(!0);try{o()}finally{Ki(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:r},s}function iE(r,s,o,c){return r.baseState=o,dm(r,Nt,typeof c=="function"?c:Cs)}function VI(r,s,o,c,d){if(Ef(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};M.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,rE(s,g)):(g.next=o.next,s.pending=o.next=g)}}function rE(r,s){var o=s.action,c=s.payload,d=r.state;if(s.isTransition){var g=M.T,A={};M.T=A;try{var R=o(d,c),V=M.S;V!==null&&V(A,R),sE(r,s,R)}catch(K){gm(r,s,K)}finally{M.T=g}}else try{g=o(d,c),sE(r,s,g)}catch(K){gm(r,s,K)}}function sE(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){aE(r,s,c)},function(c){return gm(r,s,c)}):aE(r,s,o)}function aE(r,s,o){s.status="fulfilled",s.value=o,oE(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,rE(r,o)))}function gm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,oE(s),s=s.next;while(s!==c)}r.action=null}function oE(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function lE(r,s){return s}function uE(r,s){if(lt){var o=Bt.formState;if(o!==null){e:{var c=rt;if(lt){if(Pt){t:{for(var d=Pt,g=Ui;d.nodeType!==8;){if(!g){d=null;break t}if(d=Ir(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Pt=Ir(d.nextSibling),c=d.data==="F!";break e}}Kr(c)}c=!1}c&&(s=o[0])}}return o=Ci(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lE,lastRenderedState:s},o.queue=c,o=RE.bind(null,rt,c),c.dispatch=o,c=mm(!1),g=Tm.bind(null,rt,!1,c.queue),c=Ci(),d={state:s,dispatch:null,action:r,pending:null},c.queue=d,o=VI.bind(null,rt,d,g,o),d.dispatch=o,c.memoizedState=r,[s,o,!1]}function cE(r){var s=vn();return hE(s,Nt,r)}function hE(r,s,o){s=dm(r,s,lE)[0],r=yf(Cs)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?uc(s):s;var c=vn(),d=c.queue,g=d.dispatch;return o!==c.memoizedState&&(rt.flags|=2048,Vl(9,UI.bind(null,d,o),{destroy:void 0},null)),[s,g,r]}function UI(r,s){r.action=s}function fE(r){var s=vn(),o=Nt;if(o!==null)return hE(s,o,r);vn(),s=s.memoizedState,o=vn();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Vl(r,s,o,c){return r={tag:r,create:s,inst:o,deps:c,next:null},s=rt.updateQueue,s===null&&(s=mf(),rt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function dE(){return vn().memoizedState}function _f(r,s,o,c){var d=Ci();rt.flags|=r,d.memoizedState=Vl(1|s,o,{destroy:void 0},c===void 0?null:c)}function vf(r,s,o,c){var d=vn();c=c===void 0?null:c;var g=d.memoizedState.inst;Nt!==null&&c!==null&&om(c,Nt.memoizedState.deps)?d.memoizedState=Vl(s,o,g,c):(rt.flags|=r,d.memoizedState=Vl(1|s,o,g,c))}function pE(r,s){_f(8390656,8,r,s)}function ym(r,s){vf(2048,8,r,s)}function mE(r,s){return vf(4,2,r,s)}function gE(r,s){return vf(4,4,r,s)}function yE(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function _E(r,s,o){o=o!=null?o.concat([r]):null,vf(4,4,yE.bind(null,s,r),o)}function _m(){}function vE(r,s){var o=vn();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&om(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function EE(r,s){var o=vn();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&om(s,c[1]))return c[0];if(c=r(),No){Ki(!0);try{r()}finally{Ki(!1)}}return o.memoizedState=[c,s],c}function vm(r,s,o){return o===void 0||ya&1073741824?r.memoizedState=s:(r.memoizedState=o,r=T0(),rt.lanes|=r,Ra|=r,o)}function wE(r,s,o,c){return fi(o,s)?o:xl.current!==null?(r=vm(r,o,c),fi(r,s)||(kn=!0),r):ya&42?(r=T0(),rt.lanes|=r,Ra|=r,s):(kn=!0,r.memoizedState=o)}function TE(r,s,o,c,d){var g=we.p;we.p=g!==0&&8>g?g:8;var A=M.T,R={};M.T=R,Tm(r,!1,s,o);try{var V=d(),K=M.S;if(K!==null&&K(R,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ue=PI(V,c);cc(r,s,ue,ji(r))}else cc(r,s,c,ji(r))}catch(de){cc(r,s,{then:function(){},status:"rejected",reason:de},ji())}finally{we.p=g,M.T=A}}function FI(){}function Em(r,s,o,c){if(r.tag!==5)throw Error(i(476));var d=AE(r).queue;TE(r,d,s,Ne,o===null?FI:function(){return CE(r),o(c)})}function AE(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:Ne},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function CE(r){var s=AE(r).next.queue;cc(r,s,{},ji())}function wm(){return ti(Nc)}function bE(){return vn().memoizedState}function SE(){return vn().memoizedState}function qI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=ji();r=wa(o);var c=Ta(s,r,o);c!==null&&(di(c,s,o),dc(c,s,o)),s={cache:rm()},r.payload=s;return}s=s.return}}function GI(r,s,o){var c=ji();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ef(r)?IE(s,o):(o=Nl(r,s,o,c),o!==null&&(di(o,r,c),DE(o,s,c)))}function RE(r,s,o){var c=ji();cc(r,s,o,c)}function cc(r,s,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ef(r))IE(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var A=s.lastRenderedState,R=g(A,o);if(d.hasEagerState=!0,d.eagerState=R,fi(R,A))return Ts(r,s,d,0),Bt===null&&Dl(),!1}catch{}finally{}if(o=Nl(r,s,d,c),o!==null)return di(o,r,c),DE(o,s,c),!0}return!1}function Tm(r,s,o,c){if(c={lane:2,revertLane:hg(),action:c,hasEagerState:!1,eagerState:null,next:null},Ef(r)){if(s)throw Error(i(479))}else s=Nl(r,o,c,2),s!==null&&di(s,r,2)}function Ef(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function IE(r,s){Ll=df=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function DE(r,s,o){if(o&4194176){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ci(r,o)}}var Jr={readContext:ti,use:gf,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un};Jr.useCacheRefresh=un,Jr.useMemoCache=un,Jr.useHostTransitionStatus=un,Jr.useFormState=un,Jr.useActionState=un,Jr.useOptimistic=un;var Mo={readContext:ti,use:gf,useCallback:function(r,s){return Ci().memoizedState=[r,s===void 0?null:s],r},useContext:ti,useEffect:pE,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,_f(4194308,4,yE.bind(null,s,r),o)},useLayoutEffect:function(r,s){return _f(4194308,4,r,s)},useInsertionEffect:function(r,s){_f(4,2,r,s)},useMemo:function(r,s){var o=Ci();s=s===void 0?null:s;var c=r();if(No){Ki(!0);try{r()}finally{Ki(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Ci();if(o!==void 0){var d=o(s);if(No){Ki(!0);try{o(s)}finally{Ki(!1)}}}else d=s;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=GI.bind(null,rt,r),[c.memoizedState,r]},useRef:function(r){var s=Ci();return r={current:r},s.memoizedState=r},useState:function(r){r=mm(r);var s=r.queue,o=RE.bind(null,rt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:_m,useDeferredValue:function(r,s){var o=Ci();return vm(o,r,s)},useTransition:function(){var r=mm(!1);return r=TE.bind(null,rt,r.queue,!0,!1),Ci().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=rt,d=Ci();if(lt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Bt===null)throw Error(i(349));_t&60||Zv(c,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,pE(eE.bind(null,c,g,r),[r]),c.flags|=2048,Vl(9,$v.bind(null,c,g,o,s),{destroy:void 0},null),o},useId:function(){var r=Ci(),s=Bt.identifierPrefix;if(lt){var o=yt,c=$e;o=(c&~(1<<32-jn(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=pf++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=LI++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Ci().memoizedState=qI.bind(null,rt)}};Mo.useMemoCache=fm,Mo.useHostTransitionStatus=wm,Mo.useFormState=uE,Mo.useActionState=uE,Mo.useOptimistic=function(r){var s=Ci();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Tm.bind(null,rt,!0,o),o.dispatch=s,[r,s]};var _a={readContext:ti,use:gf,useCallback:vE,useContext:ti,useEffect:ym,useImperativeHandle:_E,useInsertionEffect:mE,useLayoutEffect:gE,useMemo:EE,useReducer:yf,useRef:dE,useState:function(){return yf(Cs)},useDebugValue:_m,useDeferredValue:function(r,s){var o=vn();return wE(o,Nt.memoizedState,r,s)},useTransition:function(){var r=yf(Cs)[0],s=vn().memoizedState;return[typeof r=="boolean"?r:uc(r),s]},useSyncExternalStore:Xv,useId:bE};_a.useCacheRefresh=SE,_a.useMemoCache=fm,_a.useHostTransitionStatus=wm,_a.useFormState=cE,_a.useActionState=cE,_a.useOptimistic=function(r,s){var o=vn();return iE(o,Nt,r,s)};var Oo={readContext:ti,use:gf,useCallback:vE,useContext:ti,useEffect:ym,useImperativeHandle:_E,useInsertionEffect:mE,useLayoutEffect:gE,useMemo:EE,useReducer:pm,useRef:dE,useState:function(){return pm(Cs)},useDebugValue:_m,useDeferredValue:function(r,s){var o=vn();return Nt===null?vm(o,r,s):wE(o,Nt.memoizedState,r,s)},useTransition:function(){var r=pm(Cs)[0],s=vn().memoizedState;return[typeof r=="boolean"?r:uc(r),s]},useSyncExternalStore:Xv,useId:bE};Oo.useCacheRefresh=SE,Oo.useMemoCache=fm,Oo.useHostTransitionStatus=wm,Oo.useFormState=fE,Oo.useActionState=fE,Oo.useOptimistic=function(r,s){var o=vn();return Nt!==null?iE(o,Nt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function Am(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:U({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Cm={isMounted:function(r){return(r=r._reactInternals)?Te(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var c=ji(),d=wa(c);d.payload=s,o!=null&&(d.callback=o),s=Ta(r,d,c),s!==null&&(di(s,r,c),dc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=ji(),d=wa(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Ta(r,d,c),s!==null&&(di(s,r,c),dc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=ji(),c=wa(o);c.tag=2,s!=null&&(c.callback=s),s=Ta(r,c,o),s!==null&&(di(s,r,o),dc(s,r,o))}};function NE(r,s,o,c,d,g,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,A):s.prototype&&s.prototype.isPureReactComponent?!Co(o,c)||!Co(d,g):!0}function ME(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Cm.enqueueReplaceState(s,s.state,null)}function xo(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=U({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var wf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function OE(r){wf(r)}function xE(r){console.error(r)}function kE(r){wf(r)}function Tf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function PE(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function bm(r,s,o){return o=wa(o),o.tag=3,o.payload={element:null},o.callback=function(){Tf(r,s)},o}function LE(r){return r=wa(r),r.tag=3,r}function BE(r,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;r.payload=function(){return d(g)},r.callback=function(){PE(s,o,c)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){PE(s,o,c),typeof d!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function jI(r,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&fc(s,o,d,!0),o=rr.current,o!==null){switch(o.tag){case 13:return Wr===null?ag():o.alternate===null&&$t===0&&($t=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===tm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),lg(r,c,d)),!1;case 22:return o.flags|=65536,c===tm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),lg(r,c,d)),!1}throw Error(i(435,o.tag))}return lg(r,c,d),ag(),!1}if(lt)return s=rr.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Ml&&(r=Error(i(422),{cause:c}),tc(z(r,o)))):(c!==Ml&&(s=Error(i(423),{cause:c}),tc(z(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=z(c,o),d=bm(r.stateNode,c,d),Fm(r,d),$t!==4&&($t=2)),!1;var g=Error(i(520),{cause:c});if(g=z(g,o),wc===null?wc=[g]:wc.push(g),$t!==4&&($t=2),s===null)return!0;c=z(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=bm(o.stateNode,c,r),Fm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ia===null||!Ia.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=LE(d),BE(d,r,o,c),Fm(o,d),!1}o=o.return}while(o!==null);return!1}var VE=Error(i(461)),kn=!1;function Qn(r,s,o,c){s.child=r===null?jv(s,null,o,c):Io(s,r.child,o,c)}function UE(r,s,o,c,d){o=o.render;var g=s.ref;if("ref"in c){var A={};for(var R in c)R!=="ref"&&(A[R]=c[R])}else A=c;return Po(s),c=lm(r,s,o,A,g,d),R=um(),r!==null&&!kn?(cm(r,s,d),bs(r,s,d)):(lt&&R&&Ht(s),s.flags|=1,Qn(r,s,c,d),s.child)}function FE(r,s,o,c,d){if(r===null){var g=o.type;return typeof g=="function"&&!Km(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,qE(r,s,g,c,d)):(r=Rf(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!km(r,d)){var A=g.memoizedProps;if(o=o.compare,o=o!==null?o:Co,o(A,c)&&r.ref===s.ref)return bs(r,s,d)}return s.flags|=1,r=Sa(g,c),r.ref=s.ref,r.return=s,s.child=r}function qE(r,s,o,c,d){if(r!==null){var g=r.memoizedProps;if(Co(g,c)&&r.ref===s.ref)if(kn=!1,s.pendingProps=c=g,km(r,d))r.flags&131072&&(kn=!0);else return s.lanes=r.lanes,bs(r,s,d)}return Sm(r,s,o,c,d)}function GE(r,s,o){var c=s.pendingProps,d=c.children,g=(s.stateNode._pendingVisibility&2)!==0,A=r!==null?r.memoizedState:null;if(hc(r,s),c.mode==="hidden"||g){if(s.flags&128){if(c=A!==null?A.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return jE(r,s,c,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ff(s,A!==null?A.cachePool:null),A!==null?Hv(s,A):nm(),Yv(s);else return s.lanes=s.childLanes=536870912,jE(r,s,A!==null?A.baseLanes|o:o,o)}else A!==null?(ff(s,A.cachePool),Hv(s,A),ga(),s.memoizedState=null):(r!==null&&ff(s,null),nm(),ga());return Qn(r,s,d,o),s.child}function jE(r,s,o,c){var d=am();return d=d===null?null:{parent:Dn._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&ff(s,null),nm(),Yv(s),r!==null&&fc(r,s,c,!0),null}function hc(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Sm(r,s,o,c,d){return Po(s),o=lm(r,s,o,c,void 0,d),c=um(),r!==null&&!kn?(cm(r,s,d),bs(r,s,d)):(lt&&c&&Ht(s),s.flags|=1,Qn(r,s,o,d),s.child)}function HE(r,s,o,c,d,g){return Po(s),s.updateQueue=null,o=Jv(s,c,o,d),Wv(r),c=um(),r!==null&&!kn?(cm(r,s,g),bs(r,s,g)):(lt&&c&&Ht(s),s.flags|=1,Qn(r,s,o,g),s.child)}function YE(r,s,o,c,d){if(Po(s),s.stateNode===null){var g=k,A=o.contextType;typeof A=="object"&&A!==null&&(g=ti(A)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Cm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Vm(s),A=o.contextType,g.context=typeof A=="object"&&A!==null?ti(A):k,g.state=s.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(Am(s,o,A,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&Cm.enqueueReplaceState(g,g.state,null),mc(s,c,g,d),pc(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var R=s.memoizedProps,V=xo(o,R);g.props=V;var K=g.context,ue=o.contextType;A=k,typeof ue=="object"&&ue!==null&&(A=ti(ue));var de=o.getDerivedStateFromProps;ue=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ue||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||K!==A)&&ME(s,g,c,A),Ea=!1;var te=s.memoizedState;g.state=te,mc(s,c,g,d),pc(),K=s.memoizedState,R||te!==K||Ea?(typeof de=="function"&&(Am(s,o,de,c),K=s.memoizedState),(V=Ea||NE(s,o,V,c,te,K,A))?(ue||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=A,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Um(r,s),A=s.memoizedProps,ue=xo(o,A),g.props=ue,de=s.pendingProps,te=g.context,K=o.contextType,V=k,typeof K=="object"&&K!==null&&(V=ti(K)),R=o.getDerivedStateFromProps,(K=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==de||te!==V)&&ME(s,g,c,V),Ea=!1,te=s.memoizedState,g.state=te,mc(s,c,g,d),pc();var ae=s.memoizedState;A!==de||te!==ae||Ea||r!==null&&r.dependencies!==null&&Af(r.dependencies)?(typeof R=="function"&&(Am(s,o,R,c),ae=s.memoizedState),(ue=Ea||NE(s,o,ue,c,te,ae,V)||r!==null&&r.dependencies!==null&&Af(r.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ae,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ae,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ae),g.props=c,g.state=ae,g.context=V,c=ue):(typeof g.componentDidUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,hc(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Io(s,r.child,null,d),s.child=Io(s,null,o,d)):Qn(r,s,o,d),s.memoizedState=g.state,r=s.child):r=bs(r,s,d),r}function zE(r,s,o,c){return ec(),s.flags|=256,Qn(r,s,o,c),s.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Im(r){return{baseLanes:r,cachePool:Kv()}}function Dm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=lr),r}function QE(r,s,o){var c=s.pendingProps,d=!1,g=(s.flags&128)!==0,A;if((A=g)||(A=r!==null&&r.memoizedState===null?!1:(In.current&2)!==0),A&&(d=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,r===null){if(lt){if(d?ma(s):ga(),lt){var R=Pt,V;if(V=R){e:{for(V=R,R=Ui;V.nodeType!==8;){if(!R){R=null;break e}if(V=Ir(V.nextSibling),V===null){R=null;break e}}R=V}R!==null?(s.memoizedState={dehydrated:R,treeContext:Ze!==null?{id:$e,overflow:yt}:null,retryLane:536870912},V=or(18,null,null,0),V.stateNode=R,V.return=s,s.child=V,St=s,Pt=null,V=!0):V=!1}V||Kr(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?s.lanes=16:s.lanes=536870912,null;As(s)}return R=c.children,c=c.fallback,d?(ga(),d=s.mode,R=Mm({mode:"hidden",children:R},d),c=Bo(c,d,o,null),R.return=s,c.return=s,R.sibling=c,s.child=R,d=s.child,d.memoizedState=Im(o),d.childLanes=Dm(r,A,o),s.memoizedState=Rm,c):(ma(s),Nm(s,R))}if(V=r.memoizedState,V!==null&&(R=V.dehydrated,R!==null)){if(g)s.flags&256?(ma(s),s.flags&=-257,s=Om(r,s,o)):s.memoizedState!==null?(ga(),s.child=r.child,s.flags|=128,s=null):(ga(),d=c.fallback,R=s.mode,c=Mm({mode:"visible",children:c.children},R),d=Bo(d,R,o,null),d.flags|=2,c.return=s,d.return=s,c.sibling=d,s.child=c,Io(s,r.child,null,o),c=s.child,c.memoizedState=Im(o),c.childLanes=Dm(r,A,o),s.memoizedState=Rm,s=d);else if(ma(s),R.data==="$!"){if(A=R.nextSibling&&R.nextSibling.dataset,A)var K=A.dgst;A=K,c=Error(i(419)),c.stack="",c.digest=A,tc({value:c,source:null,stack:null}),s=Om(r,s,o)}else if(kn||fc(r,s,o,!1),A=(o&r.childLanes)!==0,kn||A){if(A=Bt,A!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(A.suspendedLanes|o)?0:c,c!==0&&c!==V.retryLane)throw V.retryLane=c,v(r,c),di(A,r,c),VE}R.data==="$?"||ag(),s=Om(r,s,o)}else R.data==="$?"?(s.flags|=128,s.child=r.child,s=r1.bind(null,r),R._reactRetry=s,s=null):(r=V.treeContext,Pt=Ir(R.nextSibling),St=s,lt=!0,Vi=null,Ui=!1,r!==null&&(_e[Ie++]=$e,_e[Ie++]=yt,_e[Ie++]=Ze,$e=r.id,yt=r.overflow,Ze=s),s=Nm(s,c.children),s.flags|=4096);return s}return d?(ga(),d=c.fallback,R=s.mode,V=r.child,K=V.sibling,c=Sa(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&31457280,K!==null?d=Sa(K,d):(d=Bo(d,R,o,null),d.flags|=2),d.return=s,c.return=s,c.sibling=d,s.child=c,c=d,d=s.child,R=r.child.memoizedState,R===null?R=Im(o):(V=R.cachePool,V!==null?(K=Dn._currentValue,V=V.parent!==K?{parent:K,pool:K}:V):V=Kv(),R={baseLanes:R.baseLanes|o,cachePool:V}),d.memoizedState=R,d.childLanes=Dm(r,A,o),s.memoizedState=Rm,c):(ma(s),o=r.child,r=o.sibling,o=Sa(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(A=s.deletions,A===null?(s.deletions=[r],s.flags|=16):A.push(r)),s.child=o,s.memoizedState=null,o)}function Nm(r,s){return s=Mm({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Mm(r,s){return v0(r,s,0,null)}function Om(r,s,o){return Io(s,r.child,null,o),r=Nm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function KE(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Lm(r.return,s,o)}function xm(r,s,o,c,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=d)}function WE(r,s,o){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(Qn(r,s,c.children,o),c=In.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&KE(r,o,s);else if(r.tag===19)KE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(Qe(In,c),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&hf(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),xm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&hf(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}xm(s,!0,o,null,g);break;case"together":xm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function bs(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ra|=s.lanes,!(o&s.childLanes))if(r!==null){if(fc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Sa(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Sa(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function km(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&Af(r)))}function HI(r,s,o){switch(s.tag){case 3:Gn(s,s.stateNode.containerInfo),va(s,Dn,r.memoizedState.cache),ec();break;case 27:case 5:Xt(s);break;case 4:Gn(s,s.stateNode.containerInfo);break;case 10:va(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ma(s),s.flags|=128,null):o&s.child.childLanes?QE(r,s,o):(ma(s),r=bs(r,s,o),r!==null?r.sibling:null);ma(s);break;case 19:var d=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(fc(r,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return WE(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Qe(In,In.current),c)break;return null;case 22:case 23:return s.lanes=0,GE(r,s,o);case 24:va(s,Dn,r.memoizedState.cache)}return bs(r,s,o)}function JE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)kn=!0;else{if(!km(r,o)&&!(s.flags&128))return kn=!1,HI(r,s,o);kn=!!(r.flags&131072)}else kn=!1,lt&&s.flags&1048576&&zt(s,ge,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,d=c._init;if(c=d(c._payload),s.type=c,typeof c=="function")Km(c)?(r=xo(c,r),s.tag=1,s=YE(null,s,c,r,o)):(s.tag=0,s=Sm(null,s,c,r,o));else{if(c!=null){if(d=c.$$typeof,d===I){s.tag=11,s=UE(null,s,c,r,o);break e}else if(d===x){s.tag=14,s=FE(null,s,c,r,o);break e}}throw s=N(c)||c,Error(i(306,s,""))}}return s;case 0:return Sm(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=xo(c,s.pendingProps),YE(r,s,c,d,o);case 3:e:{if(Gn(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;d=s.memoizedState,c=d.element,Um(r,s),mc(s,g,null,o);var A=s.memoizedState;if(g=A.cache,va(s,Dn,g),g!==d.cache&&Bm(s,[Dn],o,!0),pc(),g=A.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=zE(r,s,g,o);break e}else if(g!==c){c=z(Error(i(424)),s),tc(c),s=zE(r,s,g,o);break e}else for(Pt=Ir(s.stateNode.containerInfo.firstChild),St=s,lt=!0,Vi=null,Ui=!0,o=jv(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ec(),g===c){s=bs(r,s,o);break e}Qn(r,s,g,o)}s=s.child}return s;case 26:return hc(r,s),r===null?(o=$0(s.type,null,s.pendingProps,null))?s.memoizedState=o:lt||(o=s.type,r=s.pendingProps,c=Uf(xt.current).createElement(o),c[mn]=s,c[an]=r,Kn(c,o,r),qt(c),s.stateNode=c):s.memoizedState=$0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Xt(s),r===null&&lt&&(c=s.stateNode=J0(s.type,s.pendingProps,xt.current),St=s,Ui=!0,Pt=Ir(c.firstChild)),c=s.pendingProps.children,r!==null||lt?Qn(r,s,c,o):s.child=Io(s,null,c,o),hc(r,s),s.child;case 5:return r===null&&lt&&((d=c=Pt)&&(c=E1(c,s.type,s.pendingProps,Ui),c!==null?(s.stateNode=c,St=s,Pt=Ir(c.firstChild),Ui=!1,d=!0):d=!1),d||Kr(s)),Xt(s),d=s.type,g=s.pendingProps,A=r!==null?r.memoizedProps:null,c=g.children,Eg(d,g)?c=null:A!==null&&Eg(d,A)&&(s.flags|=32),s.memoizedState!==null&&(d=lm(r,s,BI,null,null,o),Nc._currentValue=d),hc(r,s),Qn(r,s,c,o),s.child;case 6:return r===null&&lt&&((r=o=Pt)&&(o=w1(o,s.pendingProps,Ui),o!==null?(s.stateNode=o,St=s,Pt=null,r=!0):r=!1),r||Kr(s)),null;case 13:return QE(r,s,o);case 4:return Gn(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Io(s,null,c,o):Qn(r,s,c,o),s.child;case 11:return UE(r,s,s.type,s.pendingProps,o);case 7:return Qn(r,s,s.pendingProps,o),s.child;case 8:return Qn(r,s,s.pendingProps.children,o),s.child;case 12:return Qn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,va(s,s.type,c.value),Qn(r,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Po(s),d=ti(d),c=c(d),s.flags|=1,Qn(r,s,c,o),s.child;case 14:return FE(r,s,s.type,s.pendingProps,o);case 15:return qE(r,s,s.type,s.pendingProps,o);case 19:return WE(r,s,o);case 22:return GE(r,s,o);case 24:return Po(s),c=ti(Dn),r===null?(d=am(),d===null&&(d=Bt,g=rm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:c,cache:d},Vm(s),va(s,Dn,d)):(r.lanes&o&&(Um(r,s),mc(s,null,null,o),pc()),d=r.memoizedState,g=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),va(s,Dn,c)):(c=g.cache,va(s,Dn,c),c!==d.cache&&Bm(s,[Dn],o,!0))),Qn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Pm=Me(null),ko=null,Ss=null;function va(r,s,o){Qe(Pm,s._currentValue),s._currentValue=o}function Rs(r){r._currentValue=Pm.current,je(Pm)}function Lm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Bm(r,s,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var A=d.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=d;for(var V=0;V<s.length;V++)if(R.context===s[V]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),Lm(g.return,o,r),c||(A=null);break e}g=R.next}}else if(d.tag===18){if(A=d.return,A===null)throw Error(i(341));A.lanes|=o,g=A.alternate,g!==null&&(g.lanes|=o),Lm(A,o,r),A=null}else A=d.child;if(A!==null)A.return=d;else for(A=d;A!==null;){if(A===r){A=null;break}if(d=A.sibling,d!==null){d.return=A.return,A=d;break}A=A.return}d=A}}function fc(r,s,o,c){r=null;for(var d=s,g=!1;d!==null;){if(!g){if(d.flags&524288)g=!0;else if(d.flags&262144)break}if(d.tag===10){var A=d.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var R=d.type;fi(d.pendingProps.value,A.value)||(r!==null?r.push(R):r=[R])}}else if(d===qn.current){if(A=d.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Nc):r=[Nc])}d=d.return}r!==null&&Bm(s,r,o,c),s.flags|=262144}function Af(r){for(r=r.firstContext;r!==null;){if(!fi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Po(r){ko=r,Ss=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ti(r){return XE(ko,r)}function Cf(r,s){return ko===null&&Po(r),XE(r,s)}function XE(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ss===null){if(r===null)throw Error(i(308));Ss=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ss=Ss.next=s;return o}var Ea=!1;function Vm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Um(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function wa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ta(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Kt&2){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=S(r),E(r,null,o),s}return Ts(r,c,s,o),S(r)}function dc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ci(r,o)}}function Fm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=A:g=g.next=A,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var qm=!1;function pc(){if(qm){var r=Pl;if(r!==null)throw r}}function mc(r,s,o,c){qm=!1;var d=r.updateQueue;Ea=!1;var g=d.firstBaseUpdate,A=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var V=R,K=V.next;V.next=null,A===null?g=K:A.next=K,A=V;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,R=ue.lastBaseUpdate,R!==A&&(R===null?ue.firstBaseUpdate=K:R.next=K,ue.lastBaseUpdate=V))}if(g!==null){var de=d.baseState;A=0,ue=K=V=null,R=g;do{var te=R.lane&-536870913,ae=te!==R.lane;if(ae?(_t&te)===te:(c&te)===te){te!==0&&te===kl&&(qm=!0),ue!==null&&(ue=ue.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Oe=r,Ye=R;te=s;var en=o;switch(Ye.tag){case 1:if(Oe=Ye.payload,typeof Oe=="function"){de=Oe.call(en,de,te);break e}de=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ye.payload,te=typeof Oe=="function"?Oe.call(en,de,te):Oe,te==null)break e;de=U({},de,te);break e;case 2:Ea=!0}}te=R.callback,te!==null&&(r.flags|=64,ae&&(r.flags|=8192),ae=d.callbacks,ae===null?d.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ue===null?(K=ue=ae,V=de):ue=ue.next=ae,A|=te;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;ae=R,R=ae.next,ae.next=null,d.lastBaseUpdate=ae,d.shared.pending=null}}while(!0);ue===null&&(V=de),d.baseState=V,d.firstBaseUpdate=K,d.lastBaseUpdate=ue,g===null&&(d.shared.lanes=0),Ra|=A,r.lanes=A,r.memoizedState=de}}function ZE(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function $E(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)ZE(o[r],s)}function gc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var g=o.create,A=o.inst;c=g(),A.destroy=c}o=o.next}while(o!==d)}}catch(R){Lt(s,s.return,R)}}function Aa(r,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){var A=c.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,d=s;var V=o;try{R()}catch(K){Lt(d,V,K)}}}c=c.next}while(c!==g)}}catch(K){Lt(s,s.return,K)}}function e0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{$E(s,o)}catch(c){Lt(r,r.return,c)}}}function t0(r,s,o){o.props=xo(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Lt(r,s,c)}}function Lo(r,s){try{var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var d=c;break;default:d=c}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(g){Lt(r,s,g)}}function Fi(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){Lt(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Lt(r,s,d)}else o.current=null}function n0(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){Lt(r,r.return,d)}}function i0(r,s,o){try{var c=r.stateNode;m1(c,r.type,o,s),c[an]=s}catch(d){Lt(r,r.return,d)}}function r0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Gm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||r0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jm(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Vf));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(jm(r,s,o),r=r.sibling;r!==null;)jm(r,s,o),r=r.sibling}function bf(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(bf(r,s,o),r=r.sibling;r!==null;)bf(r,s,o),r=r.sibling}var Is=!1,Zt=!1,Hm=!1,s0=typeof WeakSet=="function"?WeakSet:Set,Pn=null,a0=!1;function YI(r,s){if(r=r.containerInfo,_g=Yf,r=Xh(r),Wu(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var A=0,R=-1,V=-1,K=0,ue=0,de=r,te=null;t:for(;;){for(var ae;de!==o||d!==0&&de.nodeType!==3||(R=A+d),de!==g||c!==0&&de.nodeType!==3||(V=A+c),de.nodeType===3&&(A+=de.nodeValue.length),(ae=de.firstChild)!==null;)te=de,de=ae;for(;;){if(de===r)break t;if(te===o&&++K===d&&(R=A),te===g&&++ue===c&&(V=A),(ae=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ae}o=R===-1||V===-1?null:{start:R,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(vg={focusedElem:r,selectionRange:o},Yf=!1,Pn=s;Pn!==null;)if(s=Pn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Pn=r;else for(;Pn!==null;){switch(s=Pn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Oe=xo(o.type,d,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Oe,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ye){Lt(o,o.return,Ye)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Ag(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ag(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Pn=r;break}Pn=s.return}return Oe=a0,a0=!1,Oe}function o0(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ns(r,o),c&4&&gc(5,o);break;case 1:if(Ns(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(R){Lt(o,o.return,R)}else{var d=xo(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(R){Lt(o,o.return,R)}}c&64&&e0(o),c&512&&Lo(o,o.return);break;case 3:if(Ns(r,o),c&64&&(c=o.updateQueue,c!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{$E(c,r)}catch(R){Lt(o,o.return,R)}}break;case 26:Ns(r,o),c&512&&Lo(o,o.return);break;case 27:case 5:Ns(r,o),s===null&&c&4&&n0(o),c&512&&Lo(o,o.return);break;case 12:Ns(r,o);break;case 13:Ns(r,o),c&4&&c0(r,o);break;case 22:if(d=o.memoizedState!==null||Is,!d){s=s!==null&&s.memoizedState!==null||Zt;var g=Is,A=Zt;Is=d,(Zt=s)&&!A?Ca(r,o,(o.subtreeFlags&8772)!==0):Ns(r,o),Is=g,Zt=A}c&512&&(o.memoizedProps.mode==="manual"?Lo(o,o.return):Fi(o,o.return));break;default:Ns(r,o)}}function l0(r){var s=r.alternate;s!==null&&(r.alternate=null,l0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Fr(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var En=null,qi=!1;function Ds(r,s,o){for(o=o.child;o!==null;)u0(r,s,o),o=o.sibling}function u0(r,s,o){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Vr,o)}catch{}switch(o.tag){case 26:Zt||Fi(o,s),Ds(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Zt||Fi(o,s);var c=En,d=qi;for(En=o.stateNode,Ds(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Fr(o),En=c,qi=d;break;case 5:Zt||Fi(o,s);case 6:d=En;var g=qi;if(En=null,Ds(r,s,o),En=d,qi=g,En!==null)if(qi)try{r=En,c=o.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(A){Lt(o,s,A)}else try{En.removeChild(o.stateNode)}catch(A){Lt(o,s,A)}break;case 18:En!==null&&(qi?(s=En,o=o.stateNode,s.nodeType===8?Tg(s.parentNode,o):s.nodeType===1&&Tg(s,o),kc(s)):Tg(En,o.stateNode));break;case 4:c=En,d=qi,En=o.stateNode.containerInfo,qi=!0,Ds(r,s,o),En=c,qi=d;break;case 0:case 11:case 14:case 15:Zt||Aa(2,o,s),Zt||Aa(4,o,s),Ds(r,s,o);break;case 1:Zt||(Fi(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&t0(o,s,c)),Ds(r,s,o);break;case 21:Ds(r,s,o);break;case 22:Zt||Fi(o,s),Zt=(c=Zt)||o.memoizedState!==null,Ds(r,s,o),Zt=c;break;default:Ds(r,s,o)}}function c0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{kc(r)}catch(o){Lt(s,s.return,o)}}function zI(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new s0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new s0),s;default:throw Error(i(435,r.tag))}}function Ym(r,s){var o=zI(r);s.forEach(function(c){var d=s1.bind(null,r,c);o.has(c)||(o.add(c),c.then(d,d))})}function sr(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=r,A=s,R=A;e:for(;R!==null;){switch(R.tag){case 27:case 5:En=R.stateNode,qi=!1;break e;case 3:En=R.stateNode.containerInfo,qi=!0;break e;case 4:En=R.stateNode.containerInfo,qi=!0;break e}R=R.return}if(En===null)throw Error(i(160));u0(g,A,d),En=null,qi=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)h0(s,r),s=s.sibling}var Rr=null;function h0(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:sr(s,r),ar(r),c&4&&(Aa(3,r,r.return),gc(3,r),Aa(5,r,r.return));break;case 1:sr(s,r),ar(r),c&512&&(Zt||o===null||Fi(o,o.return)),c&64&&Is&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Rr;if(sr(s,r),ar(r),c&512&&(Zt||o===null||Fi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[gr]||g[mn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),Kn(g,c,o),g[mn]=r,qt(g),c=g;break e;case"link":var A=nw("link","href",d).get(c+(o.href||""));if(A){for(var R=0;R<A.length;R++)if(g=A[R],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(R,1);break t}}g=d.createElement(c),Kn(g,c,o),d.head.appendChild(g);break;case"meta":if(A=nw("meta","content",d).get(c+(o.content||""))){for(R=0;R<A.length;R++)if(g=A[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(R,1);break t}}g=d.createElement(c),Kn(g,c,o),d.head.appendChild(g);break;default:throw Error(i(468,c))}g[mn]=r,qt(g),c=g}r.stateNode=c}else iw(d,r.type,r.stateNode);else r.stateNode=tw(d,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?iw(d,r.type,r.stateNode):tw(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&i0(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){d=r.stateNode,g=r.memoizedProps;try{for(var V=d.firstChild;V;){var K=V.nextSibling,ue=V.nodeName;V[gr]||ue==="HEAD"||ue==="BODY"||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&V.rel.toLowerCase()==="stylesheet"||d.removeChild(V),V=K}for(var de=r.type,te=d.attributes;te.length;)d.removeAttributeNode(te[0]);Kn(d,de,g),d[mn]=r,d[an]=g}catch(Oe){Lt(r,r.return,Oe)}}case 5:if(sr(s,r),ar(r),c&512&&(Zt||o===null||Fi(o,o.return)),r.flags&32){d=r.stateNode;try{hi(d,"")}catch(Oe){Lt(r,r.return,Oe)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,i0(r,d,o!==null?o.memoizedProps:d)),c&1024&&(Hm=!0);break;case 6:if(sr(s,r),ar(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(Oe){Lt(r,r.return,Oe)}}break;case 3:if(Gf=null,d=Rr,Rr=Ff(s.containerInfo),sr(s,r),Rr=d,ar(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{kc(s.containerInfo)}catch(Oe){Lt(r,r.return,Oe)}Hm&&(Hm=!1,f0(r));break;case 4:c=Rr,Rr=Ff(r.stateNode.containerInfo),sr(s,r),ar(r),Rr=c;break;case 12:sr(s,r),ar(r);break;case 13:sr(s,r),ar(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(eg=Tn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Ym(r,c)));break;case 22:if(c&512&&(Zt||o===null||Fi(o,o.return)),V=r.memoizedState!==null,K=o!==null&&o.memoizedState!==null,ue=Is,de=Zt,Is=ue||V,Zt=de||K,sr(s,r),Zt=de,Is=ue,ar(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=V?s._visibility&-2:s._visibility|1,V&&(s=Is||Zt,o===null||K||s||Ul(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){K=o=s;try{if(d=K.stateNode,V)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{A=K.stateNode,R=K.memoizedProps.style;var ae=R!=null&&R.hasOwnProperty("display")?R.display:null;A.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Oe){Lt(K,K.return,Oe)}}}else if(s.tag===6){if(o===null){K=s;try{K.stateNode.nodeValue=V?"":K.memoizedProps}catch(Oe){Lt(K,K.return,Oe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Ym(r,o))));break;case 19:sr(s,r),ar(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Ym(r,c)));break;case 21:break;default:sr(s,r),ar(r)}}function ar(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(r0(o)){var c=o;break e}o=o.return}throw Error(i(160))}switch(c.tag){case 27:var d=c.stateNode,g=Gm(r);bf(r,g,d);break;case 5:var A=c.stateNode;c.flags&32&&(hi(A,""),c.flags&=-33);var R=Gm(r);bf(r,R,A);break;case 3:case 4:var V=c.stateNode.containerInfo,K=Gm(r);jm(r,K,V);break;default:throw Error(i(161))}}}catch(ue){Lt(r,r.return,ue)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function f0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;f0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ns(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)o0(r,s.alternate,s),s=s.sibling}function Ul(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Aa(4,s,s.return),Ul(s);break;case 1:Fi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&t0(s,s.return,o),Ul(s);break;case 26:case 27:case 5:Fi(s,s.return),Ul(s);break;case 22:Fi(s,s.return),s.memoizedState===null&&Ul(s);break;default:Ul(s)}r=r.sibling}}function Ca(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=r,g=s,A=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(d,g,o),gc(4,g);break;case 1:if(Ca(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){Lt(c,c.return,K)}if(c=g,d=c.updateQueue,d!==null){var R=c.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)ZE(V[d],R)}catch(K){Lt(c,c.return,K)}}o&&A&64&&e0(g),Lo(g,g.return);break;case 26:case 27:case 5:Ca(d,g,o),o&&c===null&&A&4&&n0(g),Lo(g,g.return);break;case 12:Ca(d,g,o);break;case 13:Ca(d,g,o),o&&A&4&&c0(d,g);break;case 22:g.memoizedState===null&&Ca(d,g,o),Lo(g,g.return);break;default:Ca(d,g,o)}s=s.sibling}}function zm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&ac(o))}function Qm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ac(r))}function ba(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d0(r,s,o,c),s=s.sibling}function d0(r,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:ba(r,s,o,c),d&2048&&gc(9,s);break;case 3:ba(r,s,o,c),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ac(r)));break;case 12:if(d&2048){ba(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,A=g.id,R=g.onPostCommit;typeof R=="function"&&R(A,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){Lt(s,s.return,V)}}else ba(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?ba(r,s,o,c):yc(r,s):g._visibility&4?ba(r,s,o,c):(g._visibility|=4,Fl(r,s,o,c,(s.subtreeFlags&10256)!==0)),d&2048&&zm(s.alternate,s);break;case 24:ba(r,s,o,c),d&2048&&Qm(s.alternate,s);break;default:ba(r,s,o,c)}}function Fl(r,s,o,c,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,A=s,R=o,V=c,K=A.flags;switch(A.tag){case 0:case 11:case 15:Fl(g,A,R,V,d),gc(8,A);break;case 23:break;case 22:var ue=A.stateNode;A.memoizedState!==null?ue._visibility&4?Fl(g,A,R,V,d):yc(g,A):(ue._visibility|=4,Fl(g,A,R,V,d)),d&&K&2048&&zm(A.alternate,A);break;case 24:Fl(g,A,R,V,d),d&&K&2048&&Qm(A.alternate,A);break;default:Fl(g,A,R,V,d)}s=s.sibling}}function yc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,d=c.flags;switch(c.tag){case 22:yc(o,c),d&2048&&zm(c.alternate,c);break;case 24:yc(o,c),d&2048&&Qm(c.alternate,c);break;default:yc(o,c)}s=s.sibling}}var _c=8192;function ql(r){if(r.subtreeFlags&_c)for(r=r.child;r!==null;)p0(r),r=r.sibling}function p0(r){switch(r.tag){case 26:ql(r),r.flags&_c&&r.memoizedState!==null&&k1(Rr,r.memoizedState,r.memoizedProps);break;case 5:ql(r);break;case 3:case 4:var s=Rr;Rr=Ff(r.stateNode.containerInfo),ql(r),Rr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=_c,_c=16777216,ql(r),_c=s):ql(r));break;default:ql(r)}}function m0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function vc(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Pn=c,y0(c,r)}m0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g0(r),r=r.sibling}function g0(r){switch(r.tag){case 0:case 11:case 15:vc(r),r.flags&2048&&Aa(9,r,r.return);break;case 3:vc(r);break;case 12:vc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Sf(r)):vc(r);break;default:vc(r)}}function Sf(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Pn=c,y0(c,r)}m0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Aa(8,s,s.return),Sf(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Sf(s));break;default:Sf(s)}r=r.sibling}}function y0(r,s){for(;Pn!==null;){var o=Pn;switch(o.tag){case 0:case 11:case 15:Aa(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ac(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Pn=c;else e:for(o=r;Pn!==null;){c=Pn;var d=c.sibling,g=c.return;if(l0(c),c===o){Pn=null;break e}if(d!==null){d.return=g,Pn=d;break e}Pn=g}}}function QI(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(r,s,o,c){return new QI(r,s,o,c)}function Km(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Sa(r,s){var o=r.alternate;return o===null?(o=or(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function _0(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Rf(r,s,o,c,d,g){var A=0;if(c=r,typeof r=="function")Km(r)&&(A=1);else if(typeof r=="string")A=O1(r,o,Tt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return Bo(o.children,d,g,s);case m:A=8,d|=24;break;case _:return r=or(12,o,s,d|2),r.elementType=_,r.lanes=g,r;case L:return r=or(13,o,s,d),r.elementType=L,r.lanes=g,r;case O:return r=or(19,o,s,d),r.elementType=O,r.lanes=g,r;case j:return v0(o,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case C:A=10;break e;case b:A=9;break e;case I:A=11;break e;case x:A=14;break e;case P:A=16,c=null;break e}A=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=or(A,o,s,d),s.elementType=r,s.type=c,s.lanes=g,s}function Bo(r,s,o,c){return r=or(7,r,c,s),r.lanes=o,r}function v0(r,s,o,c){r=or(22,r,c,s),r.elementType=j,r.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(i(456));if(!(d._pendingVisibility&2)){var A=v(g,2);A!==null&&(d._pendingVisibility|=2,di(A,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(i(456));if(d._pendingVisibility&2){var A=v(g,2);A!==null&&(d._pendingVisibility&=-3,di(A,g,2))}}};return r.stateNode=d,r}function Wm(r,s,o){return r=or(6,r,null,s),r.lanes=o,r}function Jm(r,s,o){return s=or(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Ms(r){r.flags|=4}function E0(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!rw(s)){if(s=rr.current,s!==null&&((_t&4194176)===_t?Wr!==null:(_t&62914560)!==_t&&!(_t&536870912)||s!==Wr))throw ic=tm,Bv;r.flags|=8192}}function If(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ur():536870912,r.lanes|=s,jl|=s)}function Ec(r,s){if(!lt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Qt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&31457280,c|=d.flags&31457280,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function KI(r,s,o){var c=s.pendingProps;switch(Sr(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(s),null;case 1:return Qt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Rs(Dn),fn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(pa(s)?Ms(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Vi!==null&&(rg(Vi),Vi=null))),Qt(s),null;case 26:return o=s.memoizedState,r===null?(Ms(s),o!==null?(Qt(s),E0(s,o)):(Qt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ms(s),Qt(s),E0(s,o)):(Qt(s),s.flags&=-16777217):(r.memoizedProps!==c&&Ms(s),Qt(s),s.flags&=-16777217),null;case 27:Pr(s),o=xt.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ms(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Qt(s),null}r=Tt.current,pa(s)?So(s):(r=J0(d,c,o),s.stateNode=r,Ms(s))}return Qt(s),null;case 5:if(Pr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ms(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Qt(s),null}if(r=Tt.current,pa(s))So(s);else{switch(d=Uf(xt.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}r[mn]=s,r[an]=c;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(Kn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ms(s)}}return Qt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Ms(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=xt.current,pa(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,d=St,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[mn]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||H0(r.nodeValue,o)),r||Kr(s)}else r=Uf(r).createTextNode(c),r[mn]=s,s.stateNode=r}return Qt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=pa(s),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[mn]=s}else ec(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Qt(s),d=!1}else Vi!==null&&(rg(Vi),Vi=null),d=!0;if(!d)return s.flags&256?(As(s),s):(As(s),null)}if(As(s),s.flags&128)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),If(s,s.updateQueue),Qt(s),null;case 4:return fn(),r===null&&mg(s.stateNode.containerInfo),Qt(s),null;case 10:return Rs(s.type),Qt(s),null;case 19:if(je(In),d=s.memoizedState,d===null)return Qt(s),null;if(c=(s.flags&128)!==0,g=d.rendering,g===null)if(c)Ec(d,!1);else{if($t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=hf(r),g!==null){for(s.flags|=128,Ec(d,!1),r=g.updateQueue,s.updateQueue=r,If(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)_0(o,r),o=o.sibling;return Qe(In,In.current&1|2),s.child}r=r.sibling}d.tail!==null&&Tn()>Df&&(s.flags|=128,c=!0,Ec(d,!1),s.lanes=4194304)}else{if(!c)if(r=hf(g),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,If(s,r),Ec(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!lt)return Qt(s),null}else 2*Tn()-d.renderingStartTime>Df&&o!==536870912&&(s.flags|=128,c=!0,Ec(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Tn(),s.sibling=null,r=In.current,Qe(In,c?r&1|2:r&1),s):(Qt(s),null);case 22:case 23:return As(s),im(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?o&536870912&&!(s.flags&128)&&(Qt(s),s.subtreeFlags&6&&(s.flags|=8192)):Qt(s),o=s.updateQueue,o!==null&&If(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&je(Do),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Rs(Dn),Qt(s),null;case 25:return null}throw Error(i(156,s.tag))}function WI(r,s){switch(Sr(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Rs(Dn),fn(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Pr(s),null;case 13:if(As(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ec()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return je(In),null;case 4:return fn(),null;case 10:return Rs(s.type),null;case 22:case 23:return As(s),im(),r!==null&&je(Do),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Rs(Dn),null;case 25:return null;default:return null}}function w0(r,s){switch(Sr(s),s.tag){case 3:Rs(Dn),fn();break;case 26:case 27:case 5:Pr(s);break;case 4:fn();break;case 13:As(s);break;case 19:je(In);break;case 10:Rs(s.type);break;case 22:case 23:As(s),im(),r!==null&&je(Do);break;case 24:Rs(Dn)}}var JI={getCacheForType:function(r){var s=ti(Dn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},XI=typeof WeakMap=="function"?WeakMap:Map,Kt=0,Bt=null,ut=null,_t=0,Vt=0,Gi=null,Os=!1,Gl=!1,Xm=!1,xs=0,$t=0,Ra=0,Vo=0,Zm=0,lr=0,jl=0,wc=null,Xr=null,$m=!1,eg=0,Df=1/0,Nf=null,Ia=null,Mf=!1,Uo=null,Tc=0,tg=0,ng=null,Ac=0,ig=null;function ji(){if(Kt&2&&_t!==0)return _t&-_t;if(M.T!==null){var r=kl;return r!==0?r:hg()}return fl()}function T0(){lr===0&&(lr=!(_t&536870912)||lt?Mi():536870912);var r=rr.current;return r!==null&&(r.flags|=32),lr}function di(r,s,o){(r===Bt&&Vt===2||r.cancelPendingCommit!==null)&&(Hl(r,0),ks(r,_t,lr,!1)),Yt(r,o),(!(Kt&2)||r!==Bt)&&(r===Bt&&(!(Kt&2)&&(Vo|=o),$t===4&&ks(r,_t,lr,!1)),Zr(r))}function A0(r,s,o){if(Kt&6)throw Error(i(327));var c=!o&&(s&60)===0&&(s&r.expiredLanes)===0||dr(r,s),d=c?e1(r,s):og(r,s,!0),g=c;do{if(d===0){Gl&&!c&&ks(r,s,0,!1);break}else if(d===6)ks(r,s,0,!Os);else{if(o=r.current.alternate,g&&!ZI(o)){d=og(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var R=r;d=wc;var V=R.current.memoizedState.isDehydrated;if(V&&(Hl(R,A).flags|=256),A=og(R,A,!1),A!==2){if(Xm&&!V){R.errorRecoveryDisabledLanes|=g,Vo|=g,d=4;break e}g=Xr,Xr=d,g!==null&&rg(g)}d=A}if(g=!1,d!==2)continue}}if(d===1){Hl(r,0),ks(r,s,0,!0);break}e:{switch(c=r,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){ks(c,s,lr,!Os);break e}break;case 2:Xr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=o,c.finishedLanes=s,(s&62914560)===s&&(g=eg+300-Tn(),10<g)){if(ks(c,s,lr,!Os),Hn(c,0)!==0)break e;c.timeoutHandle=Q0(C0.bind(null,c,o,Xr,Nf,$m,s,lr,Vo,jl,Os,2,-0,0),g);break e}C0(c,o,Xr,Nf,$m,s,lr,Vo,jl,Os,0,-0,0)}}break}while(!0);Zr(r)}function rg(r){Xr===null?Xr=r:Xr.push.apply(Xr,r)}function C0(r,s,o,c,d,g,A,R,V,K,ue,de,te){var ae=s.subtreeFlags;if((ae&8192||(ae&16785408)===16785408)&&(Dc={stylesheets:null,count:0,unsuspend:x1},p0(s),s=P1(),s!==null)){r.cancelPendingCommit=s(M0.bind(null,r,o,c,d,A,R,V,1,de,te)),ks(r,g,A,!K);return}M0(r,o,c,d,A,R,V,ue,de,te)}function ZI(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!fi(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(r,s,o,c){s&=~Zm,s&=~Vo,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var d=s;0<d;){var g=31-jn(d),A=1<<g;c[g]=-1,d&=~A}o!==0&&jt(r,o,s)}function Of(){return Kt&6?!0:(Cc(0),!1)}function sg(){if(ut!==null){if(Vt===0)var r=ut.return;else r=ut,Ss=ko=null,hm(r),Ol=null,rc=0,r=ut;for(;r!==null;)w0(r.alternate,r),r=r.return;ut=null}}function Hl(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,y1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),sg(),Bt=r,ut=o=Sa(r.current,null),_t=s,Vt=0,Gi=null,Os=!1,Gl=dr(r,s),Xm=!1,jl=lr=Zm=Vo=Ra=$t=0,Xr=wc=null,$m=!1,s&8&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var d=31-jn(c),g=1<<d;s|=r[d],c&=~g}return xs=s,Dl(),o}function b0(r,s){rt=null,M.H=Jr,s===nc?(s=Fv(),Vt=3):s===Bv?(s=Fv(),Vt=4):Vt=s===VE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gi=s,ut===null&&($t=1,Tf(r,z(s,r.current)))}function S0(){var r=M.H;return M.H=Jr,r===null?Jr:r}function R0(){var r=M.A;return M.A=JI,r}function ag(){$t=4,Os||(_t&4194176)!==_t&&rr.current!==null||(Gl=!0),!(Ra&134217727)&&!(Vo&134217727)||Bt===null||ks(Bt,_t,lr,!1)}function og(r,s,o){var c=Kt;Kt|=2;var d=S0(),g=R0();(Bt!==r||_t!==s)&&(Nf=null,Hl(r,s)),s=!1;var A=$t;e:do try{if(Vt!==0&&ut!==null){var R=ut,V=Gi;switch(Vt){case 8:sg(),A=6;break e;case 3:case 2:case 6:rr.current===null&&(s=!0);var K=Vt;if(Vt=0,Gi=null,Yl(r,R,V,K),o&&Gl){A=0;break e}break;default:K=Vt,Vt=0,Gi=null,Yl(r,R,V,K)}}$I(),A=$t;break}catch(ue){b0(r,ue)}while(!0);return s&&r.shellSuspendCounter++,Ss=ko=null,Kt=c,M.H=d,M.A=g,ut===null&&(Bt=null,_t=0,Dl()),A}function $I(){for(;ut!==null;)I0(ut)}function e1(r,s){var o=Kt;Kt|=2;var c=S0(),d=R0();Bt!==r||_t!==s?(Nf=null,Df=Tn()+500,Hl(r,s)):Gl=dr(r,s);e:do try{if(Vt!==0&&ut!==null){s=ut;var g=Gi;t:switch(Vt){case 1:Vt=0,Gi=null,Yl(r,s,g,1);break;case 2:if(Vv(g)){Vt=0,Gi=null,D0(s);break}s=function(){Vt===2&&Bt===r&&(Vt=7),Zr(r)},g.then(s,s);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:Vv(g)?(Vt=0,Gi=null,D0(s)):(Vt=0,Gi=null,Yl(r,s,g,7));break;case 5:var A=null;switch(ut.tag){case 26:A=ut.memoizedState;case 5:case 27:var R=ut;if(!A||rw(A)){Vt=0,Gi=null;var V=R.sibling;if(V!==null)ut=V;else{var K=R.return;K!==null?(ut=K,xf(K)):ut=null}break t}}Vt=0,Gi=null,Yl(r,s,g,5);break;case 6:Vt=0,Gi=null,Yl(r,s,g,6);break;case 8:sg(),$t=6;break e;default:throw Error(i(462))}}t1();break}catch(ue){b0(r,ue)}while(!0);return Ss=ko=null,M.H=c,M.A=d,Kt=o,ut!==null?0:(Bt=null,_t=0,Dl(),$t)}function t1(){for(;ut!==null&&!nt();)I0(ut)}function I0(r){var s=JE(r.alternate,r,xs);r.memoizedProps=r.pendingProps,s===null?xf(r):ut=s}function D0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=HE(o,s,s.pendingProps,s.type,void 0,_t);break;case 11:s=HE(o,s,s.pendingProps,s.type.render,s.ref,_t);break;case 5:hm(s);default:w0(o,s),s=ut=_0(s,xs),s=JE(o,s,xs)}r.memoizedProps=r.pendingProps,s===null?xf(r):ut=s}function Yl(r,s,o,c){Ss=ko=null,hm(s),Ol=null,rc=0;var d=s.return;try{if(jI(r,d,s,o,_t)){$t=1,Tf(r,z(o,r.current)),ut=null;return}}catch(g){if(d!==null)throw ut=d,g;$t=1,Tf(r,z(o,r.current)),ut=null;return}s.flags&32768?(lt||c===1?r=!0:Gl||_t&536870912?r=!1:(Os=r=!0,(c===2||c===3||c===6)&&(c=rr.current,c!==null&&c.tag===13&&(c.flags|=16384))),N0(s,r)):xf(s)}function xf(r){var s=r;do{if(s.flags&32768){N0(s,Os);return}r=s.return;var o=KI(s.alternate,s,xs);if(o!==null){ut=o;return}if(s=s.sibling,s!==null){ut=s;return}ut=s=r}while(s!==null);$t===0&&($t=5)}function N0(r,s){do{var o=WI(r.alternate,r);if(o!==null){o.flags&=32767,ut=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){ut=r;return}ut=r=o}while(r!==null);$t=6,ut=null}function M0(r,s,o,c,d,g,A,R,V,K){var ue=M.T,de=we.p;try{we.p=2,M.T=null,n1(r,s,o,c,de,d,g,A,R,V,K)}finally{M.T=ue,we.p=de}}function n1(r,s,o,c,d,g,A,R){do zl();while(Uo!==null);if(Kt&6)throw Error(i(327));var V=r.finishedWork;if(c=r.finishedLanes,V===null)return null;if(r.finishedWork=null,r.finishedLanes=0,V===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var K=V.lanes|V.childLanes;if(K|=$u,lo(r,c,K,g,A,R),r===Bt&&(ut=Bt=null,_t=0),!(V.subtreeFlags&10256)&&!(V.flags&10256)||Mf||(Mf=!0,tg=K,ng=o,a1(Ni,function(){return zl(),null})),o=(V.flags&15990)!==0,V.subtreeFlags&15990||o?(o=M.T,M.T=null,g=we.p,we.p=2,A=Kt,Kt|=4,YI(r,V),h0(V,r),Jp(vg,r.containerInfo),Yf=!!_g,vg=_g=null,r.current=V,o0(r,V.alternate,V),Qi(),Kt=A,we.p=g,M.T=o):r.current=V,Mf?(Mf=!1,Uo=r,Tc=c):O0(r,K),K=r.pendingLanes,K===0&&(Ia=null),ao(V.stateNode),Zr(r),s!==null)for(d=r.onRecoverableError,V=0;V<s.length;V++)K=s[V],d(K.value,{componentStack:K.stack});return Tc&3&&zl(),K=r.pendingLanes,c&4194218&&K&42?r===ig?Ac++:(Ac=0,ig=r):Ac=0,Cc(0),null}function O0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,ac(s)))}function zl(){if(Uo!==null){var r=Uo,s=tg;tg=0;var o=ft(Tc),c=M.T,d=we.p;try{if(we.p=32>o?32:o,M.T=null,Uo===null)var g=!1;else{o=ng,ng=null;var A=Uo,R=Tc;if(Uo=null,Tc=0,Kt&6)throw Error(i(331));var V=Kt;if(Kt|=4,g0(A.current),d0(A,A.current,R,o),Kt=V,Cc(0,!1),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Vr,A)}catch{}g=!0}return g}finally{we.p=d,M.T=c,O0(r,s)}}return!1}function x0(r,s,o){s=z(o,s),s=bm(r.stateNode,s,2),r=Ta(r,s,2),r!==null&&(Yt(r,2),Zr(r))}function Lt(r,s,o){if(r.tag===3)x0(r,r,o);else for(;s!==null;){if(s.tag===3){x0(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ia===null||!Ia.has(c))){r=z(o,r),o=LE(2),c=Ta(s,o,2),c!==null&&(BE(o,c,s,r),Yt(c,2),Zr(c));break}}s=s.return}}function lg(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new XI;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(Xm=!0,d.add(o),r=i1.bind(null,r,s,o),s.then(r,r))}function i1(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Bt===r&&(_t&o)===o&&($t===4||$t===3&&(_t&62914560)===_t&&300>Tn()-eg?!(Kt&2)&&Hl(r,0):Zm|=o,jl===_t&&(jl=0)),Zr(r)}function k0(r,s){s===0&&(s=Ur()),r=v(r,s),r!==null&&(Yt(r,s),Zr(r))}function r1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),k0(r,o)}function s1(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),k0(r,o)}function a1(r,s){return Di(r,s)}var kf=null,Ql=null,ug=!1,Pf=!1,cg=!1,Fo=0;function Zr(r){r!==Ql&&r.next===null&&(Ql===null?kf=Ql=r:Ql=Ql.next=r),Pf=!0,ug||(ug=!0,l1(o1))}function Cc(r,s){if(!cg&&Pf){cg=!0;do for(var o=!1,c=kf;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var A=c.suspendedLanes,R=c.pingedLanes;g=(1<<31-jn(42|r)+1)-1,g&=d&~(A&~R),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,B0(c,g))}else g=_t,g=Hn(c,c===Bt?g:0),!(g&3)||dr(c,g)||(o=!0,B0(c,g));c=c.next}while(o);cg=!1}}function o1(){Pf=ug=!1;var r=0;Fo!==0&&(g1()&&(r=Fo),Fo=0);for(var s=Tn(),o=null,c=kf;c!==null;){var d=c.next,g=P0(c,s);g===0?(c.next=null,o===null?kf=d:o.next=d,d===null&&(Ql=o)):(o=c,(r!==0||g&3)&&(Pf=!0)),c=d}Cc(r)}function P0(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var A=31-jn(g),R=1<<A,V=d[A];V===-1?(!(R&o)||R&c)&&(d[A]=pr(R,s)):V<=s&&(r.expiredLanes|=R),g&=~R}if(s=Bt,o=_t,o=Hn(r,r===s?o:0),c=r.callbackNode,o===0||r===s&&Vt===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ke(c),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||dr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Ke(c),ft(o)){case 2:case 8:o=dn;break;case 32:o=Ni;break;case 268435456:o=Br;break;default:o=Ni}return c=L0.bind(null,r),o=Di(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Ke(c),r.callbackPriority=2,r.callbackNode=null,2}function L0(r,s){var o=r.callbackNode;if(zl()&&r.callbackNode!==o)return null;var c=_t;return c=Hn(r,r===Bt?c:0),c===0?null:(A0(r,c,s),P0(r,Tn()),r.callbackNode!=null&&r.callbackNode===o?L0.bind(null,r):null)}function B0(r,s){if(zl())return null;A0(r,s,!0)}function l1(r){_1(function(){Kt&6?Di(Dt,r):r()})}function hg(){return Fo===0&&(Fo=Mi()),Fo}function V0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Pi(""+r)}function U0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function u1(r,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var g=V0((d[an]||null).action),A=c.submitter;A&&(s=(s=A[an]||null)?V0(s.formAction):A.getAttribute("formAction"),s!==null&&(g=s,A=null));var R=new tr("action","action",null,c,d);r.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Fo!==0){var V=A?U0(d,A):new FormData(d);Em(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(R.preventDefault(),V=A?U0(d,A):new FormData(d),Em(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var fg=0;fg<af.length;fg++){var dg=af[fg],c1=dg.toLowerCase(),h1=dg[0].toUpperCase()+dg.slice(1);Bi(c1,"on"+h1)}Bi(ef,"onAnimationEnd"),Bi(tf,"onAnimationIteration"),Bi(nf,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(Zp,"onTransitionRun"),Bi($p,"onTransitionStart"),Bi(em,"onTransitionCancel"),Bi(rf,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bc));function F0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var A=c.length-1;0<=A;A--){var R=c[A],V=R.instance,K=R.currentTarget;if(R=R.listener,V!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=K;try{g(d)}catch(ue){wf(ue)}d.currentTarget=null,g=V}else for(A=0;A<c.length;A++){if(R=c[A],V=R.instance,K=R.currentTarget,R=R.listener,V!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=K;try{g(d)}catch(ue){wf(ue)}d.currentTarget=null,g=V}}}}function mt(r,s){var o=s[mr];o===void 0&&(o=s[mr]=new Set);var c=r+"__bubble";o.has(c)||(q0(s,r,2,!1),o.add(c))}function pg(r,s,o){var c=0;s&&(c|=4),q0(o,r,c,s)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function mg(r){if(!r[Lf]){r[Lf]=!0,_r.forEach(function(o){o!=="selectionchange"&&(f1.has(o)||pg(o,!1,r),pg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Lf]||(s[Lf]=!0,pg("selectionchange",!1,s))}}function q0(r,s,o,c){switch(cw(s)){case 2:var d=V1;break;case 8:d=U1;break;default:d=Ig}o=d.bind(null,s,o,r),d=void 0,!Ei||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function gg(r,s,o,c,d){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var R=c.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(A===4)for(A=c.return;A!==null;){var V=A.tag;if((V===3||V===4)&&(V=A.stateNode.containerInfo,V===d||V.nodeType===8&&V.parentNode===d))return;A=A.return}for(;R!==null;){if(A=xi(R),A===null)return;if(V=A.tag,V===5||V===6||V===26||V===27){c=g=A;continue e}R=R.parentNode}}c=c.return}vi(function(){var K=g,ue=jr(o),de=[];e:{var te=sf.get(r);if(te!==void 0){var ae=tr,Oe=r;switch(r){case"keypress":if($i(o)===0)break e;case"keydown":case"keyup":ae=la;break;case"focusin":Oe="focus",ae=sa;break;case"focusout":Oe="blur",ae=sa;break;case"beforeblur":case"afterblur":ae=sa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=wi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=wl;break;case ef:case tf:case nf:ae=aa;break;case rf:ae=Al;break;case"scroll":case"scrollend":ae=_o;break;case"wheel":ae=ua;break;case"copy":case"cut":case"paste":ae=oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ao;break;case"toggle":case"beforetoggle":ae=bl}var Ye=(s&4)!==0,en=!Ye&&(r==="scroll"||r==="scrollend"),J=Ye?te!==null?te+"Capture":null:te;Ye=[];for(var Q=K,ee;Q!==null;){var he=Q;if(ee=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ee===null||J===null||(he=Hr(Q,J),he!=null&&Ye.push(Sc(Q,he,ee))),en)break;Q=Q.return}0<Ye.length&&(te=new ae(te,Oe,null,o,ue),de.push({event:te,listeners:Ye}))}}if(!(s&7)){e:{if(te=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",te&&o!==_i&&(Oe=o.relatedTarget||o.fromElement)&&(xi(Oe)||Oe[Oi]))break e;if((ae||te)&&(te=ue.window===ue?ue:(te=ue.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(Oe=o.relatedTarget||o.toElement,ae=K,Oe=Oe?xi(Oe):null,Oe!==null&&(en=Te(Oe),Ye=Oe.tag,Oe!==en||Ye!==5&&Ye!==27&&Ye!==6)&&(Oe=null)):(ae=null,Oe=K),ae!==Oe)){if(Ye=wi,he="onMouseLeave",J="onMouseEnter",Q="mouse",(r==="pointerout"||r==="pointerover")&&(Ye=Ao,he="onPointerLeave",J="onPointerEnter",Q="pointer"),en=ae==null?te:qr(ae),ee=Oe==null?te:qr(Oe),te=new Ye(he,Q+"leave",ae,o,ue),te.target=en,te.relatedTarget=ee,he=null,xi(ue)===K&&(Ye=new Ye(J,Q+"enter",Oe,o,ue),Ye.target=ee,Ye.relatedTarget=en,he=Ye),en=he,ae&&Oe)t:{for(Ye=ae,J=Oe,Q=0,ee=Ye;ee;ee=Kl(ee))Q++;for(ee=0,he=J;he;he=Kl(he))ee++;for(;0<Q-ee;)Ye=Kl(Ye),Q--;for(;0<ee-Q;)J=Kl(J),ee--;for(;Q--;){if(Ye===J||J!==null&&Ye===J.alternate)break t;Ye=Kl(Ye),J=Kl(J)}Ye=null}else Ye=null;ae!==null&&G0(de,te,ae,Ye,!1),Oe!==null&&en!==null&&G0(de,en,Oe,Ye,!0)}}e:{if(te=K?qr(K):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var De=Rl;else if(ln(te))if(Yu)De=Qh;else{De=Yh;var st=Hh}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?K&&fo(K.elementType)&&(De=Rl):De=zh;if(De&&(De=De(r,K))){br(de,De,o,ue);break e}st&&st(r,te,K),r==="focusout"&&K&&te.type==="number"&&K.memoizedProps.value!=null&&ta(te,"number",te.value)}switch(st=K?qr(K):window,r){case"focusin":(ln(st)||st.contentEditable==="true")&&(ha=st,Ju=K,bo=null);break;case"focusout":bo=Ju=ha=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,Zh(de,o,ue);break;case"selectionchange":if(Xp)break;case"keydown":case"keyup":Zh(de,o,ue)}var xe;if(ir)e:{switch(r){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else dt?ie(r,o)&&(Be="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&(w&&o.locale!=="ko"&&(dt||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&dt&&(xe=go()):(Zi=ue,Yr="value"in Zi?Zi.value:Zi.textContent,dt=!0)),st=Bf(K,Be),0<st.length&&(Be=new Eo(Be,r,null,o,ue),de.push({event:Be,listeners:st}),xe?Be.data=xe:(xe=Ee(o),xe!==null&&(Be.data=xe)))),(xe=y?on(r,o):pt(r,o))&&(Be=Bf(K,"onBeforeInput"),0<Be.length&&(st=new Eo("onBeforeInput","beforeinput",null,o,ue),de.push({event:st,listeners:Be}),st.data=xe)),u1(de,r,K,o,ue)}F0(de,s)})}function Sc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Bf(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Hr(r,o),d!=null&&c.unshift(Sc(r,d,g)),d=Hr(r,s),d!=null&&c.push(Sc(r,d,g))),r=r.return}return c}function Kl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function G0(r,s,o,c,d){for(var g=s._reactName,A=[];o!==null&&o!==c;){var R=o,V=R.alternate,K=R.stateNode;if(R=R.tag,V!==null&&V===c)break;R!==5&&R!==26&&R!==27||K===null||(V=K,d?(K=Hr(o,g),K!=null&&A.unshift(Sc(o,K,V))):d||(K=Hr(o,g),K!=null&&A.push(Sc(o,K,V)))),o=o.return}A.length!==0&&r.push({event:s,listeners:A})}var d1=/\r\n?/g,p1=/\u0000|\uFFFD/g;function j0(r){return(typeof r=="string"?r:""+r).replace(d1,`
`).replace(p1,"")}function H0(r,s){return s=j0(s),j0(r)===s}function Vf(){}function Mt(r,s,o,c,d,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||hi(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&hi(r,""+c);break;case"className":Ji(r,"class",c);break;case"tabIndex":Ji(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(r,o,c);break;case"style":ia(r,c,g);break;case"data":if(s!=="object"){Ji(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Pi(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Mt(r,s,"name",d.name,d,null),Mt(r,s,"formEncType",d.formEncType,d,null),Mt(r,s,"formMethod",d.formMethod,d,null),Mt(r,s,"formTarget",d.formTarget,d,null)):(Mt(r,s,"encType",d.encType,d,null),Mt(r,s,"method",d.method,d,null),Mt(r,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Pi(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Vf);break;case"onScroll":c!=null&&mt("scroll",r);break;case"onScrollEnd":c!=null&&mt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Pi(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":mt("beforetoggle",r),mt("toggle",r),Gr(r,"popover",c);break;case"xlinkActuate":gi(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":gi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":gi(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":gi(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":gi(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":gi(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":gi(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":gi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":gi(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Gr(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=po.get(o)||o,Gr(r,o,c))}}function yg(r,s,o,c,d,g){switch(o){case"style":ia(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?hi(r,c):(typeof c=="number"||typeof c=="bigint")&&hi(r,""+c);break;case"onScroll":c!=null&&mt("scroll",r);break;case"onScrollEnd":c!=null&&mt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Vf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[an]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,d);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Gr(r,o,c)}}}function Kn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",r),mt("load",r);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var A=o[g];if(A!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Mt(r,s,g,A,o,null)}}d&&Mt(r,s,"srcSet",o.srcSet,o,null),c&&Mt(r,s,"src",o.src,o,null);return;case"input":mt("invalid",r);var R=g=A=d=null,V=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var ue=o[c];if(ue!=null)switch(c){case"name":d=ue;break;case"type":A=ue;break;case"checked":V=ue;break;case"defaultChecked":K=ue;break;case"value":g=ue;break;case"defaultValue":R=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,s));break;default:Mt(r,s,c,ue,o,null)}}ms(r,g,R,V,K,A,d,!1),Xi(r);return;case"select":mt("invalid",r),c=A=g=null;for(d in o)if(o.hasOwnProperty(d)&&(R=o[d],R!=null))switch(d){case"value":g=R;break;case"defaultValue":A=R;break;case"multiple":c=R;default:Mt(r,s,d,R,o,null)}s=g,o=A,r.multiple=!!c,s!=null?He(r,!!c,s,!1):o!=null&&He(r,!!c,o,!0);return;case"textarea":mt("invalid",r),g=d=c=null;for(A in o)if(o.hasOwnProperty(A)&&(R=o[A],R!=null))switch(A){case"value":c=R;break;case"defaultValue":d=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:Mt(r,s,A,R,o,null)}vr(r,c,d,g),Xi(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(c=o[V],c!=null))switch(V){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Mt(r,s,V,c,o,null)}return;case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":mt("load",r);break;case"video":case"audio":for(c=0;c<bc.length;c++)mt(bc[c],r);break;case"image":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"embed":case"source":case"link":mt("error",r),mt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Mt(r,s,K,c,o,null)}return;default:if(fo(s)){for(ue in o)o.hasOwnProperty(ue)&&(c=o[ue],c!==void 0&&yg(r,s,ue,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&Mt(r,s,R,c,o,null))}function m1(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,A=null,R=null,V=null,K=null,ue=null;for(ae in o){var de=o[ae];if(o.hasOwnProperty(ae)&&de!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":V=de;default:c.hasOwnProperty(ae)||Mt(r,s,ae,null,c,de)}}for(var te in c){var ae=c[te];if(de=o[te],c.hasOwnProperty(te)&&(ae!=null||de!=null))switch(te){case"type":g=ae;break;case"name":d=ae;break;case"checked":K=ae;break;case"defaultChecked":ue=ae;break;case"value":A=ae;break;case"defaultValue":R=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:ae!==de&&Mt(r,s,te,ae,c,de)}}We(r,A,R,V,K,ue,g,d);return;case"select":ae=A=R=te=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":ae=V;default:c.hasOwnProperty(g)||Mt(r,s,g,null,c,V)}for(d in c)if(g=c[d],V=o[d],c.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":te=g;break;case"defaultValue":R=g;break;case"multiple":A=g;default:g!==V&&Mt(r,s,d,g,c,V)}s=R,o=A,c=ae,te!=null?He(r,!!o,te,!1):!!c!=!!o&&(s!=null?He(r,!!o,s,!0):He(r,!!o,o?[]:"",!1));return;case"textarea":ae=te=null;for(R in o)if(d=o[R],o.hasOwnProperty(R)&&d!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Mt(r,s,R,null,c,d)}for(A in c)if(d=c[A],g=o[A],c.hasOwnProperty(A)&&(d!=null||g!=null))switch(A){case"value":te=d;break;case"defaultValue":ae=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&Mt(r,s,A,d,c,g)}gs(r,te,ae);return;case"option":for(var Oe in o)if(te=o[Oe],o.hasOwnProperty(Oe)&&te!=null&&!c.hasOwnProperty(Oe))switch(Oe){case"selected":r.selected=!1;break;default:Mt(r,s,Oe,null,c,te)}for(V in c)if(te=c[V],ae=o[V],c.hasOwnProperty(V)&&te!==ae&&(te!=null||ae!=null))switch(V){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Mt(r,s,V,te,c,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in o)te=o[Ye],o.hasOwnProperty(Ye)&&te!=null&&!c.hasOwnProperty(Ye)&&Mt(r,s,Ye,null,c,te);for(K in c)if(te=c[K],ae=o[K],c.hasOwnProperty(K)&&te!==ae&&(te!=null||ae!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:Mt(r,s,K,te,c,ae)}return;default:if(fo(s)){for(var en in o)te=o[en],o.hasOwnProperty(en)&&te!==void 0&&!c.hasOwnProperty(en)&&yg(r,s,en,void 0,c,te);for(ue in c)te=c[ue],ae=o[ue],!c.hasOwnProperty(ue)||te===ae||te===void 0&&ae===void 0||yg(r,s,ue,te,c,ae);return}}for(var J in o)te=o[J],o.hasOwnProperty(J)&&te!=null&&!c.hasOwnProperty(J)&&Mt(r,s,J,null,c,te);for(de in c)te=c[de],ae=o[de],!c.hasOwnProperty(de)||te===ae||te==null&&ae==null||Mt(r,s,de,te,c,ae)}var _g=null,vg=null;function Uf(r){return r.nodeType===9?r:r.ownerDocument}function Y0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Eg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wg=null;function g1(){var r=window.event;return r&&r.type==="popstate"?r===wg?!1:(wg=r,!0):(wg=null,!1)}var Q0=typeof setTimeout=="function"?setTimeout:void 0,y1=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(r){return K0.resolve(null).then(r).catch(v1)}:Q0;function v1(r){setTimeout(function(){throw r})}function Tg(r,s){var o=s,c=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){r.removeChild(d),kc(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);kc(s)}function Ag(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ag(o),Fr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function E1(r,s,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[gr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Ir(r.nextSibling),r===null)break}return null}function w1(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ir(r.nextSibling),r===null))return null;return r}function Ir(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function W0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function J0(r,s,o){switch(s=Uf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var ur=new Map,X0=new Set;function Ff(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ps=we.d;we.d={f:T1,r:A1,D:C1,C:b1,L:S1,m:R1,X:D1,S:I1,M:N1};function T1(){var r=Ps.f(),s=Of();return r||s}function A1(r){var s=yr(r);s!==null&&s.tag===5&&s.type==="form"?CE(s):Ps.r(r)}var Wl=typeof document>"u"?null:document;function Z0(r,s,o){var c=Wl;if(c&&typeof s=="string"&&s){var d=Gt(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),X0.has(d)||(X0.add(d),r={rel:r,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),Kn(s,"link",r),qt(s),c.head.appendChild(s)))}}function C1(r){Ps.D(r),Z0("dns-prefetch",r,null)}function b1(r,s){Ps.C(r,s),Z0("preconnect",r,s)}function S1(r,s,o){Ps.L(r,s,o);var c=Wl;if(c&&r&&s){var d='link[rel="preload"][as="'+Gt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Gt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Gt(o.imageSizes)+'"]')):d+='[href="'+Gt(r)+'"]';var g=d;switch(s){case"style":g=Jl(r);break;case"script":g=Xl(r)}ur.has(g)||(r=U({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ur.set(g,r),c.querySelector(d)!==null||s==="style"&&c.querySelector(Rc(g))||s==="script"&&c.querySelector(Ic(g))||(s=c.createElement("link"),Kn(s,"link",r),qt(s),c.head.appendChild(s)))}}function R1(r,s){Ps.m(r,s);var o=Wl;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Gt(c)+'"][href="'+Gt(r)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Xl(r)}if(!ur.has(g)&&(r=U({rel:"modulepreload",href:r},s),ur.set(g,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ic(g)))return}c=o.createElement("link"),Kn(c,"link",r),qt(c),o.head.appendChild(c)}}}function I1(r,s,o){Ps.S(r,s,o);var c=Wl;if(c&&r){var d=ki(c).hoistableStyles,g=Jl(r);s=s||"default";var A=d.get(g);if(!A){var R={loading:0,preload:null};if(A=c.querySelector(Rc(g)))R.loading=5;else{r=U({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ur.get(g))&&Cg(r,o);var V=A=c.createElement("link");qt(V),Kn(V,"link",r),V._p=new Promise(function(K,ue){V.onload=K,V.onerror=ue}),V.addEventListener("load",function(){R.loading|=1}),V.addEventListener("error",function(){R.loading|=2}),R.loading|=4,qf(A,s,c)}A={type:"stylesheet",instance:A,count:1,state:R},d.set(g,A)}}}function D1(r,s){Ps.X(r,s);var o=Wl;if(o&&r){var c=ki(o).hoistableScripts,d=Xl(r),g=c.get(d);g||(g=o.querySelector(Ic(d)),g||(r=U({src:r,async:!0},s),(s=ur.get(d))&&bg(r,s),g=o.createElement("script"),qt(g),Kn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function N1(r,s){Ps.M(r,s);var o=Wl;if(o&&r){var c=ki(o).hoistableScripts,d=Xl(r),g=c.get(d);g||(g=o.querySelector(Ic(d)),g||(r=U({src:r,async:!0,type:"module"},s),(s=ur.get(d))&&bg(r,s),g=o.createElement("script"),qt(g),Kn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function $0(r,s,o,c){var d=(d=xt.current)?Ff(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Jl(o.href),o=ki(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Jl(o.href);var g=ki(d).hoistableStyles,A=g.get(r);if(A||(d=d.ownerDocument||d,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,A),(g=d.querySelector(Rc(r)))&&!g._p&&(A.instance=g,A.state.loading=5),ur.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ur.set(r,o),g||M1(d,r,o,A.state))),s&&c===null)throw Error(i(528,""));return A}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Xl(o),o=ki(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Jl(r){return'href="'+Gt(r)+'"'}function Rc(r){return'link[rel="stylesheet"]['+r+"]"}function ew(r){return U({},r,{"data-precedence":r.precedence,precedence:null})}function M1(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Kn(s,"link",o),qt(s),r.head.appendChild(s))}function Xl(r){return'[src="'+Gt(r)+'"]'}function Ic(r){return"script[async]"+r}function tw(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Gt(o.href)+'"]');if(c)return s.instance=c,qt(c),c;var d=U({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),qt(c),Kn(c,"style",d),qf(c,o.precedence,r),s.instance=c;case"stylesheet":d=Jl(o.href);var g=r.querySelector(Rc(d));if(g)return s.state.loading|=4,s.instance=g,qt(g),g;c=ew(o),(d=ur.get(d))&&Cg(c,d),g=(r.ownerDocument||r).createElement("link"),qt(g);var A=g;return A._p=new Promise(function(R,V){A.onload=R,A.onerror=V}),Kn(g,"link",c),s.state.loading|=4,qf(g,o.precedence,r),s.instance=g;case"script":return g=Xl(o.src),(d=r.querySelector(Ic(g)))?(s.instance=d,qt(d),d):(c=o,(d=ur.get(g))&&(c=U({},o),bg(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),qt(d),Kn(d,"link",c),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(c=s.instance,s.state.loading|=4,qf(c,o.precedence,r));return s.instance}function qf(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,A=0;A<c.length;A++){var R=c[A];if(R.dataset.precedence===s)g=R;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Cg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function bg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Gf=null;function nw(r,s,o){if(Gf===null){var c=new Map,d=Gf=new Map;d.set(o,c)}else d=Gf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[gr]||g[mn]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(s)||"";A=r+A;var R=c.get(A);R?R.push(g):c.set(A,[g])}}return c}function iw(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function O1(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rw(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Dc=null;function x1(){}function k1(r,s,o){if(Dc===null)throw Error(i(475));var c=Dc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var d=Jl(o.href),g=r.querySelector(Rc(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=jf.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=g,qt(g);return}g=r.ownerDocument||r,o=ew(o),(d=ur.get(d))&&Cg(o,d),g=g.createElement("link"),qt(g);var A=g;A._p=new Promise(function(R,V){A.onload=R,A.onerror=V}),Kn(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(c.count++,s=jf.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function P1(){if(Dc===null)throw Error(i(475));var r=Dc;return r.stylesheets&&r.count===0&&Sg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Sg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function jf(){if(this.count--,this.count===0){if(this.stylesheets)Sg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Hf=null;function Sg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Hf=new Map,s.forEach(L1,r),Hf=null,jf.call(r))}function L1(r,s){if(!(s.state.loading&4)){var o=Hf.get(r);if(o)var c=o.get(null);else{o=new Map,Hf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var A=d[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),c=A)}c&&o.set(null,c)}d=s.instance,A=d.getAttribute("data-precedence"),g=o.get(A)||c,g===c&&o.set(null,d),o.set(A,d),this.count++,c=jf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Nc={$$typeof:C,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function B1(r,s,o,c,d,g,A,R){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.hiddenUpdates=Js(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function sw(r,s,o,c,d,g,A,R,V,K,ue,de){return r=new B1(r,s,o,A,R,V,K,de),s=1,g===!0&&(s|=24),g=or(3,null,null,s),r.current=g,g.stateNode=r,s=rm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Vm(g),r}function aw(r){return r?(r=k,r):k}function ow(r,s,o,c,d,g){d=aw(d),c.context===null?c.context=d:c.pendingContext=d,c=wa(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ta(r,c,s),o!==null&&(di(o,r,s),dc(o,r,s))}function lw(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Rg(r,s){lw(r,s),(r=r.alternate)&&lw(r,s)}function uw(r){if(r.tag===13){var s=v(r,67108864);s!==null&&di(s,r,67108864),Rg(r,67108864)}}var Yf=!0;function V1(r,s,o,c){var d=M.T;M.T=null;var g=we.p;try{we.p=2,Ig(r,s,o,c)}finally{we.p=g,M.T=d}}function U1(r,s,o,c){var d=M.T;M.T=null;var g=we.p;try{we.p=8,Ig(r,s,o,c)}finally{we.p=g,M.T=d}}function Ig(r,s,o,c){if(Yf){var d=Dg(c);if(d===null)gg(r,s,c,zf,o),hw(r,c);else if(q1(d,r,s,o,c))c.stopPropagation();else if(hw(r,c),s&4&&-1<F1.indexOf(r)){for(;d!==null;){var g=yr(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=An(g.pendingLanes);if(A!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var V=1<<31-jn(A);R.entanglements[1]|=V,A&=~V}Zr(g),!(Kt&6)&&(Df=Tn()+500,Cc(0))}}break;case 13:R=v(g,2),R!==null&&di(R,g,2),Of(),Rg(g,2)}if(g=Dg(c),g===null&&gg(r,s,c,zf,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else gg(r,s,c,null,o)}}function Dg(r){return r=jr(r),Ng(r)}var zf=null;function Ng(r){if(zf=null,r=xi(r),r!==null){var s=Te(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Pe(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return zf=r,null}function cw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cl()){case Dt:return 2;case dn:return 8;case Ni:case hl:return 32;case Br:return 268435456;default:return 32}default:return 32}}var Mg=!1,Da=null,Na=null,Ma=null,Mc=new Map,Oc=new Map,Oa=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hw(r,s){switch(r){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Mc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(s.pointerId)}}function xc(r,s,o,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=yr(s),s!==null&&uw(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function q1(r,s,o,c,d){switch(s){case"focusin":return Da=xc(Da,r,s,o,c,d),!0;case"dragenter":return Na=xc(Na,r,s,o,c,d),!0;case"mouseover":return Ma=xc(Ma,r,s,o,c,d),!0;case"pointerover":var g=d.pointerId;return Mc.set(g,xc(Mc.get(g)||null,r,s,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Oc.set(g,xc(Oc.get(g)||null,r,s,o,c,d)),!0}return!1}function fw(r){var s=xi(r.target);if(s!==null){var o=Te(s);if(o!==null){if(s=o.tag,s===13){if(s=Pe(o),s!==null){r.blockedOn=s,Cn(r.priority,function(){if(o.tag===13){var c=ji(),d=v(o,c);d!==null&&di(d,o,c),Rg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Dg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);_i=c,o.target.dispatchEvent(c),_i=null}else return s=yr(o),s!==null&&uw(s),r.blockedOn=o,!1;s.shift()}return!0}function dw(r,s,o){Qf(r)&&o.delete(s)}function G1(){Mg=!1,Da!==null&&Qf(Da)&&(Da=null),Na!==null&&Qf(Na)&&(Na=null),Ma!==null&&Qf(Ma)&&(Ma=null),Mc.forEach(dw),Oc.forEach(dw)}function Kf(r,s){r.blockedOn===s&&(r.blockedOn=null,Mg||(Mg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,G1)))}var Wf=null;function pw(r){Wf!==r&&(Wf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wf===r&&(Wf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],d=r[s+2];if(typeof c!="function"){if(Ng(c||o)===null)continue;break}var g=yr(o);g!==null&&(r.splice(s,3),s-=3,Em(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function kc(r){function s(V){return Kf(V,r)}Da!==null&&Kf(Da,r),Na!==null&&Kf(Na,r),Ma!==null&&Kf(Ma,r),Mc.forEach(s),Oc.forEach(s);for(var o=0;o<Oa.length;o++){var c=Oa[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Oa.length&&(o=Oa[0],o.blockedOn===null);)fw(o),o.blockedOn===null&&Oa.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],A=d[an]||null;if(typeof g=="function")A||pw(o);else if(A){var R=null;if(g&&g.hasAttribute("formAction")){if(d=g,A=g[an]||null)R=A.formAction;else if(Ng(d)!==null)continue}else R=A.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),pw(o)}}}function Og(r){this._internalRoot=r}Jf.prototype.render=Og.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=ji();ow(o,c,r,s,null,null)},Jf.prototype.unmount=Og.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&zl(),ow(r.current,2,null,r,null,null),Of(),s[Oi]=null}};function Jf(r){this._internalRoot=r}Jf.prototype.unstable_scheduleHydration=function(r){if(r){var s=fl();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Oa.length&&s!==0&&s<Oa[o].priority;o++);Oa.splice(o,0,r),o===0&&fw(r)}};var mw=e.version;if(mw!=="19.0.0")throw Error(i(527,mw,"19.0.0"));we.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=ce(s),r=r!==null?Se(r):null,r=r===null?null:r.stateNode,r};var j1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:M,findFiberByHostInstance:xi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{Vr=Xf.inject(j1),On=Xf}catch{}}return Lc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",d=OE,g=xE,A=kE,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=sw(r,1,!1,null,null,o,c,d,g,A,R,null),r[Oi]=s.current,mg(r.nodeType===8?r.parentNode:r),new Og(s)},Lc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,d="",g=OE,A=xE,R=kE,V=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),s=sw(r,1,!0,s,o??null,c,d,g,A,R,V,K),s.context=aw(null),o=s.current,c=ji(),d=wa(c),d.callback=null,Ta(o,d,c),s.current.lanes=c,Yt(s,c),Zr(s),r[Oi]=s.current,mg(r),new Jf(s)},Lc.version="19.0.0",Lc}var bw;function $1(){if(bw)return Pg.exports;bw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pg.exports=Z1(),Pg.exports}var eD=$1();const tD=uC(eD);var Bc={},Sw;function nD(){if(Sw)return Bc;Sw=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.parse=u,Bc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,C){const I=new l,L=b.length;if(L<2)return I;const O=(C==null?void 0:C.decode)||_;let x=0;do{const P=b.indexOf("=",x);if(P===-1)break;const j=b.indexOf(";",x),ne=j===-1?L:j;if(P>ne){x=b.lastIndexOf(";",P-1)+1;continue}const se=f(b,x,P),pe=p(b,P,se),B=b.slice(se,pe);if(I[B]===void 0){let N=f(b,P+1,ne),M=p(b,ne,N);const U=O(b.slice(N,M));I[B]=U}x=ne+1}while(x<L);return I}function f(b,C,I){do{const L=b.charCodeAt(C);if(L!==32&&L!==9)return C}while(++C<I);return I}function p(b,C,I){for(;C>I;){const L=b.charCodeAt(--C);if(L!==32&&L!==9)return C+1}return I}function m(b,C,I){const L=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const O=L(C);if(!e.test(O))throw new TypeError(`argument val is invalid: ${C}`);let x=b+"="+O;if(!I)return x;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);x+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);x+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);x+="; Path="+I.path}if(I.expires){if(!T(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);x+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(x+="; HttpOnly"),I.secure&&(x+="; Secure"),I.partitioned&&(x+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return x}function _(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return a.call(b)==="[object Date]"}return Bc}nD();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rw="popstate";function iD(n={}){function e(i,a){let{pathname:l,search:u,hash:f}=i.location;return hy("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:lh(a)}return sD(e,t,null,n)}function Wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function os(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rD(){return Math.random().toString(36).substring(2,10)}function Iw(n,e){return{usr:n.state,key:n.key,idx:e}}function hy(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ru(e):e,state:t,key:e&&e.key||i||rD()}}function lh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ru(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function sD(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,f="POP",p=null,m=_();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function _(){return(u.state||{idx:null}).idx}function T(){f="POP";let O=_(),x=O==null?null:O-m;m=O,p&&p({action:f,location:L.location,delta:x})}function b(O,x){f="PUSH";let P=hy(L.location,O,x);m=_()+1;let j=Iw(P,m),ne=L.createHref(P);try{u.pushState(j,"",ne)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(ne)}l&&p&&p({action:f,location:L.location,delta:1})}function C(O,x){f="REPLACE";let P=hy(L.location,O,x);m=_();let j=Iw(P,m),ne=L.createHref(P);u.replaceState(j,"",ne),l&&p&&p({action:f,location:L.location,delta:0})}function I(O){let x=a.location.origin!=="null"?a.location.origin:a.location.href,P=typeof O=="string"?O:lh(O);return P=P.replace(/ $/,"%20"),Wt(x,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,x)}let L={get action(){return f},get location(){return n(a,u)},listen(O){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Rw,T),p=O,()=>{a.removeEventListener(Rw,T),p=null}},createHref(O){return e(a,O)},createURL:I,encodeLocation(O){let x=I(O);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:b,replace:C,go(O){return u.go(O)}};return L}function cC(n,e,t="/"){return aD(n,e,t,!1)}function aD(n,e,t,i){let a=typeof e=="string"?Ru(e):e,l=Qa(a.pathname||"/",t);if(l==null)return null;let u=hC(n);oD(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let m=_D(l);f=gD(u[p],m,i)}return f}function hC(n,e=[],t=[],i=""){let a=(l,u,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(Wt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Fs([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(Wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),hC(l.children,e,_,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:pD(m,l.index),routesMeta:_})};return n.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,u);else for(let p of fC(l.path))a(l,u,p)}),e}function fC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=fC(i.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function oD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mD(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var lD=/^:[\w-]+$/,uD=3,cD=2,hD=1,fD=10,dD=-2,Dw=n=>n==="*";function pD(n,e){let t=n.split("/"),i=t.length;return t.some(Dw)&&(i+=dD),e&&(i+=cD),t.filter(a=>!Dw(a)).reduce((a,l)=>a+(lD.test(l)?uD:l===""?hD:fD),i)}function mD(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function gD(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",u=[];for(let f=0;f<i.length;++f){let p=i[f],m=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=Sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),b=p.route;if(!T&&m&&t&&!i[i.length-1].route.index&&(T=Sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),u.push({params:a,pathname:Fs([l,T.pathname]),pathnameBase:TD(Fs([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=Fs([l,T.pathnameBase]))}return u}function Sd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=yD(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((m,{paramName:_,isOptional:T},b)=>{if(_==="*"){let I=f[b]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const C=f[b];return T&&!C?m[_]=void 0:m[_]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:n}}function yD(n,e=!1,t=!0){os(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function _D(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return os(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function vD(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Ru(n):n;return{pathname:t?t.startsWith("/")?t:ED(t,e):e,search:AD(i),hash:CD(a)}}function ED(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ug(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dC(n){let e=wD(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function pC(n,e,t,i=!1){let a;typeof n=="string"?a=Ru(n):(a={...n},Wt(!a.pathname||!a.pathname.includes("?"),Ug("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),Ug("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),Ug("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=t;else{let T=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),T-=1;a.pathname=b.join("/")}f=T>=0?e[T]:"/"}let p=vD(a,f),m=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Fs=n=>n.join("/").replace(/\/\/+/g,"/"),TD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function bD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var mC=["POST","PUT","PATCH","DELETE"];new Set(mC);var SD=["GET",...mC];new Set(SD);var Iu=X.createContext(null);Iu.displayName="DataRouter";var op=X.createContext(null);op.displayName="DataRouterState";var gC=X.createContext({isTransitioning:!1});gC.displayName="ViewTransition";var RD=X.createContext(new Map);RD.displayName="Fetchers";var ID=X.createContext(null);ID.displayName="Await";var cs=X.createContext(null);cs.displayName="Navigation";var Sh=X.createContext(null);Sh.displayName="Location";var Qs=X.createContext({outlet:null,matches:[],isDataRoute:!1});Qs.displayName="Route";var h_=X.createContext(null);h_.displayName="RouteError";function DD(n,{relative:e}={}){Wt(Rh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=X.useContext(cs),{hash:a,pathname:l,search:u}=Ih(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Fs([t,l])),i.createHref({pathname:f,search:u,hash:a})}function Rh(){return X.useContext(Sh)!=null}function rl(){return Wt(Rh(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Sh).location}var yC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _C(n){X.useContext(cs).static||X.useLayoutEffect(n)}function f_(){let{isDataRoute:n}=X.useContext(Qs);return n?GD():ND()}function ND(){Wt(Rh(),"useNavigate() may be used only in the context of a <Router> component.");let n=X.useContext(Iu),{basename:e,navigator:t}=X.useContext(cs),{matches:i}=X.useContext(Qs),{pathname:a}=rl(),l=JSON.stringify(dC(i)),u=X.useRef(!1);return _C(()=>{u.current=!0}),X.useCallback((p,m={})=>{if(os(u.current,yC),!u.current)return;if(typeof p=="number"){t.go(p);return}let _=pC(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Fs([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,l,a,n])}X.createContext(null);function Ih(n,{relative:e}={}){let{matches:t}=X.useContext(Qs),{pathname:i}=rl(),a=JSON.stringify(dC(t));return X.useMemo(()=>pC(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function MD(n,e){return vC(n,e)}function vC(n,e,t,i){var P;Wt(Rh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=X.useContext(cs),{matches:u}=X.useContext(Qs),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",_=f?f.pathnameBase:"/",T=f&&f.route;{let j=T&&T.path||"";EC(m,!T||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=rl(),C;if(e){let j=typeof e=="string"?Ru(e):e;Wt(_==="/"||((P=j.pathname)==null?void 0:P.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${j.pathname}" was given in the \`location\` prop.`),C=j}else C=b;let I=C.pathname||"/",L=I;if(_!=="/"){let j=_.replace(/^\//,"").split("/");L="/"+I.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=!l&&t&&t.matches&&t.matches.length>0?t.matches:cC(n,{pathname:L});os(T||O!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),os(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=LD(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Fs([_,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?_:Fs([_,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,t,i);return e&&x?X.createElement(Sh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},x):x}function OD(){let n=qD(),e=bD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:l},"ErrorBoundary")," or"," ",X.createElement("code",{style:l},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),t?X.createElement("pre",{style:a},t):null,u)}var xD=X.createElement(OD,null),kD=class extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?X.createElement(Qs.Provider,{value:this.props.routeContext},X.createElement(h_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PD({routeContext:n,match:e,children:t}){let i=X.useContext(Iu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(Qs.Provider,{value:n},t)}function LD(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Wt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:_,errors:T}=t,b=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||b){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,m,_)=>{let T,b=!1,C=null,I=null;t&&(T=l&&m.route.id?l[m.route.id]:void 0,C=m.route.errorElement||xD,u&&(f<0&&_===0?(EC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,I=null):f===_&&(b=!0,I=m.route.hydrateFallbackElement||null)));let L=e.concat(a.slice(0,_+1)),O=()=>{let x;return T?x=C:b?x=I:m.route.Component?x=X.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=p,X.createElement(PD,{match:m,routeContext:{outlet:p,matches:L,isDataRoute:t!=null},children:x})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?X.createElement(kD,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:O(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):O()},null)}function d_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BD(n){let e=X.useContext(Iu);return Wt(e,d_(n)),e}function VD(n){let e=X.useContext(op);return Wt(e,d_(n)),e}function UD(n){let e=X.useContext(Qs);return Wt(e,d_(n)),e}function p_(n){let e=UD(n),t=e.matches[e.matches.length-1];return Wt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function FD(){return p_("useRouteId")}function qD(){var i;let n=X.useContext(h_),e=VD("useRouteError"),t=p_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function GD(){let{router:n}=BD("useNavigate"),e=p_("useNavigate"),t=X.useRef(!1);return _C(()=>{t.current=!0}),X.useCallback(async(a,l={})=>{os(t.current,yC),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Nw={};function EC(n,e,t){!e&&!Nw[n]&&(Nw[n]=!0,os(!1,t))}X.memo(jD);function jD({routes:n,future:e,state:t}){return vC(n,void 0,t,e)}function fy(n){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HD({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){Wt(!Rh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=X.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=Ru(t));let{pathname:p="/",search:m="",hash:_="",state:T=null,key:b="default"}=t,C=X.useMemo(()=>{let I=Qa(p,u);return I==null?null:{location:{pathname:I,search:m,hash:_,state:T,key:b},navigationType:i}},[u,p,m,_,T,b,i]);return os(C!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:X.createElement(cs.Provider,{value:f},X.createElement(Sh.Provider,{children:e,value:C}))}function YD({children:n,location:e}){return MD(dy(n),e)}function dy(n,e=[]){let t=[];return X.Children.forEach(n,(i,a)=>{if(!X.isValidElement(i))return;let l=[...e,a];if(i.type===X.Fragment){t.push.apply(t,dy(i.props.children,l));return}Wt(i.type===fy,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=dy(i.props.children,l)),t.push(u)}),t}var cd="get",hd="application/x-www-form-urlencoded";function lp(n){return n!=null&&typeof n.tagName=="string"}function zD(n){return lp(n)&&n.tagName.toLowerCase()==="button"}function QD(n){return lp(n)&&n.tagName.toLowerCase()==="form"}function KD(n){return lp(n)&&n.tagName.toLowerCase()==="input"}function WD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function JD(n,e){return n.button===0&&(!e||e==="_self")&&!WD(n)}var Zf=null;function XD(){if(Zf===null)try{new FormData(document.createElement("form"),0),Zf=!1}catch{Zf=!0}return Zf}var ZD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fg(n){return n!=null&&!ZD.has(n)?(os(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hd}"`),null):n}function $D(n,e){let t,i,a,l,u;if(QD(n)){let f=n.getAttribute("action");i=f?Qa(f,e):null,t=n.getAttribute("method")||cd,a=Fg(n.getAttribute("enctype"))||hd,l=new FormData(n)}else if(zD(n)||KD(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?Qa(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||cd,a=Fg(n.getAttribute("formenctype"))||Fg(f.getAttribute("enctype"))||hd,l=new FormData(f,n),!XD()){let{name:m,type:_,value:T}=n;if(_==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,T)}}else{if(lp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cd,i=null,a=hd,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:u}}function m_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function eN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nN(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await eN(l,t);return u.links?u.links():[]}return[]}));return aN(i.flat(1).filter(tN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Mw(n,e,t,i,a,l){let u=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>{var _;return t[m].pathname!==p.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>u(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{var T;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(u(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function iN(n,e){return rN(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let a=[i.module];return i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function rN(n){return[...new Set(n)]}function sN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function aN(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(sN(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function oN(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function lN(){let n=X.useContext(Iu);return m_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function uN(){let n=X.useContext(op);return m_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var g_=X.createContext(void 0);g_.displayName="FrameworkContext";function wC(){let n=X.useContext(g_);return m_(n,"You must render this element inside a <HydratedRouter> element"),n}function cN(n,e){let t=X.useContext(g_),[i,a]=X.useState(!1),[l,u]=X.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:T}=e,b=X.useRef(null);X.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let L=x=>{x.forEach(P=>{u(P.isIntersecting)})},O=new IntersectionObserver(L,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[n]),X.useEffect(()=>{if(i){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[i]);let C=()=>{a(!0)},I=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:Vc(f,C),onBlur:Vc(p,I),onMouseEnter:Vc(m,C),onMouseLeave:Vc(_,I),onTouchStart:Vc(T,C)}]:[!1,b,{}]}function Vc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function hN({page:n,...e}){let{router:t}=lN(),i=X.useMemo(()=>cC(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?X.createElement(dN,{page:n,matches:i,...e}):null}function fN(n){let{manifest:e,routeModules:t}=wC(),[i,a]=X.useState([]);return X.useEffect(()=>{let l=!1;return nN(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),i}function dN({page:n,matches:e,...t}){let i=rl(),{manifest:a,routeModules:l}=wC(),{loaderData:u,matches:f}=uN(),p=X.useMemo(()=>Mw(n,e,f,a,i,"data"),[n,e,f,a,i]),m=X.useMemo(()=>Mw(n,e,f,a,i,"assets"),[n,e,f,a,i]),_=X.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,I=!1;if(e.forEach(O=>{var P;let x=a.routes[O.route.id];!x||!x.hasLoader||(!p.some(j=>j.route.id===O.route.id)&&O.route.id in u&&((P=l[O.route.id])!=null&&P.shouldRevalidate)||x.hasClientLoader?I=!0:C.add(O.route.id))}),C.size===0)return[];let L=oN(n);return I&&C.size>0&&L.searchParams.set("_routes",e.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[L.pathname+L.search]},[u,i,a,p,e,n,l]),T=X.useMemo(()=>iN(m,a),[m,a]),b=fN(m);return X.createElement(X.Fragment,null,_.map(C=>X.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>X.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),b.map(({key:C,link:I})=>X.createElement("link",{key:C,...I})))}function pN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var TC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TC&&(window.__reactRouterVersion="7.1.5")}catch{}function mN({basename:n,children:e,window:t}){let i=X.useRef();i.current==null&&(i.current=iD({window:t,v5Compat:!0}));let a=i.current,[l,u]=X.useState({action:a.action,location:a.location}),f=X.useCallback(p=>{X.startTransition(()=>u(p))},[u]);return X.useLayoutEffect(()=>a.listen(f),[a,f]),X.createElement(HD,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var AC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CC=X.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:m,preventScrollReset:_,viewTransition:T,...b},C){let{basename:I}=X.useContext(cs),L=typeof m=="string"&&AC.test(m),O,x=!1;if(typeof m=="string"&&L&&(O=m,TC))try{let M=new URL(window.location.href),U=m.startsWith("//")?new URL(M.protocol+m):new URL(m),H=Qa(U.pathname,I);U.origin===M.origin&&H!=null?m=H+U.search+U.hash:x=!0}catch{os(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=DD(m,{relative:a}),[j,ne,se]=cN(i,b),pe=vN(m,{replace:u,state:f,target:p,preventScrollReset:_,relative:a,viewTransition:T});function B(M){e&&e(M),M.defaultPrevented||pe(M)}let N=X.createElement("a",{...b,...se,href:O||P,onClick:x||l?e:B,ref:pN(C,ne),target:p,"data-discover":!L&&t==="render"?"true":void 0});return j&&!L?X.createElement(X.Fragment,null,N,X.createElement(hN,{page:P})):N});CC.displayName="Link";var gN=X.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...m},_){let T=Ih(u,{relative:m.relative}),b=rl(),C=X.useContext(op),{navigator:I,basename:L}=X.useContext(cs),O=C!=null&&CN(T)&&f===!0,x=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,P=b.pathname,j=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(P=P.toLowerCase(),j=j?j.toLowerCase():null,x=x.toLowerCase()),j&&L&&(j=Qa(j,L)||j);const ne=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let se=P===x||!a&&P.startsWith(x)&&P.charAt(ne)==="/",pe=j!=null&&(j===x||!a&&j.startsWith(x)&&j.charAt(x.length)==="/"),B={isActive:se,isPending:pe,isTransitioning:O},N=se?e:void 0,M;typeof i=="function"?M=i(B):M=[i,se?"active":null,pe?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(B):l;return X.createElement(CC,{...m,"aria-current":N,className:M,ref:_,style:U,to:u,viewTransition:f},typeof p=="function"?p(B):p)});gN.displayName="NavLink";var yN=X.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:u=cd,action:f,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:T,...b},C)=>{let I=TN(),L=AN(f,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",x=typeof f=="string"&&AC.test(f),P=j=>{if(p&&p(j),j.defaultPrevented)return;j.preventDefault();let ne=j.nativeEvent.submitter,se=(ne==null?void 0:ne.getAttribute("formmethod"))||u;I(ne||j.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:a,state:l,relative:m,preventScrollReset:_,viewTransition:T})};return X.createElement("form",{ref:C,method:O,action:L,onSubmit:i?p:P,...b,"data-discover":!x&&n==="render"?"true":void 0})});yN.displayName="Form";function _N(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bC(n){let e=X.useContext(Iu);return Wt(e,_N(n)),e}function vN(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=f_(),p=rl(),m=Ih(n,{relative:l});return X.useCallback(_=>{if(JD(_,e)){_.preventDefault();let T=t!==void 0?t:lh(p)===lh(m);f(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,f,m,t,i,e,n,a,l,u])}var EN=0,wN=()=>`__${String(++EN)}__`;function TN(){let{router:n}=bC("useSubmit"),{basename:e}=X.useContext(cs),t=FD();return X.useCallback(async(i,a={})=>{let{action:l,method:u,encType:f,formData:p,body:m}=$D(i,e);if(a.navigate===!1){let _=a.fetcherKey||wN();await n.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function AN(n,{relative:e}={}){let{basename:t}=X.useContext(cs),i=X.useContext(Qs);Wt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Ih(n||".",{relative:e})},u=rl();if(n==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(T=>T).forEach(T=>f.append("index",T));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Fs([t,l.pathname])),lh(l)}function CN(n,e={}){let t=X.useContext(gC);Wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bC("useViewTransitionState"),a=Ih(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Qa(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Qa(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Sd(a.pathname,u)!=null||Sd(a.pathname,l)!=null}new TextEncoder;var Ow={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve=function(n,e){if(!n)throw Du(e)},Du=function(n){return new Error("Firebase Database ("+SC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},bN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],f=n[t++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,_=l>>2,T=(l&3)<<4|f>>4;let b=(f&15)<<2|m>>6,C=m&63;p||(C=64,u||(b=64)),i.push(t[_],t[T],t[b],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||m==null||T==null)throw new SN;const b=l<<2|f>>4;if(i.push(b),m!==64){const C=f<<4&240|m>>2;if(i.push(C),T!==64){const I=m<<6&192|T;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IC=function(n){const e=RC(n);return y_.encodeByteArray(e,!0)},Rd=function(n){return IC(n).replace(/\./g,"")},Id=function(n){try{return y_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(n){return DC(void 0,n)}function DC(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!IN(t)||(n[t]=DC(n[t],e[t]));return n}function IN(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=()=>DN().__FIREBASE_DEFAULTS__,MN=()=>{if(typeof process>"u"||typeof Ow>"u")return;const n=Ow.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ON=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Id(n[1]);return e&&JSON.parse(e)},up=()=>{try{return NN()||MN()||ON()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},NC=n=>{var e,t;return(t=(e=up())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},MC=n=>{const e=NC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},OC=()=>{var n;return(n=up())===null||n===void 0?void 0:n.config},xC=n=>{var e;return(e=up())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rd(JSON.stringify(t)),Rd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function __(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oi())}function xN(){var n;const e=(n=up())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LN(){const n=oi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function BN(){return SC.NODE_ADMIN===!0}function VN(){return!xN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UN(){try{return typeof indexedDB=="object"}catch{return!1}}function FN(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="FirebaseError";class Ks extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=qN,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nh.prototype.create)}}class Nh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?GN(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Ks(a,f,i)}}function GN(n,e){return n.replace(jN,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const jN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(n){return JSON.parse(n)}function Fn(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=function(n){let e={},t={},i={},a="";try{const l=n.split(".");e=uh(Id(l[0])||""),t=uh(Id(l[1])||""),a=l[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:a}},HN=function(n){const e=LC(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},YN=function(n){const e=LC(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function du(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function py(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dd(n,e,t){const i={};for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=e.call(t,n[a],a,n));return i}function Nd(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],u=e[a];if(xw(l)&&xw(u)){if(!Nd(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function xw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function zc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let T=0;T<16;T++)i[T]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let T=0;T<16;T++)i[T]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let T=16;T<80;T++){const b=i[T-3]^i[T-8]^i[T-14]^i[T-16];i[T]=(b<<1|b>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],f=this.chain_[3],p=this.chain_[4],m,_;for(let T=0;T<80;T++){T<40?T<20?(m=f^l&(u^f),_=1518500249):(m=l^u^f,_=1859775393):T<60?(m=l&u|f&(l|u),_=2400959708):(m=l^u^f,_=3395469782);const b=(a<<5|a>>>27)+m+p+_+i[T]&4294967295;p=f,f=u,u=(l<<30|l>>>2)&4294967295,l=a,a=b}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let a=0;const l=this.buf_;let u=this.inbuf_;for(;a<t;){if(u===0)for(;a<=i;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<t;)if(l[u]=e.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}else for(;a<t;)if(l[u]=e[a],++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[a]>>l&255,++i;return e}}function QN(n,e){const t=new KN(n,e);return t.subscribe.bind(t)}class KN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");WN(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=qg),a.error===void 0&&(a.error=qg),a.complete===void 0&&(a.complete=qg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function qg(){}function cp(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);if(a>=55296&&a<=56319){const l=a-55296;i++,ve(i<n.length,"Surrogate pair missing trail surrogate.");const u=n.charCodeAt(i)-56320;a=65536+(l<<10)+u}a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):a<65536?(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},hp=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(n){return n&&n._delegate?n._delegate:n}class Ka{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Dh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($N(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ZN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZN(n){return n===Go?void 0:n}function $N(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ct||(ct={}));const tM={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},nM=ct.INFO,iM={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},rM=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=iM[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fp{constructor(e){this.name=e,this._logLevel=nM,this._logHandler=rM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const sM=(n,e)=>e.some(t=>n instanceof t);let kw,Pw;function aM(){return kw||(kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oM(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BC=new WeakMap,my=new WeakMap,VC=new WeakMap,Gg=new WeakMap,v_=new WeakMap;function lM(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Ga(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&BC.set(t,n)}).catch(()=>{}),v_.set(e,n),e}function uM(n){if(my.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});my.set(n,e)}let gy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return my.get(n);if(e==="objectStoreNames")return n.objectStoreNames||VC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ga(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cM(n){gy=n(gy)}function hM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(jg(this),e,...t);return VC.set(i,e.sort?e.sort():[e]),Ga(i)}:oM().includes(n)?function(...e){return n.apply(jg(this),e),Ga(BC.get(this))}:function(...e){return Ga(n.apply(jg(this),e))}}function fM(n){return typeof n=="function"?hM(n):(n instanceof IDBTransaction&&uM(n),sM(n,aM())?new Proxy(n,gy):n)}function Ga(n){if(n instanceof IDBRequest)return lM(n);if(Gg.has(n))return Gg.get(n);const e=fM(n);return e!==n&&(Gg.set(n,e),v_.set(e,n)),e}const jg=n=>v_.get(n);function dM(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),f=Ga(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Ga(u.result),p.oldVersion,p.newVersion,Ga(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const pM=["get","getKey","getAll","getAllKeys","count"],mM=["put","add","delete","clear"],Hg=new Map;function Lw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hg.get(e))return Hg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=mM.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||pM.includes(t)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),a&&p.done]))[0]};return Hg.set(e,l),l}cM(n=>({...n,get:(e,t,i)=>Lw(e,t)||n.get(e,t,i),has:(e,t)=>!!Lw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yM(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function yM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yy="@firebase/app",Bw="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new fp("@firebase/app"),_M="@firebase/app-compat",vM="@firebase/analytics-compat",EM="@firebase/analytics",wM="@firebase/app-check-compat",TM="@firebase/app-check",AM="@firebase/auth",CM="@firebase/auth-compat",bM="@firebase/database",SM="@firebase/data-connect",RM="@firebase/database-compat",IM="@firebase/functions",DM="@firebase/functions-compat",NM="@firebase/installations",MM="@firebase/installations-compat",OM="@firebase/messaging",xM="@firebase/messaging-compat",kM="@firebase/performance",PM="@firebase/performance-compat",LM="@firebase/remote-config",BM="@firebase/remote-config-compat",VM="@firebase/storage",UM="@firebase/storage-compat",FM="@firebase/firestore",qM="@firebase/vertexai",GM="@firebase/firestore-compat",jM="firebase",HM="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="[DEFAULT]",YM={[yy]:"fire-core",[_M]:"fire-core-compat",[EM]:"fire-analytics",[vM]:"fire-analytics-compat",[TM]:"fire-app-check",[wM]:"fire-app-check-compat",[AM]:"fire-auth",[CM]:"fire-auth-compat",[bM]:"fire-rtdb",[SM]:"fire-data-connect",[RM]:"fire-rtdb-compat",[IM]:"fire-fn",[DM]:"fire-fn-compat",[NM]:"fire-iid",[MM]:"fire-iid-compat",[OM]:"fire-fcm",[xM]:"fire-fcm-compat",[kM]:"fire-perf",[PM]:"fire-perf-compat",[LM]:"fire-rc",[BM]:"fire-rc-compat",[VM]:"fire-gcs",[UM]:"fire-gcs-compat",[FM]:"fire-fst",[GM]:"fire-fst-compat",[qM]:"fire-vertex","fire-js":"fire-js",[jM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Map,zM=new Map,vy=new Map;function Vw(n,e){try{n.container.addComponent(e)}catch(t){js.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jo(n){const e=n.name;if(vy.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,n);for(const t of Md.values())Vw(t,n);for(const t of zM.values())Vw(t,n);return!0}function dp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ja=new Nh("app","Firebase",QM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=HM;function UC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:_y,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw ja.create("bad-app-name",{appName:String(a)});if(t||(t=OC()),!t)throw ja.create("no-options");const l=Md.get(a);if(l){if(Nd(t,l.options)&&Nd(i,l.config))return l;throw ja.create("duplicate-app",{appName:a})}const u=new eM(a);for(const p of vy.values())u.addComponent(p);const f=new KM(t,i,u);return Md.set(a,f),f}function E_(n=_y){const e=Md.get(n);if(!e&&n===_y&&OC())return UC();if(!e)throw ja.create("no-app",{appName:n});return e}function is(n,e,t){var i;let a=(i=YM[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(f.join(" "));return}Jo(new Ka(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="firebase-heartbeat-database",JM=1,ch="firebase-heartbeat-store";let Yg=null;function FC(){return Yg||(Yg=dM(WM,JM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ch)}catch(t){console.warn(t)}}}}).catch(n=>{throw ja.create("idb-open",{originalErrorMessage:n.message})})),Yg}async function XM(n){try{const t=(await FC()).transaction(ch),i=await t.objectStore(ch).get(qC(n));return await t.done,i}catch(e){if(e instanceof Ks)js.warn(e.message);else{const t=ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});js.warn(t.message)}}}async function Uw(n,e){try{const i=(await FC()).transaction(ch,"readwrite");await i.objectStore(ch).put(e,qC(n)),await i.done}catch(t){if(t instanceof Ks)js.warn(t.message);else{const i=ja.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});js.warn(i.message)}}}function qC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=1024,$M=30;class eO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nO(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Fw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>$M){const u=iO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){js.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Fw(),{heartbeatsToSend:i,unsentEntries:a}=tO(this._heartbeatsCache.heartbeats),l=Rd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return js.warn(t),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function tO(n,e=ZM){const t=[];let i=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),qw(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),qw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class nO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UN()?FN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await XM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function qw(n){return Rd(JSON.stringify({version:2,heartbeats:n})).length}function iO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n){Jo(new Ka("platform-logger",e=>new gM(e),"PRIVATE")),Jo(new Ka("heartbeat",e=>new eO(e),"PRIVATE")),is(yy,Bw,n),is(yy,Bw,"esm2017"),is("fire-js","")}rO("");var sO="firebase",aO="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(sO,aO,"app");function w_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function GC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oO=GC,jC=new Nh("auth","Firebase",GC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new fp("@firebase/auth");function lO(n,...e){Od.logLevel<=ct.WARN&&Od.warn(`Auth (${sl}): ${n}`,...e)}function fd(n,...e){Od.logLevel<=ct.ERROR&&Od.error(`Auth (${sl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(n,...e){throw T_(n,...e)}function rs(n,...e){return T_(n,...e)}function HC(n,e,t){const i=Object.assign(Object.assign({},oO()),{[e]:t});return new Nh("auth","Firebase",i).create(e,{appName:n.name})}function Ha(n){return HC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return jC.create(n,...e)}function Fe(n,e,...t){if(!n)throw T_(e,...t)}function Ls(n){const e="INTERNAL ASSERTION FAILED: "+n;throw fd(e),new Error(e)}function Hs(n,e){n||Ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function uO(){return Gw()==="http:"||Gw()==="https:"}function Gw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uO()||PN()||"connection"in navigator)?navigator.onLine:!0}function hO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hs(t>e,"Short delay should be less than long delay!"),this.isMobile=__()||PC()}get(){return cO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n,e){Hs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new Mh(3e4,6e4);function al(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function io(n,e,t,i,a={}){return zC(n,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=Nu(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},l);return kN()||(m.referrerPolicy="no-referrer"),YC.fetch()(QC(n,n.config.apiHost,t,f),m)})}async function zC(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},fO),e);try{const a=new mO(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw $f(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $f(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw $f(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw $f(n,"user-disabled",u);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw HC(n,_,m);Or(n,_)}}catch(a){if(a instanceof Ks)throw a;Or(n,"network-request-failed",{message:String(a)})}}async function pp(n,e,t,i,a={}){const l=await io(n,e,t,i,a);return"mfaPendingCredential"in l&&Or(n,"multi-factor-auth-required",{_serverResponse:l}),l}function QC(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?A_(n.config,a):`${n.config.apiScheme}://${a}`}function pO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(rs(this.auth,"network-request-failed")),dO.get())})}}function $f(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=rs(n,e,i);return a.customData._tokenResponse=t,a}function jw(n){return n!==void 0&&n.enterprise!==void 0}class gO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yO(n,e){return io(n,"GET","/v2/recaptchaConfig",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(n,e){return io(n,"POST","/v1/accounts:delete",e)}async function KC(n,e){return io(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vO(n,e=!1){const t=li(n),i=await t.getIdToken(e),a=C_(i);Fe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Zc(zg(a.auth_time)),issuedAtTime:Zc(zg(a.iat)),expirationTime:Zc(zg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function zg(n){return Number(n)*1e3}function C_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return fd("JWT malformed, contained fewer than 3 sections"),null;try{const a=Id(t);return a?JSON.parse(a):(fd("Failed to decode base64 JWT payload"),null)}catch(a){return fd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Hw(n){const e=C_(n);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ks&&EO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function EO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(n){var e;const t=n.auth,i=await n.getIdToken(),a=await hh(n,KC(t,{idToken:i}));Fe(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?WC(l.providerUserInfo):[],f=AO(n.providerData,u),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?m:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new wy(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function TO(n){const e=li(n);await xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AO(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function WC(n){return n.map(e=>{var{providerId:t}=e,i=w_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(n,e){const t=await zC(n,{},async()=>{const i=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=QC(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",YC.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bO(n,e){return io(n,"POST","/v2/accounts:revokeToken",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const t=Hw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await CO(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,u=new su;return i&&(Fe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Fe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Fe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new su,this.toJSON())}_performRefresh(){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(n,e){Fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Bs{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=w_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new wy(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await hh(this,this.stsTokenManager.getToken(this.auth,e));return Fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return vO(this,e)}reload(){return TO(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await xd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(Ha(this.auth));const e=await this.getIdToken();return await hh(this,_O(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,u,f,p,m,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,I=(u=t.photoURL)!==null&&u!==void 0?u:void 0,L=(f=t.tenantId)!==null&&f!==void 0?f:void 0,O=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,x=(m=t.createdAt)!==null&&m!==void 0?m:void 0,P=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:j,emailVerified:ne,isAnonymous:se,providerData:pe,stsTokenManager:B}=t;Fe(j&&B,e,"internal-error");const N=su.fromJSON(this.name,B);Fe(typeof j=="string",e,"internal-error"),ka(T,e.name),ka(b,e.name),Fe(typeof ne=="boolean",e,"internal-error"),Fe(typeof se=="boolean",e,"internal-error"),ka(C,e.name),ka(I,e.name),ka(L,e.name),ka(O,e.name),ka(x,e.name),ka(P,e.name);const M=new Bs({uid:j,auth:e,email:b,emailVerified:ne,displayName:T,isAnonymous:se,photoURL:I,phoneNumber:C,tenantId:L,stsTokenManager:N,createdAt:x,lastLoginAt:P});return pe&&Array.isArray(pe)&&(M.providerData=pe.map(U=>Object.assign({},U))),O&&(M._redirectEventId=O),M}static async _fromIdTokenResponse(e,t,i=!1){const a=new su;a.updateFromServerResponse(t);const l=new Bs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await xd(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Fe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?WC(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new su;f.updateFromIdToken(i);const p=new Bs({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new wy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;function Vs(n){Hs(n instanceof Function,"Expected a class definition");let e=Yw.get(n);return e?(Hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Yw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}JC.type="NONE";const zw=JC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n,e,t){return`firebase:${n}:${e}:${t}`}class au{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=dd(this.userKey,a.apiKey,l),this.fullPersistenceKey=dd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new au(Vs(zw),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Vs(zw);const u=dd(i,e.config.apiKey,e.name);let f=null;for(const m of t)try{const _=await m._get(u);if(_){const T=Bs._fromJSON(e,_);m!==l&&(f=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new au(l,e,i):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new au(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nb(e))return"Blackberry";if(ib(e))return"Webos";if(ZC(e))return"Safari";if((e.includes("chrome/")||$C(e))&&!e.includes("edge/"))return"Chrome";if(tb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function XC(n=oi()){return/firefox\//i.test(n)}function ZC(n=oi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $C(n=oi()){return/crios\//i.test(n)}function eb(n=oi()){return/iemobile/i.test(n)}function tb(n=oi()){return/android/i.test(n)}function nb(n=oi()){return/blackberry/i.test(n)}function ib(n=oi()){return/webos/i.test(n)}function b_(n=oi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SO(n=oi()){var e;return b_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RO(){return LN()&&document.documentMode===10}function rb(n=oi()){return b_(n)||tb(n)||ib(n)||nb(n)||/windows phone/i.test(n)||eb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(n,e=[]){let t;switch(n){case"Browser":t=Qw(oi());break;case"Worker":t=`${Qw(oi())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(n,e={}){return io(n,"GET","/v2/passwordPolicy",al(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=6;class MO{constructor(e){var t,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:NO,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,u,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kw(this),this.idTokenSubscription=new Kw(this),this.beforeStateQueue=new IO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vs(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await au.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await KC(this,{idToken:e}),i=await Bs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(Ha(this));const t=e?li(e):null;return t&&Fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DO(this),t=new MO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await bO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vs(e)||this._popupRedirectResolver;Fe(t,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[Vs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&lO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mu(n){return li(n)}class Kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=QN(t=>this.observer=t)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xO(n){mp=n}function ab(n){return mp.loadJS(n)}function kO(){return mp.recaptchaEnterpriseScript}function PO(){return mp.gapiScript}function LO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class BO{constructor(){this.enterprise=new VO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class VO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const UO="recaptcha-enterprise",ob="NO_RECAPTCHA";class FO{constructor(e){this.type=UO,this.auth=Mu(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{yO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new gO(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(p=>{f(p)})})}function a(l,u,f){const p=window.grecaptcha;jw(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(ob)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BO().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!t&&jw(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=kO();p.length!==0&&(p+=f),ab(p).then(()=>{a(f,l,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function Ww(n,e,t,i=!1,a=!1){const l=new FO(n);let u;if(a)u=ob;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Jw(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ww(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Ww(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(n,e){const t=dp(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Nd(l,e??{}))return a;Or(a,"already-initialized")}return t.initialize({options:e})}function GO(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Vs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function jO(n,e,t){const i=Mu(n);Fe(i._canInitEmulator,i,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=lb(e),{host:u,port:f}=HO(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${u}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),YO()}function lb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function HO(n){const e=lb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Xw(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Xw(u)}}}function Xw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function YO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ls("not implemented")}_getIdTokenResponse(e){return Ls("not implemented")}_linkToIdToken(e,t){return Ls("not implemented")}_getReauthenticationResolver(e){return Ls("not implemented")}}async function zO(n,e){return io(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(n,e){return pp(n,"POST","/v1/accounts:signInWithPassword",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(n,e){return pp(n,"POST","/v1/accounts:signInWithEmailLink",al(n,e))}async function WO(n,e){return pp(n,"POST","/v1/accounts:signInWithEmailLink",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends S_{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new fh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new fh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jw(e,t,"signInWithPassword",QO);case"emailLink":return KO(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jw(e,i,"signUpPassword",zO);case"emailLink":return WO(e,{idToken:t,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(n,e){return pp(n,"POST","/v1/accounts:signInWithIdp",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="http://localhost";class Xo extends S_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=w_(t,["providerId","signInMethod"]);if(!i||!a)return null;const u=new Xo(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ou(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ou(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ou(e,t)}buildRequest(){const e={requestUri:JO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZO(n){const e=Yc(zc(n)).link,t=e?Yc(zc(e)).deep_link_id:null,i=Yc(zc(n)).deep_link_id;return(i?Yc(zc(i)).link:null)||i||t||e||n}class R_{constructor(e){var t,i,a,l,u,f;const p=Yc(zc(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,T=XO((a=p.mode)!==null&&a!==void 0?a:null);Fe(m&&_&&T,"argument-error"),this.apiKey=m,this.operation=T,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=p.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=ZO(e);try{return new R_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.providerId=Ou.PROVIDER_ID}static credential(e,t){return fh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=R_.parseLink(t);return Fe(i,"argument-error"),fh._fromEmailAndCode(e,i.code,i.tenantId)}}Ou.PROVIDER_ID="password";Ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends ub{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Oh{constructor(){super("facebook.com")}static credential(e){return Xo._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Oh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xo._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return La.credential(t,i)}catch{return null}}}La.GOOGLE_SIGN_IN_METHOD="google.com";La.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Oh{constructor(){super("github.com")}static credential(e){return Xo._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Oh{constructor(){super("twitter.com")}static credential(e,t){return Xo._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Va.credential(t,i)}catch{return null}}}Va.TWITTER_SIGN_IN_METHOD="twitter.com";Va.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Bs._fromIdTokenResponse(e,i,a),u=Zw(i);return new pu({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Zw(i);return new pu({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Zw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends Ks{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,kd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new kd(e,t,i,a)}}function cb(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?kd._fromErrorAndOperation(n,l,e,i):l})}async function $O(n,e,t=!1){const i=await hh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pu._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(n,e,t=!1){const{auth:i}=n;if(hr(i.app))return Promise.reject(Ha(i));const a="reauthenticate";try{const l=await hh(n,cb(i,a,e,n),t);Fe(l.idToken,i,"internal-error");const u=C_(l.idToken);Fe(u,i,"internal-error");const{sub:f}=u;return Fe(n.uid===f,i,"user-mismatch"),pu._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Or(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(n,e,t=!1){if(hr(n.app))return Promise.reject(Ha(n));const i="signIn",a=await cb(n,i,e),l=await pu._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function tx(n,e){return hb(Mu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(n){const e=Mu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ix(n,e,t){return hr(n.app)?Promise.reject(Ha(n)):tx(li(n),Ou.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&nx(n),i})}function rx(n,e,t,i){return li(n).onIdTokenChanged(e,t,i)}function sx(n,e,t){return li(n).beforeAuthStateChanged(e,t)}function fb(n,e,t,i){return li(n).onAuthStateChanged(e,t,i)}function ax(n){return li(n).signOut()}const Pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pd,"1"),this.storage.removeItem(Pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=1e3,lx=10;class pb extends db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);RO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,lx):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ox)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pb.type="LOCAL";const ux=pb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb extends db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mb.type="SESSION";const gb=mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new gp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async m=>m(t.origin,l)),p=await cx(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const m=I_("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(T){const b=T;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function fx(n){ss().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function dx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function px(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function mx(){return yb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="firebaseLocalStorageDb",gx=1,Ld="firebaseLocalStorage",vb="fbase_key";class xh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yp(n,e){return n.transaction([Ld],e?"readwrite":"readonly").objectStore(Ld)}function yx(){const n=indexedDB.deleteDatabase(_b);return new xh(n).toPromise()}function Ty(){const n=indexedDB.open(_b,gx);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ld,{keyPath:vb})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ld)?e(i):(i.close(),await yx(),e(await Ty()))})})}async function $w(n,e,t){const i=yp(n,!0).put({[vb]:e,value:t});return new xh(i).toPromise()}async function _x(n,e){const t=yp(n,!1).get(e),i=await new xh(t).toPromise();return i===void 0?null:i.value}function eT(n,e){const t=yp(n,!0).delete(e);return new xh(t).toPromise()}const vx=800,Ex=3;class Eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ty(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Ex)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(mx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await dx(),!this.activeServiceWorker)return;this.sender=new hx(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||px()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ty();return await $w(e,Pd,"1"),await eT(e,Pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>$w(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>_x(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>eT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=yp(a,!1).getAll();return new xh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Eb.type="LOCAL";const wx=Eb;new Mh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(n,e){return e?Vs(e):(Fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends S_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ou(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ou(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ou(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ax(n){return hb(n.auth,new D_(n),n.bypassAuthState)}function Cx(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),ex(t,new D_(n),n.bypassAuthState)}async function bx(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),$O(t,new D_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ax;case"linkViaPopup":case"linkViaRedirect":return bx;case"reauthViaPopup":case"reauthViaRedirect":return Cx;default:Or(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new Mh(2e3,1e4);class iu extends wb{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,iu.currentPopupAction&&iu.currentPopupAction.cancel(),iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=I_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sx.get())};e()}}iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="pendingRedirect",pd=new Map;class Ix extends wb{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=pd.get(this.auth._key());if(!e){try{const i=await Dx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dx(n,e){const t=Ox(e),i=Mx(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function Nx(n,e){pd.set(n._key(),e)}function Mx(n){return Vs(n._redirectPersistence)}function Ox(n){return dd(Rx,n.config.apiKey,n.name)}async function xx(n,e,t=!1){if(hr(n.app))return Promise.reject(Ha(n));const i=Mu(n),a=Tx(i,e),u=await new Ix(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=10*60*1e3;class Px{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Lx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Tb(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(rs(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kx&&this.cachedEventUids.clear(),this.cachedEventUids.has(tT(e))}saveEventToCache(e){this.cachedEventUids.add(tT(e)),this.lastProcessedEventTime=Date.now()}}function tT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Tb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Lx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(n,e={}){return io(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ux=/^https?/;async function Fx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Bx(n);for(const t of e)try{if(qx(t))return}catch{}Or(n,"unauthorized-domain")}function qx(n){const e=Ey(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Ux.test(t))return!1;if(Vx.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=new Mh(3e4,6e4);function nT(){const n=ss().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jx(n){return new Promise((e,t)=>{var i,a,l;function u(){nT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nT(),t(rs(n,"network-request-failed"))},timeout:Gx.get()})}if(!((a=(i=ss().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ss().gapi)===null||l===void 0)&&l.load)u();else{const f=LO("iframefcb");return ss()[f]=()=>{gapi.load?u():t(rs(n,"network-request-failed"))},ab(`${PO()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw md=null,e})}let md=null;function Hx(n){return md=md||jx(n),md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Mh(5e3,15e3),zx="__/auth/iframe",Qx="emulator/auth/iframe",Kx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jx(n){const e=n.config;Fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?A_(e,Qx):`https://${n.config.authDomain}/${zx}`,i={apiKey:e.apiKey,appName:n.name,v:sl},a=Wx.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Nu(i).slice(1)}`}async function Xx(n){const e=await Hx(n),t=ss().gapi;return Fe(t,n,"internal-error"),e.open({where:document.body,url:Jx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kx,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=rs(n,"network-request-failed"),f=ss().setTimeout(()=>{l(u)},Yx.get());function p(){ss().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$x=500,ek=600,tk="_blank",nk="http://localhost";class iT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ik(n,e,t,i=$x,a=ek){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},Zx),{width:i.toString(),height:a.toString(),top:l,left:u}),m=oi().toLowerCase();t&&(f=$C(m)?tk:t),XC(m)&&(e=e||nk,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[C,I])=>`${b}${C}=${I},`,"");if(SO(m)&&f!=="_self")return rk(e||"",f),new iT(null);const T=window.open(e||"",f,_);Fe(T,n,"popup-blocked");try{T.focus()}catch{}return new iT(T)}function rk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="__/auth/handler",ak="emulator/auth/handler",ok=encodeURIComponent("fac");async function rT(n,e,t,i,a,l){Fe(n.config.authDomain,n,"auth-domain-config-required"),Fe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:sl,eventId:a};if(e instanceof ub){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",py(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))u[_]=T}if(e instanceof Oh){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await n._getAppCheckToken(),m=p?`#${ok}=${encodeURIComponent(p)}`:"";return`${lk(n)}?${Nu(f).slice(1)}${m}`}function lk({config:n}){return n.emulator?A_(n,ak):`https://${n.authDomain}/${sk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="webStorageSupport";class uk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gb,this._completeRedirectFn=xx,this._overrideRedirectResult=Nx}async _openPopup(e,t,i,a){var l;Hs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await rT(e,t,i,Ey(),a);return ik(e,u,I_())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await rT(e,t,i,Ey(),a);return fx(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Hs(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Xx(e),i=new Px(e);return t.register("authEvent",a=>(Fe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qg,{type:Qg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Qg];u!==void 0&&t(!!u),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Fx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rb()||ZC()||b_()}}const ck=uk;var sT="@firebase/auth",aT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dk(n){Jo(new Ka("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Fe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(n)},m=new OO(i,a,l,p);return GO(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ka("auth-internal",e=>{const t=Mu(e.getProvider("auth").getImmediate());return(i=>new hk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(sT,aT,fk(n)),is(sT,aT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=5*60,mk=xC("authIdTokenMaxAge")||pk;let oT=null;const gk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>mk)return;const a=t==null?void 0:t.token;oT!==a&&(oT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Ab(n=E_()){const e=dp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=qO(n,{popupRedirectResolver:ck,persistence:[wx,ux,gb]}),i=xC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=gk(l.toString());sx(t,u,()=>u(t.currentUser)),rx(t,f=>u(f))}}const a=NC("auth");return a&&jO(t,`http://${a}`),t}function yk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}xO({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=rs("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",yk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dk("Browser");var lT={};const uT="@firebase/database",cT="1.0.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cb="";function _k(n){Cb=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:uh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return hs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vk(e)}}catch{}return new Ek},Ho=bb("localStorage"),wk=bb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new fp("@firebase/database"),Tk=function(){let n=1;return function(){return n++}}(),Sb=function(n){const e=JN(n),t=new zN;t.update(e);const i=t.digest();return y_.encodeByteArray(i)},kh=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=kh.apply(null,i):typeof i=="object"?e+=Fn(i):e+=i,e+=" "}return e};let $c=null,hT=!0;const Ak=function(n,e){ve(!0,"Can't turn on custom loggers persistently."),lu.logLevel=ct.VERBOSE,$c=lu.log.bind(lu)},Jn=function(...n){if(hT===!0&&(hT=!1,$c===null&&wk.get("logging_enabled")===!0&&Ak()),$c){const e=kh.apply(null,n);$c(e)}},Ph=function(n){return function(...e){Jn(n,...e)}},Ay=function(...n){const e="FIREBASE INTERNAL ERROR: "+kh(...n);lu.error(e)},Ys=function(...n){const e=`FIREBASE FATAL ERROR: ${kh(...n)}`;throw lu.error(e),new Error(e)},mi=function(...n){const e="FIREBASE WARNING: "+kh(...n);lu.warn(e)},Ck=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},N_=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},bk=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},mu="[MIN_NAME]",Zo="[MAX_NAME]",ol=function(n,e){if(n===e)return 0;if(n===mu||e===Zo)return-1;if(e===mu||n===Zo)return 1;{const t=fT(n),i=fT(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},Sk=function(n,e){return n===e?0:n<e?-1:1},Uc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Fn(e))},M_=function(n){if(typeof n!="object"||n===null)return Fn(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Fn(e[i]),t+=":",t+=M_(n[e[i]]);return t+="}",t},Rb=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let a=0;a<t;a+=e)a+e>t?i.push(n.substring(a,t)):i.push(n.substring(a,a+e));return i};function Xn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Ib=function(n){ve(!N_(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let a,l,u,f,p;n===0?(l=0,u=0,a=1/n===-1/0?1:0):(a=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=f+i,u=Math.round(n*Math.pow(2,t-f)-Math.pow(2,t))):(l=0,u=Math.round(n/Math.pow(2,1-i-t))));const m=[];for(p=t;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(p=e;p;p-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(a?1:0),m.reverse();const _=m.join("");let T="";for(p=0;p<64;p+=8){let b=parseInt(_.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),T=T+b}return T.toLowerCase()},Rk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ik=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Dk(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const Nk=new RegExp("^-?(0*)\\d{1,10}$"),Mk=-2147483648,Ok=2147483647,fT=function(n){if(Nk.test(n)){const e=Number(n);if(e>=Mk&&e<=Ok)return e}return null},xu=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw mi("Exception was thrown by user callback.",t),e},Math.floor(0))}},xk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},eh=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,hr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){mi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Jn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mi(e)}}class gd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="5",Db="v",Nb="s",Mb="r",Ob="f",xb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kb="ls",Pb="p",Cy="ac",Lb="websocket",Bb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,t,i,a,l=!1,u="",f=!1,p=!1){this.secure=t,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ho.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ho.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Lk(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Ub(n,e,t){ve(typeof e=="string","typeof type must == string"),ve(typeof t=="object","typeof params must == object");let i;if(e===Lb)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Bb)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Lk(n)&&(t.ns=n.namespace);const a=[];return Xn(t,(l,u)=>{a.push(l+"="+u)}),i+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.counters_={}}incrementCounter(e,t=1){hs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return RN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg={},Wg={};function x_(n){const e=n.toString();return Kg[e]||(Kg[e]=new Bk),Kg[e]}function Vk(n,e){const t=n.toString();return Wg[t]||(Wg[t]=e()),Wg[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&xu(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="start",Fk="close",qk="pLPCommand",Gk="pRTLPCB",Fb="id",qb="pw",Gb="ser",jk="cb",Hk="seg",Yk="ts",zk="d",Qk="dframe",jb=1870,Hb=30,Kk=jb-Hb,Wk=25e3,Jk=3e4;class ru{constructor(e,t,i,a,l,u,f){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ph(e),this.stats_=x_(t),this.urlFn=p=>(this.appCheckToken&&(p[Cy]=this.appCheckToken),Ub(t,Bb,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Uk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Jk)),bk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new k_((...l)=>{const[u,f,p,m,_]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===dT)this.id=f,this.password=p;else if(u===Fk)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const i={};i[dT]="t",i[Gb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[jk]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Db]=O_,this.transportSessionId&&(i[Nb]=this.transportSessionId),this.lastSessionId&&(i[kb]=this.lastSessionId),this.applicationId&&(i[Pb]=this.applicationId),this.appCheckToken&&(i[Cy]=this.appCheckToken),typeof location<"u"&&location.hostname&&xb.test(location.hostname)&&(i[Mb]=Ob);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ru.forceAllow_=!0}static forceDisallow(){ru.forceDisallow_=!0}static isAvailable(){return ru.forceAllow_?!0:!ru.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Rk()&&!Ik()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Fn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=IC(t),a=Rb(i,Kk);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[Qk]="t",i[Fb]=e,i[qb]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Fn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class k_{constructor(e,t,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Tk(),window[qk+this.uniqueCallbackIdentifier]=e,window[Gk+this.uniqueCallbackIdentifier]=t,this.myIFrame=k_.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Jn("frame writing exception"),f.stack&&Jn(f.stack),Jn(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Jn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Fb]=this.myID,e[qb]=this.myPW,e[Gb]=this.currentSerial;let t=this.urlFn(e),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Hb+i.length<=jb;){const u=this.pendingSegs.shift();i=i+"&"+Hk+a+"="+u.seg+"&"+Yk+a+"="+u.ts+"&"+zk+a+"="+u.d,a++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},a=setTimeout(i,Math.floor(Wk)),l=()=>{clearTimeout(a),i()};this.addTag(e,l)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Jn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=16384,Zk=45e3;let Bd=null;typeof MozWebSocket<"u"?Bd=MozWebSocket:typeof WebSocket<"u"&&(Bd=WebSocket);class Dr{constructor(e,t,i,a,l,u,f){this.connId=e,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ph(this.connId),this.stats_=x_(t),this.connURL=Dr.connectionURL_(t,u,f,a,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,a,l){const u={};return u[Db]=O_,typeof location<"u"&&location.hostname&&xb.test(location.hostname)&&(u[Mb]=Ob),t&&(u[Nb]=t),i&&(u[kb]=i),a&&(u[Cy]=a),l&&(u[Pb]=l),Ub(e,Lb,u)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ho.set("previous_websocket_failure",!0);try{let i;BN(),this.mySock=new Bd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Dr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Bd!==null&&!Dr.forceDisallow_}static previouslyFailed(){return Ho.isInMemoryStorage||Ho.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ho.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=uh(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ve(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Fn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=Rb(t,Xk);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Zk))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Dr.responsesRequiredToBeHealthy=2;Dr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{static get ALL_TRANSPORTS(){return[ru,Dr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Dr&&Dr.isAvailable();let i=t&&!Dr.previouslyFailed();if(e.webSocketOnly&&(t||mi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Dr];else{const a=this.transports_=[];for(const l of dh.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);dh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}dh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=6e4,e2=5e3,t2=10*1024,n2=100*1024,Jg="t",pT="d",i2="s",mT="r",r2="e",gT="o",yT="a",_T="n",vT="p",s2="h";class a2{constructor(e,t,i,a,l,u,f,p,m,_){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ph("c:"+this.id+":"),this.transportManager_=new dh(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=eh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>n2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>t2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Jg in e){const t=e[Jg];t===yT?this.upgradeIfSecondaryHealthy_():t===mT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===gT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Uc("t",e),i=Uc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:yT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:_T,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Uc("t",e),i=Uc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Uc(Jg,e);if(pT in e){const i=e[pT];if(t===s2){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(t===_T){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===i2?this.onConnectionShutdown_(i):t===mT?this.onReset_(i):t===r2?Ay("Server Error: "+i):t===gT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ay("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),O_!==i&&mi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),eh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($k))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):eh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(e2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ho.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{put(e,t,i,a){}merge(e,t,i,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.allowedEvents_=e,this.listeners_={},ve(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const a=this.getInitialEvent(e);a&&t.apply(i,a)}off(e,t,i){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===t&&(!i||i===a[l].context)){a.splice(l,1);return}}validateEventType_(e){ve(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends zb{static getInstance(){return new Vd}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!__()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ve(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=32,wT=768;class Ot{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Rt(){return new Ot("")}function at(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Wa(n){return n.pieces_.length-n.pieceNum_}function Ft(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ot(n.pieces_,e)}function P_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function o2(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function ph(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Qb(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ot(e,0)}function nn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ot)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&t.push(i[a])}return new Ot(t,0)}function ht(n){return n.pieceNum_>=n.pieces_.length}function Si(n,e){const t=at(n),i=at(e);if(t===null)return e;if(t===i)return Si(Ft(n),Ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function l2(n,e){const t=ph(n,0),i=ph(e,0);for(let a=0;a<t.length&&a<i.length;a++){const l=ol(t[a],i[a]);if(l!==0)return l}return t.length===i.length?0:t.length<i.length?-1:1}function L_(n,e){if(Wa(n)!==Wa(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function fr(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Wa(n)>Wa(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class u2{constructor(e,t){this.errorPrefix_=t,this.parts_=ph(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=hp(this.parts_[i]);Kb(this)}}function c2(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=hp(e),Kb(n)}function h2(n){const e=n.parts_.pop();n.byteLength_-=hp(e),n.parts_.length>0&&(n.byteLength_-=1)}function Kb(n){if(n.byteLength_>wT)throw new Error(n.errorPrefix_+"has a key path longer than "+wT+" bytes ("+n.byteLength_+").");if(n.parts_.length>ET)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ET+") or object contains a cycle "+jo(n))}function jo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_ extends zb{static getInstance(){return new B_}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return ve(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=1e3,f2=60*5*1e3,TT=30*1e3,d2=1.3,p2=3e4,m2="server_kill",AT=3;class qs extends Yb{constructor(e,t,i,a,l,u,f,p){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=qs.nextPersistentConnectionId_++,this.log_=Ph("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fc,this.maxReconnectDelay_=f2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");B_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Vd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const a=++this.requestNumber_,l={r:a,a:e,b:t};this.log_(Fn(l)),ve(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(e){this.initConnection_();const t=new Dh,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;u.s==="ok"?t.resolve(f):t.reject(f)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),t.promise}listen(e,t,i,a){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ve(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:a,hashFn:t,query:e,tag:i};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),a=t._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i},u="q";e.tag&&(l.q=t._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,f=>{const p=f.d,m=f.s;qs.warnOnListenWarnings_(p,t),(this.listens.get(i)&&this.listens.get(i).get(a))===e&&(this.log_("listen response",f),m!=="ok"&&this.removeListen_(i,a),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&hs(e,"w")){const i=du(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+t._queryParams.getIndex().toString()+'"',l=t._path.toString();mi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||YN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=TT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=HN(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,a=>{const l=a.s,u=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,e._queryObject,t)}sendUnlisten_(e,t,i,a){this.log_("Unlisten on "+e+" for "+t);const l={p:e},u="n";a&&(l.q=i,l.t=a),this.sendRequest(u,l)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,a){const l={p:t,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(e,t,i,a){this.putInternal("p",e,t,i,a)}merge(e,t,i,a){this.putInternal("m",e,t,i,a)}putInternal(e,t,i,a,l){this.initConnection_();const u={p:t,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:a}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,l=>{this.log_(t+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Fn(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Ay("Unrecognized action received from server: "+Fn(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ve(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>p2&&(this.reconnectDelay_=Fc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*d2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+qs.nextConnectionId_++,l=this.lastSessionId;let u=!1,f=null;const p=function(){f?f.close():(u=!0,i())},m=function(T){ve(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(T)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[T,b]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);u?Jn("getToken() completed but was canceled"):(Jn("getToken() completed. Creating connection."),this.authToken_=T&&T.accessToken,this.appCheckToken_=b&&b.token,f=new a2(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,C=>{mi(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(m2)},l))}catch(T){this.log_("Failed to get token: "+T),u||(this.repoInfo_.nodeAdmin&&mi(T),p())}}}interrupt(e){Jn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Jn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],py(this.interruptReasons_)&&(this.reconnectDelay_=Fc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(l=>M_(l)).join("$"):i="default";const a=this.removeListen_(e,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,t){const i=new Ot(e).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(t),l.delete(t),l.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(e,t){Jn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=AT&&(this.reconnectDelay_=TT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Jn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=AT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Cb.replace(/\./g,"-")]=1,__()?e["framework.cordova"]=1:PC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Vd.getInstance().currentlyOnline();return py(this.interruptReasons_)&&e}}qs.nextPersistentConnectionId_=0;qs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ot(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new ot(mu,e),a=new ot(mu,t);return this.compare(i,a)!==0}minPost(){return ot.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed;class Wb extends _p{static get __EMPTY_NODE(){return ed}static set __EMPTY_NODE(e){ed=e}compare(e,t){return ol(e.name,t.name)}isDefinedOn(e){throw Du("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ot.MIN}maxPost(){return new ot(Zo,ed)}makePost(e,t){return ve(typeof e=="string","KeyIndex indexValue must always be a string."),new ot(e,ed)}toString(){return".key"}}const uu=new Wb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=class{constructor(e,t,i,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=t?i(e.key,t):1,a&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Yi=class Qc{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Qc.RED,this.left=a??ns.EMPTY_NODE,this.right=l??ns.EMPTY_NODE}copy(e,t,i,a,l){return new Qc(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a=a.copy(null,t,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return ns.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,a;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return ns.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Yi.RED=!0;Yi.BLACK=!1;class g2{copy(e,t,i,a,l){return this}insert(e,t,i){return new Yi(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let ns=class yd{constructor(e,t=yd.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new yd(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Yi.BLACK,null,null))}remove(e){return new yd(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yi.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,a=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new td(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new td(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new td(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new td(this.root_,null,this.comparator_,!0,e)}};ns.EMPTY_NODE=new g2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(n,e){return ol(n.name,e.name)}function V_(n,e){return ol(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by;function _2(n){by=n}const Jb=function(n){return typeof n=="number"?"number:"+Ib(n):"string:"+n},Xb=function(n){if(n.isLeafNode()){const e=n.val();ve(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hs(e,".sv"),"Priority must be a string or number.")}else ve(n===by||n.isEmpty(),"priority of unexpected type.");ve(n===by||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CT;class Bn{static set __childrenNodeConstructor(e){CT=e}static get __childrenNodeConstructor(){return CT}constructor(e,t=Bn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ve(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Xb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Bn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ht(e)?this:at(e)===".priority"?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Bn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=at(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(ve(i!==".priority"||Wa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Bn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ft(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Jb(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=Ib(this.value_):e+=this.value_,this.lazyHash_=Sb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Bn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Bn.__childrenNodeConstructor?-1:(ve(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,a=Bn.VALUE_TYPE_ORDER.indexOf(t),l=Bn.VALUE_TYPE_ORDER.indexOf(i);return ve(a>=0,"Unknown leaf type: "+t),ve(l>=0,"Unknown leaf type: "+i),a===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Bn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zb,$b;function v2(n){Zb=n}function E2(n){$b=n}class w2 extends _p{compare(e,t){const i=e.node.getPriority(),a=t.node.getPriority(),l=i.compareTo(a);return l===0?ol(e.name,t.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ot.MIN}maxPost(){return new ot(Zo,new Bn("[PRIORITY-POST]",$b))}makePost(e,t){const i=Zb(e);return new ot(t,new Bn("[PRIORITY-POST]",i))}toString(){return".priority"}}const rn=new w2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=Math.log(2);class A2{constructor(e){const t=l=>parseInt(Math.log(l)/T2,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const a=i(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ud=function(n,e,t,i){n.sort(e);const a=function(p,m){const _=m-p;let T,b;if(_===0)return null;if(_===1)return T=n[p],b=t?t(T):T,new Yi(b,T.node,Yi.BLACK,null,null);{const C=parseInt(_/2,10)+p,I=a(p,C),L=a(C+1,m);return T=n[C],b=t?t(T):T,new Yi(b,T.node,Yi.BLACK,I,L)}},l=function(p){let m=null,_=null,T=n.length;const b=function(I,L){const O=T-I,x=T;T-=I;const P=a(O+1,x),j=n[O],ne=t?t(j):j;C(new Yi(ne,j.node,L,null,P))},C=function(I){m?(m.left=I,m=I):(_=I,m=I)};for(let I=0;I<p.count;++I){const L=p.nextBitIsOne(),O=Math.pow(2,p.count-(I+1));L?b(O,Yi.BLACK):(b(O,Yi.BLACK),b(O,Yi.RED))}return _},u=new A2(n.length),f=l(u);return new ns(i||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg;const Zl={};class Us{static get Default(){return ve(Zl&&rn,"ChildrenNode.ts has not been loaded"),Xg=Xg||new Us({".priority":Zl},{".priority":rn}),Xg}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=du(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ns?t:null}hasIndex(e){return hs(this.indexSet_,e.toString())}addIndex(e,t){ve(e!==uu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const l=t.getIterator(ot.Wrap);let u=l.getNext();for(;u;)a=a||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let f;a?f=Ud(i,e.getCompare()):f=Zl;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const _=Object.assign({},this.indexes_);return _[p]=f,new Us(_,m)}addToIndexes(e,t){const i=Dd(this.indexes_,(a,l)=>{const u=du(this.indexSet_,l);if(ve(u,"Missing index implementation for "+l),a===Zl)if(u.isDefinedOn(e.node)){const f=[],p=t.getIterator(ot.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&f.push(m),m=p.getNext();return f.push(e),Ud(f,u.getCompare())}else return Zl;else{const f=t.get(e.name);let p=a;return f&&(p=p.remove(new ot(e.name,f))),p.insert(e,e.node)}});return new Us(i,this.indexSet_)}removeFromIndexes(e,t){const i=Dd(this.indexes_,a=>{if(a===Zl)return a;{const l=t.get(e.name);return l?a.remove(new ot(e.name,l)):a}});return new Us(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;class qe{static get EMPTY_NODE(){return qc||(qc=new qe(new ns(V_),null,Us.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Xb(this.priorityNode_),this.children_.isEmpty()&&ve(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qc}updatePriority(e){return this.children_.isEmpty()?this:new qe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?qc:t}}getChild(e){const t=at(e);return t===null?this:this.getImmediateChild(t).getChild(Ft(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ve(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new ot(e,t);let a,l;t.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(e,t),l=this.indexMap_.addToIndexes(i,this.children_));const u=a.isEmpty()?qc:this.priorityNode_;return new qe(a,u,l)}}updateChild(e,t){const i=at(e);if(i===null)return t;{ve(at(e)!==".priority"||Wa(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(Ft(e),t);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,a=0,l=!0;if(this.forEachChild(rn,(u,f)=>{t[u]=f.val(e),i++,l&&qe.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):l=!1}),!e&&l&&a<2*i){const u=[];for(const f in t)u[f]=t[f];return u}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Jb(this.getPriority().val())+":"),this.forEachChild(rn,(t,i)=>{const a=i.hash();a!==""&&(e+=":"+t+":"+a)}),this.lazyHash_=e===""?"":Sb(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new ot(e,t));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ot(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ot(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(a=>t(a.name,a.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,ot.Wrap);let l=a.peek();for(;l!=null&&t.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,ot.Wrap);let l=a.peek();for(;l!=null&&t.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Lh?-1:0}withIndex(e){if(e===uu||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new qe(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===uu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(rn),a=t.getIterator(rn);let l=i.getNext(),u=a.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=a.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===uu?null:this.indexMap_.get(e.toString())}}qe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class C2 extends qe{constructor(){super(new ns(V_),qe.EMPTY_NODE,Us.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qe.EMPTY_NODE}isEmpty(){return!1}}const Lh=new C2;Object.defineProperties(ot,{MIN:{value:new ot(mu,qe.EMPTY_NODE)},MAX:{value:new ot(Zo,Lh)}});Wb.__EMPTY_NODE=qe.EMPTY_NODE;Bn.__childrenNodeConstructor=qe;_2(Lh);E2(Lh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=!0;function Un(n,e=null){if(n===null)return qe.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ve(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Bn(t,Un(e))}if(!(n instanceof Array)&&b2){const t=[];let i=!1;if(Xn(n,(u,f)=>{if(u.substring(0,1)!=="."){const p=Un(f);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new ot(u,p)))}}),t.length===0)return qe.EMPTY_NODE;const l=Ud(t,y2,u=>u.name,V_);if(i){const u=Ud(t,rn.getCompare());return new qe(l,Un(e),new Us({".priority":u},{".priority":rn}))}else return new qe(l,Un(e),Us.Default)}else{let t=qe.EMPTY_NODE;return Xn(n,(i,a)=>{if(hs(n,i)&&i.substring(0,1)!=="."){const l=Un(a);(l.isLeafNode()||!l.isEmpty())&&(t=t.updateImmediateChild(i,l))}}),t.updatePriority(Un(e))}}v2(Un);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2 extends _p{constructor(e){super(),this.indexPath_=e,ve(!ht(e)&&at(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),a=this.extractChild(t.node),l=i.compareTo(a);return l===0?ol(e.name,t.name):l}makePost(e,t){const i=Un(e),a=qe.EMPTY_NODE.updateChild(this.indexPath_,i);return new ot(t,a)}maxPost(){const e=qe.EMPTY_NODE.updateChild(this.indexPath_,Lh);return new ot(Zo,e)}toString(){return ph(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2 extends _p{compare(e,t){const i=e.node.compareTo(t.node);return i===0?ol(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ot.MIN}maxPost(){return ot.MAX}makePost(e,t){const i=Un(e);return new ot(t,i)}toString(){return".value"}}const I2=new R2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n){return{type:"value",snapshotNode:n}}function gu(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function mh(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function gh(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function D2(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.index_=e}updateChild(e,t,i,a,l,u){ve(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(t);return f.getChild(a).equals(i.getChild(a))&&f.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(t)?u.trackChildChange(mh(t,f)):ve(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(gu(t,i)):u.trackChildChange(gh(t,i,f))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(rn,(a,l)=>{t.hasChild(a)||i.trackChildChange(mh(a,l))}),t.isLeafNode()||t.forEachChild(rn,(a,l)=>{if(e.hasChild(a)){const u=e.getImmediateChild(a);u.equals(l)||i.trackChildChange(gh(a,l,u))}else i.trackChildChange(gu(a,l))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?qe.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.indexedFilter_=new U_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yh.getStartPost_(e),this.endPost_=yh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,a,l,u){return this.matches(new ot(t,i))||(i=qe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,a,l,u)}updateFullNode(e,t,i){t.isLeafNode()&&(t=qe.EMPTY_NODE);let a=t.withIndex(this.index_);a=a.updatePriority(qe.EMPTY_NODE);const l=this;return t.forEachChild(rn,(u,f)=>{l.matches(new ot(u,f))||(a=a.updateImmediateChild(u,qe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new yh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,a,l,u){return this.rangedFilter_.matches(new ot(t,i))||(i=qe.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,a,l,u):this.fullLimitUpdateChild_(e,t,i,l,u)}updateFullNode(e,t,i){let a;if(t.isLeafNode()||t.isEmpty())a=qe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){a=qe.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const f=l.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))a=a.updateImmediateChild(f.name,f.node),u++;else break;else continue}}else{a=t.withIndex(this.index_),a=a.updatePriority(qe.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let u=0;for(;l.hasNext();){const f=l.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:a=a.updateImmediateChild(f.name,qe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,a,l){let u;if(this.reverse_){const T=this.index_.getCompare();u=(b,C)=>T(C,b)}else u=this.index_.getCompare();const f=e;ve(f.numChildren()===this.limit_,"");const p=new ot(t,i),m=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(f.hasChild(t)){const T=f.getImmediateChild(t);let b=a.getChildAfterChild(this.index_,m,this.reverse_);for(;b!=null&&(b.name===t||f.hasChild(b.name));)b=a.getChildAfterChild(this.index_,b,this.reverse_);const C=b==null?1:u(b,p);if(_&&!i.isEmpty()&&C>=0)return l!=null&&l.trackChildChange(gh(t,i,T)),f.updateImmediateChild(t,i);{l!=null&&l.trackChildChange(mh(t,T));const L=f.updateImmediateChild(t,qe.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(l!=null&&l.trackChildChange(gu(b.name,b.node)),L.updateImmediateChild(b.name,b.node)):L}}else return i.isEmpty()?e:_&&u(m,p)>=0?(l!=null&&(l.trackChildChange(mh(m.name,m.node)),l.trackChildChange(gu(t,i))),f.updateImmediateChild(t,i).updateImmediateChild(m.name,qe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ve(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ve(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mu}hasEnd(){return this.endSet_}getIndexEndValue(){return ve(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ve(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ve(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rn}copy(){const e=new F_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function M2(n){return n.loadsAllData()?new U_(n.getIndex()):n.hasLimit()?new N2(n):new yh(n)}function bT(n){const e={};if(n.isDefault())return e;let t;if(n.index_===rn?t="$priority":n.index_===I2?t="$value":n.index_===uu?t="$key":(ve(n.index_ instanceof S2,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Fn(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Fn(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Fn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Fn(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Fn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function ST(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==rn&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends Yb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ve(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,a){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Ph("p:rest:"),this.listens_={}}listen(e,t,i,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=Fd.getListenId_(e,i),f={};this.listens_[u]=f;const p=bT(e._queryParams);this.restRequest_(l+".json",p,(m,_)=>{let T=_;if(m===404&&(T=null,m=null),m===null&&this.onDataUpdate_(l,T,!1,i),du(this.listens_,u)===f){let b;m?m===401?b="permission_denied":b="rest_error:"+m:b="ok",a(b,null)}})}unlisten(e,t){const i=Fd.getListenId_(e,t);delete this.listens_[i]}get(e){const t=bT(e._queryParams),i=e._path.toString(),a=new Dh;return this.restRequest_(i+".json",t,(l,u)=>{let f=u;l===404&&(f=null,l=null),l===null?(this.onDataUpdate_(i,f,!1,null),a.resolve(f)):a.reject(new Error(f))}),a.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(t.auth=a.accessToken),l&&l.token&&(t.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Nu(t);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&f.readyState===4){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=uh(f.responseText)}catch{mi("Failed to parse JSON response for "+u+": "+f.responseText)}i(null,p)}else f.status!==401&&f.status!==404&&mi("Got unsuccessful REST response for "+u+" Status: "+f.status),i(f.status);i=null}},f.open("GET",u,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.rootNode_=qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){return{value:null,children:new Map}}function tS(n,e,t){if(ht(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=at(e);n.children.has(i)||n.children.set(i,qd());const a=n.children.get(i);e=Ft(e),tS(a,e,t)}}function Sy(n,e,t){n.value!==null?t(e,n.value):x2(n,(i,a)=>{const l=new Ot(e.toString()+"/"+i);Sy(a,l,t)})}function x2(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Xn(this.last_,(i,a)=>{t[i]=t[i]-a}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=10*1e3,P2=30*1e3,L2=5*60*1e3;class B2{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new k2(e);const i=RT+(P2-RT)*Math.random();eh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Xn(e,(a,l)=>{l>0&&hs(this.statsToReport_,a)&&(t[a]=l,i=!0)}),i&&this.server_.reportStats(t),eh(this.reportStats_.bind(this),Math.floor(Math.random()*2*L2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nr||(Nr={}));function q_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function G_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function j_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Nr.ACK_USER_WRITE,this.source=q_()}operationForChild(e){if(ht(this.path)){if(this.affectedTree.value!=null)return ve(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ot(e));return new Gd(Rt(),t,this.revert)}}else return ve(at(this.path)===e,"operationForChild called for unrelated child."),new Gd(Ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.source=e,this.path=t,this.type=Nr.LISTEN_COMPLETE}operationForChild(e){return ht(this.path)?new _h(this.source,Rt()):new _h(this.source,Ft(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Nr.OVERWRITE}operationForChild(e){return ht(this.path)?new $o(this.source,Rt(),this.snap.getImmediateChild(e)):new $o(this.source,Ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Nr.MERGE}operationForChild(e){if(ht(this.path)){const t=this.children.subtree(new Ot(e));return t.isEmpty()?null:t.value?new $o(this.source,Rt(),t.value):new yu(this.source,Rt(),t)}else return ve(at(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yu(this.source,Ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ht(e))return this.isFullyInitialized()&&!this.filtered_;const t=at(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function U2(n,e,t,i){const a=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(D2(u.childName,u.snapshotNode))}),Gc(n,a,"child_removed",e,i,t),Gc(n,a,"child_added",e,i,t),Gc(n,a,"child_moved",l,i,t),Gc(n,a,"child_changed",e,i,t),Gc(n,a,"value",e,i,t),a}function Gc(n,e,t,i,a,l){const u=i.filter(f=>f.type===t);u.sort((f,p)=>q2(n,f,p)),u.forEach(f=>{const p=F2(n,f,l);a.forEach(m=>{m.respondsTo(f.type)&&e.push(m.createEvent(p,n.query_))})})}function F2(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function q2(n,e,t){if(e.childName==null||t.childName==null)throw Du("Should only compare child_ events.");const i=new ot(e.childName,e.snapshotNode),a=new ot(t.childName,t.snapshotNode);return n.index_.compare(i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(n,e){return{eventCache:n,serverCache:e}}function th(n,e,t,i){return vp(new el(e,t,i),n.serverCache)}function nS(n,e,t,i){return vp(n.eventCache,new el(e,t,i))}function Ry(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function tl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg;const G2=()=>(Zg||(Zg=new ns(Sk)),Zg);class Ut{static fromObject(e){let t=new Ut(null);return Xn(e,(i,a)=>{t=t.set(new Ot(i),a)}),t}constructor(e,t=G2()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Rt(),value:this.value};if(ht(e))return null;{const i=at(e),a=this.children.get(i);if(a!==null){const l=a.findRootMostMatchingPathAndValue(Ft(e),t);return l!=null?{path:nn(new Ot(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ht(e))return this;{const t=at(e),i=this.children.get(t);return i!==null?i.subtree(Ft(e)):new Ut(null)}}set(e,t){if(ht(e))return new Ut(t,this.children);{const i=at(e),l=(this.children.get(i)||new Ut(null)).set(Ft(e),t),u=this.children.insert(i,l);return new Ut(this.value,u)}}remove(e){if(ht(e))return this.children.isEmpty()?new Ut(null):new Ut(null,this.children);{const t=at(e),i=this.children.get(t);if(i){const a=i.remove(Ft(e));let l;return a.isEmpty()?l=this.children.remove(t):l=this.children.insert(t,a),this.value===null&&l.isEmpty()?new Ut(null):new Ut(this.value,l)}else return this}}get(e){if(ht(e))return this.value;{const t=at(e),i=this.children.get(t);return i?i.get(Ft(e)):null}}setTree(e,t){if(ht(e))return t;{const i=at(e),l=(this.children.get(i)||new Ut(null)).setTree(Ft(e),t);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new Ut(this.value,u)}}fold(e){return this.fold_(Rt(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((a,l)=>{i[a]=l.fold_(nn(e,a),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Rt(),t)}findOnPath_(e,t,i){const a=this.value?i(t,this.value):!1;if(a)return a;if(ht(e))return null;{const l=at(e),u=this.children.get(l);return u?u.findOnPath_(Ft(e),nn(t,l),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Rt(),t)}foreachOnPath_(e,t,i){if(ht(e))return this;{this.value&&i(t,this.value);const a=at(e),l=this.children.get(a);return l?l.foreachOnPath_(Ft(e),nn(t,a),i):new Ut(null)}}foreach(e){this.foreach_(Rt(),e)}foreach_(e,t){this.children.inorderTraversal((i,a)=>{a.foreach_(nn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.writeTree_=e}static empty(){return new Mr(new Ut(null))}}function nh(n,e,t){if(ht(e))return new Mr(new Ut(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const a=i.path;let l=i.value;const u=Si(a,e);return l=l.updateChild(u,t),new Mr(n.writeTree_.set(a,l))}else{const a=new Ut(t),l=n.writeTree_.setTree(e,a);return new Mr(l)}}}function Iy(n,e,t){let i=n;return Xn(t,(a,l)=>{i=nh(i,nn(e,a),l)}),i}function IT(n,e){if(ht(e))return Mr.empty();{const t=n.writeTree_.setTree(e,new Ut(null));return new Mr(t)}}function Dy(n,e){return ll(n,e)!=null}function ll(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Si(t.path,e)):null}function DT(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(rn,(i,a)=>{e.push(new ot(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&e.push(new ot(i,a.value))}),e}function Ya(n,e){if(ht(e))return n;{const t=ll(n,e);return t!=null?new Mr(new Ut(t)):new Mr(n.writeTree_.subtree(e))}}function Ny(n){return n.writeTree_.isEmpty()}function _u(n,e){return iS(Rt(),n.writeTree_,e)}function iS(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(ve(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):t=iS(nn(n,a),l,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(nn(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n,e){return oS(e,n)}function j2(n,e,t,i,a){ve(i>n.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:a}),a&&(n.visibleWrites=nh(n.visibleWrites,e,t)),n.lastWriteId=i}function H2(n,e,t,i){ve(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=Iy(n.visibleWrites,e,t),n.lastWriteId=i}function Y2(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function z2(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);ve(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let a=i.visible,l=!1,u=n.allWrites.length-1;for(;a&&u>=0;){const f=n.allWrites[u];f.visible&&(u>=t&&Q2(f,i.path)?a=!1:fr(i.path,f.path)&&(l=!0)),u--}if(a){if(l)return K2(n),!0;if(i.snap)n.visibleWrites=IT(n.visibleWrites,i.path);else{const f=i.children;Xn(f,p=>{n.visibleWrites=IT(n.visibleWrites,nn(i.path,p))})}return!0}else return!1}function Q2(n,e){if(n.snap)return fr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&fr(nn(n.path,t),e))return!0;return!1}function K2(n){n.visibleWrites=rS(n.allWrites,W2,Rt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function W2(n){return n.visible}function rS(n,e,t){let i=Mr.empty();for(let a=0;a<n.length;++a){const l=n[a];if(e(l)){const u=l.path;let f;if(l.snap)fr(t,u)?(f=Si(t,u),i=nh(i,f,l.snap)):fr(u,t)&&(f=Si(u,t),i=nh(i,Rt(),l.snap.getChild(f)));else if(l.children){if(fr(t,u))f=Si(t,u),i=Iy(i,f,l.children);else if(fr(u,t))if(f=Si(u,t),ht(f))i=Iy(i,Rt(),l.children);else{const p=du(l.children,at(f));if(p){const m=p.getChild(Ft(f));i=nh(i,Rt(),m)}}}else throw Du("WriteRecord should have .snap or .children")}}return i}function sS(n,e,t,i,a){if(!i&&!a){const l=ll(n.visibleWrites,e);if(l!=null)return l;{const u=Ya(n.visibleWrites,e);if(Ny(u))return t;if(t==null&&!Dy(u,Rt()))return null;{const f=t||qe.EMPTY_NODE;return _u(u,f)}}}else{const l=Ya(n.visibleWrites,e);if(!a&&Ny(l))return t;if(!a&&t==null&&!Dy(l,Rt()))return null;{const u=function(m){return(m.visible||a)&&(!i||!~i.indexOf(m.writeId))&&(fr(m.path,e)||fr(e,m.path))},f=rS(n.allWrites,u,e),p=t||qe.EMPTY_NODE;return _u(f,p)}}}function J2(n,e,t){let i=qe.EMPTY_NODE;const a=ll(n.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(rn,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(t){const l=Ya(n.visibleWrites,e);return t.forEachChild(rn,(u,f)=>{const p=_u(Ya(l,new Ot(u)),f);i=i.updateImmediateChild(u,p)}),DT(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=Ya(n.visibleWrites,e);return DT(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function X2(n,e,t,i,a){ve(i||a,"Either existingEventSnap or existingServerSnap must exist");const l=nn(e,t);if(Dy(n.visibleWrites,l))return null;{const u=Ya(n.visibleWrites,l);return Ny(u)?a.getChild(t):_u(u,a.getChild(t))}}function Z2(n,e,t,i){const a=nn(e,t),l=ll(n.visibleWrites,a);if(l!=null)return l;if(i.isCompleteForChild(t)){const u=Ya(n.visibleWrites,a);return _u(u,i.getNode().getImmediateChild(t))}else return null}function $2(n,e){return ll(n.visibleWrites,e)}function eP(n,e,t,i,a,l,u){let f;const p=Ya(n.visibleWrites,e),m=ll(p,Rt());if(m!=null)f=m;else if(t!=null)f=_u(p,t);else return[];if(f=f.withIndex(u),!f.isEmpty()&&!f.isLeafNode()){const _=[],T=u.getCompare(),b=l?f.getReverseIteratorFrom(i,u):f.getIteratorFrom(i,u);let C=b.getNext();for(;C&&_.length<a;)T(C,i)!==0&&_.push(C),C=b.getNext();return _}else return[]}function tP(){return{visibleWrites:Mr.empty(),allWrites:[],lastWriteId:-1}}function jd(n,e,t,i){return sS(n.writeTree,n.treePath,e,t,i)}function Y_(n,e){return J2(n.writeTree,n.treePath,e)}function NT(n,e,t,i){return X2(n.writeTree,n.treePath,e,t,i)}function Hd(n,e){return $2(n.writeTree,nn(n.treePath,e))}function nP(n,e,t,i,a,l){return eP(n.writeTree,n.treePath,e,t,i,a,l)}function z_(n,e,t){return Z2(n.writeTree,n.treePath,e,t)}function aS(n,e){return oS(nn(n.treePath,e),n.writeTree)}function oS(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ve(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ve(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const l=a.type;if(t==="child_added"&&l==="child_removed")this.changeMap.set(i,gh(i,e.snapshotNode,a.snapshotNode));else if(t==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&l==="child_changed")this.changeMap.set(i,mh(i,a.oldSnap));else if(t==="child_changed"&&l==="child_added")this.changeMap.set(i,gu(i,e.snapshotNode));else if(t==="child_changed"&&l==="child_changed")this.changeMap.set(i,gh(i,e.snapshotNode,a.oldSnap));else throw Du("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const lS=new rP;class Q_{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new el(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return z_(this.writes_,e,i)}}getChildAfterChild(e,t,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:tl(this.viewCache_),l=nP(this.writes_,a,t,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(n){return{filter:n}}function aP(n,e){ve(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ve(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function oP(n,e,t,i,a){const l=new iP;let u,f;if(t.type===Nr.OVERWRITE){const m=t;m.source.fromUser?u=My(n,e,m.path,m.snap,i,a,l):(ve(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered()&&!ht(m.path),u=Yd(n,e,m.path,m.snap,i,a,f,l))}else if(t.type===Nr.MERGE){const m=t;m.source.fromUser?u=uP(n,e,m.path,m.children,i,a,l):(ve(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered(),u=Oy(n,e,m.path,m.children,i,a,f,l))}else if(t.type===Nr.ACK_USER_WRITE){const m=t;m.revert?u=fP(n,e,m.path,i,a,l):u=cP(n,e,m.path,m.affectedTree,i,a,l)}else if(t.type===Nr.LISTEN_COMPLETE)u=hP(n,e,t.path,i,l);else throw Du("Unknown operation type: "+t.type);const p=l.getChanges();return lP(e,u,p),{viewCache:u,changes:p}}function lP(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Ry(n);(t.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&t.push(eS(Ry(e)))}}function uS(n,e,t,i,a,l){const u=e.eventCache;if(Hd(i,t)!=null)return e;{let f,p;if(ht(t))if(ve(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=tl(e),_=m instanceof qe?m:qe.EMPTY_NODE,T=Y_(i,_);f=n.filter.updateFullNode(e.eventCache.getNode(),T,l)}else{const m=jd(i,tl(e));f=n.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=at(t);if(m===".priority"){ve(Wa(t)===1,"Can't have a priority with additional path components");const _=u.getNode();p=e.serverCache.getNode();const T=NT(i,t,_,p);T!=null?f=n.filter.updatePriority(_,T):f=u.getNode()}else{const _=Ft(t);let T;if(u.isCompleteForChild(m)){p=e.serverCache.getNode();const b=NT(i,t,u.getNode(),p);b!=null?T=u.getNode().getImmediateChild(m).updateChild(_,b):T=u.getNode().getImmediateChild(m)}else T=z_(i,m,e.serverCache);T!=null?f=n.filter.updateChild(u.getNode(),m,T,_,a,l):f=u.getNode()}}return th(e,f,u.isFullyInitialized()||ht(t),n.filter.filtersNodes())}}function Yd(n,e,t,i,a,l,u,f){const p=e.serverCache;let m;const _=u?n.filter:n.filter.getIndexedFilter();if(ht(t))m=_.updateFullNode(p.getNode(),i,null);else if(_.filtersNodes()&&!p.isFiltered()){const C=p.getNode().updateChild(t,i);m=_.updateFullNode(p.getNode(),C,null)}else{const C=at(t);if(!p.isCompleteForPath(t)&&Wa(t)>1)return e;const I=Ft(t),O=p.getNode().getImmediateChild(C).updateChild(I,i);C===".priority"?m=_.updatePriority(p.getNode(),O):m=_.updateChild(p.getNode(),C,O,I,lS,null)}const T=nS(e,m,p.isFullyInitialized()||ht(t),_.filtersNodes()),b=new Q_(a,T,l);return uS(n,T,t,a,b,f)}function My(n,e,t,i,a,l,u){const f=e.eventCache;let p,m;const _=new Q_(a,e,l);if(ht(t))m=n.filter.updateFullNode(e.eventCache.getNode(),i,u),p=th(e,m,!0,n.filter.filtersNodes());else{const T=at(t);if(T===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),i),p=th(e,m,f.isFullyInitialized(),f.isFiltered());else{const b=Ft(t),C=f.getNode().getImmediateChild(T);let I;if(ht(b))I=i;else{const L=_.getCompleteChild(T);L!=null?P_(b)===".priority"&&L.getChild(Qb(b)).isEmpty()?I=L:I=L.updateChild(b,i):I=qe.EMPTY_NODE}if(C.equals(I))p=e;else{const L=n.filter.updateChild(f.getNode(),T,I,b,_,u);p=th(e,L,f.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function MT(n,e){return n.eventCache.isCompleteForChild(e)}function uP(n,e,t,i,a,l,u){let f=e;return i.foreach((p,m)=>{const _=nn(t,p);MT(e,at(_))&&(f=My(n,f,_,m,a,l,u))}),i.foreach((p,m)=>{const _=nn(t,p);MT(e,at(_))||(f=My(n,f,_,m,a,l,u))}),f}function OT(n,e,t){return t.foreach((i,a)=>{e=e.updateChild(i,a)}),e}function Oy(n,e,t,i,a,l,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;ht(t)?m=i:m=new Ut(null).setTree(t,i);const _=e.serverCache.getNode();return m.children.inorderTraversal((T,b)=>{if(_.hasChild(T)){const C=e.serverCache.getNode().getImmediateChild(T),I=OT(n,C,b);p=Yd(n,p,new Ot(T),I,a,l,u,f)}}),m.children.inorderTraversal((T,b)=>{const C=!e.serverCache.isCompleteForChild(T)&&b.value===null;if(!_.hasChild(T)&&!C){const I=e.serverCache.getNode().getImmediateChild(T),L=OT(n,I,b);p=Yd(n,p,new Ot(T),L,a,l,u,f)}}),p}function cP(n,e,t,i,a,l,u){if(Hd(a,t)!=null)return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(i.value!=null){if(ht(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return Yd(n,e,t,p.getNode().getChild(t),a,l,f,u);if(ht(t)){let m=new Ut(null);return p.getNode().forEachChild(uu,(_,T)=>{m=m.set(new Ot(_),T)}),Oy(n,e,t,m,a,l,f,u)}else return e}else{let m=new Ut(null);return i.foreach((_,T)=>{const b=nn(t,_);p.isCompleteForPath(b)&&(m=m.set(_,p.getNode().getChild(b)))}),Oy(n,e,t,m,a,l,f,u)}}function hP(n,e,t,i,a){const l=e.serverCache,u=nS(e,l.getNode(),l.isFullyInitialized()||ht(t),l.isFiltered());return uS(n,u,t,i,lS,a)}function fP(n,e,t,i,a,l){let u;if(Hd(i,t)!=null)return e;{const f=new Q_(i,e,a),p=e.eventCache.getNode();let m;if(ht(t)||at(t)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=jd(i,tl(e));else{const T=e.serverCache.getNode();ve(T instanceof qe,"serverChildren would be complete if leaf node"),_=Y_(i,T)}_=_,m=n.filter.updateFullNode(p,_,l)}else{const _=at(t);let T=z_(i,_,e.serverCache);T==null&&e.serverCache.isCompleteForChild(_)&&(T=p.getImmediateChild(_)),T!=null?m=n.filter.updateChild(p,_,T,Ft(t),f,l):e.eventCache.getNode().hasChild(_)?m=n.filter.updateChild(p,_,qe.EMPTY_NODE,Ft(t),f,l):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=jd(i,tl(e)),u.isLeafNode()&&(m=n.filter.updateFullNode(m,u,l)))}return u=e.serverCache.isFullyInitialized()||Hd(i,Rt())!=null,th(e,m,u,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new U_(i.getIndex()),l=M2(i);this.processor_=sP(l);const u=t.serverCache,f=t.eventCache,p=a.updateFullNode(qe.EMPTY_NODE,u.getNode(),null),m=l.updateFullNode(qe.EMPTY_NODE,f.getNode(),null),_=new el(p,u.isFullyInitialized(),a.filtersNodes()),T=new el(m,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=vp(T,_),this.eventGenerator_=new V2(this.query_)}get query(){return this.query_}}function pP(n){return n.viewCache_.serverCache.getNode()}function mP(n,e){const t=tl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ht(e)&&!t.getImmediateChild(at(e)).isEmpty())?t.getChild(e):null}function xT(n){return n.eventRegistrations_.length===0}function gP(n,e){n.eventRegistrations_.push(e)}function kT(n,e,t){const i=[];if(t){ve(e==null,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(t,a);u&&i.push(u)})}if(e){let a=[];for(let l=0;l<n.eventRegistrations_.length;++l){const u=n.eventRegistrations_[l];if(!u.matches(e))a.push(u);else if(e.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(l+1));break}}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function PT(n,e,t,i){e.type===Nr.MERGE&&e.source.queryId!==null&&(ve(tl(n.viewCache_),"We should always have a full cache before handling merges"),ve(Ry(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,l=oP(n.processor_,a,e,t,i);return aP(n.processor_,l.viewCache),ve(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,cS(n,l.changes,l.viewCache.eventCache.getNode(),null)}function yP(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(rn,(l,u)=>{i.push(gu(l,u))}),t.isFullyInitialized()&&i.push(eS(t.getNode())),cS(n,i,t.getNode(),e)}function cS(n,e,t,i){const a=i?[i]:n.eventRegistrations_;return U2(n.eventGenerator_,e,t,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd;class _P{constructor(){this.views=new Map}}function vP(n){ve(!zd,"__referenceConstructor has already been defined"),zd=n}function EP(){return ve(zd,"Reference.ts has not been loaded"),zd}function wP(n){return n.views.size===0}function K_(n,e,t,i){const a=e.source.queryId;if(a!==null){const l=n.views.get(a);return ve(l!=null,"SyncTree gave us an op for an invalid query."),PT(l,e,t,i)}else{let l=[];for(const u of n.views.values())l=l.concat(PT(u,e,t,i));return l}}function TP(n,e,t,i,a){const l=e._queryIdentifier,u=n.views.get(l);if(!u){let f=jd(t,a?i:null),p=!1;f?p=!0:i instanceof qe?(f=Y_(t,i),p=!1):(f=qe.EMPTY_NODE,p=!1);const m=vp(new el(f,p,!1),new el(i,a,!1));return new dP(e,m)}return u}function AP(n,e,t,i,a,l){const u=TP(n,e,i,a,l);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),gP(u,t),yP(u,t)}function CP(n,e,t,i){const a=e._queryIdentifier,l=[];let u=[];const f=Ja(n);if(a==="default")for(const[p,m]of n.views.entries())u=u.concat(kT(m,t,i)),xT(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||l.push(m.query));else{const p=n.views.get(a);p&&(u=u.concat(kT(p,t,i)),xT(p)&&(n.views.delete(a),p.query._queryParams.loadsAllData()||l.push(p.query)))}return f&&!Ja(n)&&l.push(new(EP())(e._repo,e._path)),{removed:l,events:u}}function hS(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function cu(n,e){let t=null;for(const i of n.views.values())t=t||mP(i,e);return t}function fS(n,e){if(e._queryParams.loadsAllData())return Ep(n);{const i=e._queryIdentifier;return n.views.get(i)}}function dS(n,e){return fS(n,e)!=null}function Ja(n){return Ep(n)!=null}function Ep(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd;function bP(n){ve(!Qd,"__referenceConstructor has already been defined"),Qd=n}function SP(){return ve(Qd,"Reference.ts has not been loaded"),Qd}let RP=1;class LT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ut(null),this.pendingWriteTree_=tP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pS(n,e,t,i,a){return j2(n.pendingWriteTree_,e,t,i,a),a?ku(n,new $o(q_(),e,t)):[]}function IP(n,e,t,i){H2(n.pendingWriteTree_,e,t,i);const a=Ut.fromObject(t);return ku(n,new yu(q_(),e,a))}function Ua(n,e,t=!1){const i=Y2(n.pendingWriteTree_,e);if(z2(n.pendingWriteTree_,e)){let l=new Ut(null);return i.snap!=null?l=l.set(Rt(),!0):Xn(i.children,u=>{l=l.set(new Ot(u),!0)}),ku(n,new Gd(i.path,l,t))}else return[]}function wp(n,e,t){return ku(n,new $o(G_(),e,t))}function DP(n,e,t){const i=Ut.fromObject(t);return ku(n,new yu(G_(),e,i))}function NP(n,e){return ku(n,new _h(G_(),e))}function MP(n,e,t){const i=J_(n,t);if(i){const a=X_(i),l=a.path,u=a.queryId,f=Si(l,e),p=new _h(j_(u),f);return Z_(n,l,p)}else return[]}function xy(n,e,t,i,a=!1){const l=e._path,u=n.syncPointTree_.get(l);let f=[];if(u&&(e._queryIdentifier==="default"||dS(u,e))){const p=CP(u,e,t,i);wP(u)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const m=p.removed;if(f=p.events,!a){const _=m.findIndex(b=>b._queryParams.loadsAllData())!==-1,T=n.syncPointTree_.findOnPath(l,(b,C)=>Ja(C));if(_&&!T){const b=n.syncPointTree_.subtree(l);if(!b.isEmpty()){const C=kP(b);for(let I=0;I<C.length;++I){const L=C[I],O=L.query,x=yS(n,L);n.listenProvider_.startListening(ih(O),Kd(n,O),x.hashFn,x.onComplete)}}}!T&&m.length>0&&!i&&(_?n.listenProvider_.stopListening(ih(e),null):m.forEach(b=>{const C=n.queryToTagMap.get(Tp(b));n.listenProvider_.stopListening(ih(b),C)}))}PP(n,m)}return f}function OP(n,e,t,i){const a=J_(n,i);if(a!=null){const l=X_(a),u=l.path,f=l.queryId,p=Si(u,e),m=new $o(j_(f),p,t);return Z_(n,u,m)}else return[]}function xP(n,e,t,i){const a=J_(n,i);if(a){const l=X_(a),u=l.path,f=l.queryId,p=Si(u,e),m=Ut.fromObject(t),_=new yu(j_(f),p,m);return Z_(n,u,_)}else return[]}function BT(n,e,t,i=!1){const a=e._path;let l=null,u=!1;n.syncPointTree_.foreachOnPath(a,(b,C)=>{const I=Si(b,a);l=l||cu(C,I),u=u||Ja(C)});let f=n.syncPointTree_.get(a);f?(u=u||Ja(f),l=l||cu(f,Rt())):(f=new _P,n.syncPointTree_=n.syncPointTree_.set(a,f));let p;l!=null?p=!0:(p=!1,l=qe.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((C,I)=>{const L=cu(I,Rt());L&&(l=l.updateImmediateChild(C,L))}));const m=dS(f,e);if(!m&&!e._queryParams.loadsAllData()){const b=Tp(e);ve(!n.queryToTagMap.has(b),"View does not exist, but we have a tag");const C=LP();n.queryToTagMap.set(b,C),n.tagToQueryMap.set(C,b)}const _=H_(n.pendingWriteTree_,a);let T=AP(f,e,t,_,l,p);if(!m&&!u&&!i){const b=fS(f,e);T=T.concat(BP(n,e,b))}return T}function W_(n,e,t){const a=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(e,(u,f)=>{const p=Si(u,e),m=cu(f,p);if(m)return m});return sS(a,e,l,t,!0)}function ku(n,e){return mS(e,n.syncPointTree_,null,H_(n.pendingWriteTree_,Rt()))}function mS(n,e,t,i){if(ht(n.path))return gS(n,e,t,i);{const a=e.get(Rt());t==null&&a!=null&&(t=cu(a,Rt()));let l=[];const u=at(n.path),f=n.operationForChild(u),p=e.children.get(u);if(p&&f){const m=t?t.getImmediateChild(u):null,_=aS(i,u);l=l.concat(mS(f,p,m,_))}return a&&(l=l.concat(K_(a,n,i,t))),l}}function gS(n,e,t,i){const a=e.get(Rt());t==null&&a!=null&&(t=cu(a,Rt()));let l=[];return e.children.inorderTraversal((u,f)=>{const p=t?t.getImmediateChild(u):null,m=aS(i,u),_=n.operationForChild(u);_&&(l=l.concat(gS(_,f,p,m)))}),a&&(l=l.concat(K_(a,n,i,t))),l}function yS(n,e){const t=e.query,i=Kd(n,t);return{hashFn:()=>(pP(e)||qe.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?MP(n,t._path,i):NP(n,t._path);{const l=Dk(a,t);return xy(n,t,null,l)}}}}function Kd(n,e){const t=Tp(e);return n.queryToTagMap.get(t)}function Tp(n){return n._path.toString()+"$"+n._queryIdentifier}function J_(n,e){return n.tagToQueryMap.get(e)}function X_(n){const e=n.indexOf("$");return ve(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ot(n.substr(0,e))}}function Z_(n,e,t){const i=n.syncPointTree_.get(e);ve(i,"Missing sync point for query tag that we're tracking");const a=H_(n.pendingWriteTree_,e);return K_(i,t,a,null)}function kP(n){return n.fold((e,t,i)=>{if(t&&Ja(t))return[Ep(t)];{let a=[];return t&&(a=hS(t)),Xn(i,(l,u)=>{a=a.concat(u)}),a}})}function ih(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(SP())(n._repo,n._path):n}function PP(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const a=Tp(i),l=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(l)}}}function LP(){return RP++}function BP(n,e,t){const i=e._path,a=Kd(n,e),l=yS(n,t),u=n.listenProvider_.startListening(ih(e),a,l.hashFn,l.onComplete),f=n.syncPointTree_.subtree(i);if(a)ve(!Ja(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((m,_,T)=>{if(!ht(m)&&_&&Ja(_))return[Ep(_).query];{let b=[];return _&&(b=b.concat(hS(_).map(C=>C.query))),Xn(T,(C,I)=>{b=b.concat(I)}),b}});for(let m=0;m<p.length;++m){const _=p[m];n.listenProvider_.stopListening(ih(_),Kd(n,_))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new $_(t)}node(){return this.node_}}class ev{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=nn(this.path_,e);return new ev(this.syncTree_,t)}node(){return W_(this.syncTree_,this.path_)}}const VP=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},VT=function(n,e,t){if(!n||typeof n!="object")return n;if(ve(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return UP(n[".sv"],e,t);if(typeof n[".sv"]=="object")return FP(n[".sv"],e);ve(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},UP=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ve(!1,"Unexpected server value: "+n)}},FP=function(n,e,t){n.hasOwnProperty("increment")||ve(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ve(!1,"Unexpected increment value: "+i);const a=e.node();if(ve(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const u=a.getValue();return typeof u!="number"?i:u+i},_S=function(n,e,t,i){return tv(e,new ev(t,n),i)},vS=function(n,e,t){return tv(n,new $_(e),t)};function tv(n,e,t){const i=n.getPriority().val(),a=VT(i,e.getImmediateChild(".priority"),t);let l;if(n.isLeafNode()){const u=n,f=VT(u.getValue(),e,t);return f!==u.getValue()||a!==u.getPriority().val()?new Bn(f,Un(a)):n}else{const u=n;return l=u,a!==u.getPriority().val()&&(l=l.updatePriority(new Bn(a))),u.forEachChild(rn,(f,p)=>{const m=tv(p,e.getImmediateChild(f),t);m!==p&&(l=l.updateImmediateChild(f,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function iv(n,e){let t=e instanceof Ot?e:new Ot(e),i=n,a=at(t);for(;a!==null;){const l=du(i.node.children,a)||{children:{},childCount:0};i=new nv(a,i,l),t=Ft(t),a=at(t)}return i}function Pu(n){return n.node.value}function ES(n,e){n.node.value=e,ky(n)}function wS(n){return n.node.childCount>0}function qP(n){return Pu(n)===void 0&&!wS(n)}function Ap(n,e){Xn(n.node.children,(t,i)=>{e(new nv(t,n,i))})}function TS(n,e,t,i){t&&e(n),Ap(n,a=>{TS(a,e,!0)})}function GP(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Bh(n){return new Ot(n.parent===null?n.name:Bh(n.parent)+"/"+n.name)}function ky(n){n.parent!==null&&jP(n.parent,n.name,n)}function jP(n,e,t){const i=qP(t),a=hs(n.node.children,e);i&&a?(delete n.node.children[e],n.node.childCount--,ky(n)):!i&&!a&&(n.node.children[e]=t.node,n.node.childCount++,ky(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=/[\[\].#$\/\u0000-\u001F\u007F]/,YP=/[\[\].#$\u0000-\u001F\u007F]/,$g=10*1024*1024,rv=function(n){return typeof n=="string"&&n.length!==0&&!HP.test(n)},AS=function(n){return typeof n=="string"&&n.length!==0&&!YP.test(n)},zP=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),AS(n)},QP=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!N_(n)||n&&typeof n=="object"&&hs(n,".sv")},CS=function(n,e,t,i){i&&e===void 0||Cp(cp(n,"value"),e,t)},Cp=function(n,e,t){const i=t instanceof Ot?new u2(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+jo(i));if(typeof e=="function")throw new Error(n+"contains a function "+jo(i)+" with contents = "+e.toString());if(N_(e))throw new Error(n+"contains "+e.toString()+" "+jo(i));if(typeof e=="string"&&e.length>$g/3&&hp(e)>$g)throw new Error(n+"contains a string greater than "+$g+" utf8 bytes "+jo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(Xn(e,(u,f)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!rv(u)))throw new Error(n+" contains an invalid key ("+u+") "+jo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);c2(i,u),Cp(n,f,i),h2(i)}),a&&l)throw new Error(n+' contains ".value" child '+jo(i)+" in addition to actual children.")}},KP=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const l=ph(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!rv(l[u]))throw new Error(n+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(l2);let a=null;for(t=0;t<e.length;t++){if(i=e[t],a!==null&&fr(a,i))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}},WP=function(n,e,t,i){const a=cp(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const l=[];Xn(e,(u,f)=>{const p=new Ot(u);if(Cp(a,f,nn(t,p)),P_(p)===".priority"&&!QP(f))throw new Error(a+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(p)}),KP(a,l)},bS=function(n,e,t,i){if(!AS(t))throw new Error(cp(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},JP=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bS(n,e,t)},SS=function(n,e){if(at(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},XP=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!rv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!zP(t))throw new Error(cp(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bp(n,e){let t=null;for(let i=0;i<e.length;i++){const a=e[i],l=a.getPath();t!==null&&!L_(l,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:l}),t.events.push(a)}t&&n.eventLists_.push(t)}function RS(n,e,t){bp(n,t),IS(n,i=>L_(i,e))}function xr(n,e,t){bp(n,t),IS(n,i=>fr(i,e)||fr(e,i))}function IS(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];if(a){const l=a.path;e(l)?($P(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function $P(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();$c&&Jn("event: "+t.toString()),xu(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="repo_interrupt",t4=25;class n4{constructor(e,t,i,a){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qd(),this.transactionQueueTree_=new nv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function i4(n,e,t){if(n.stats_=x_(n.repoInfo_),n.forceRestClient_||xk())n.server_=new Fd(n.repoInfo_,(i,a,l,u)=>{UT(n,i,a,l,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>FT(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new qs(n.repoInfo_,e,(i,a,l,u)=>{UT(n,i,a,l,u)},i=>{FT(n,i)},i=>{r4(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=Vk(n.repoInfo_,()=>new B2(n.stats_,n.server_)),n.infoData_=new O2,n.infoSyncTree_=new LT({startListening:(i,a,l,u)=>{let f=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(f=wp(n.infoSyncTree_,i._path,p),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),sv(n,"connected",!1),n.serverSyncTree_=new LT({startListening:(i,a,l,u)=>(n.server_.listen(i,l,a,(f,p)=>{const m=u(f,p);xr(n.eventQueue_,i._path,m)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}function DS(n){const t=n.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Sp(n){return VP({timestamp:DS(n)})}function UT(n,e,t,i,a){n.dataUpdateCount++;const l=new Ot(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(a)if(i){const p=Dd(t,m=>Un(m));u=xP(n.serverSyncTree_,l,p,a)}else{const p=Un(t);u=OP(n.serverSyncTree_,l,p,a)}else if(i){const p=Dd(t,m=>Un(m));u=DP(n.serverSyncTree_,l,p)}else{const p=Un(t);u=wp(n.serverSyncTree_,l,p)}let f=l;u.length>0&&(f=vu(n,l)),xr(n.eventQueue_,f,u)}function FT(n,e){sv(n,"connected",e),e===!1&&o4(n)}function r4(n,e){Xn(e,(t,i)=>{sv(n,t,i)})}function sv(n,e,t){const i=new Ot("/.info/"+e),a=Un(t);n.infoData_.updateSnapshot(i,a);const l=wp(n.infoSyncTree_,i,a);xr(n.eventQueue_,i,l)}function av(n){return n.nextWriteId_++}function s4(n,e,t,i,a){Rp(n,"set",{path:e.toString(),value:t,priority:i});const l=Sp(n),u=Un(t,i),f=W_(n.serverSyncTree_,e),p=vS(u,f,l),m=av(n),_=pS(n.serverSyncTree_,e,p,m,!0);bp(n.eventQueue_,_),n.server_.put(e.toString(),u.val(!0),(b,C)=>{const I=b==="ok";I||mi("set at "+e+" failed: "+b);const L=Ua(n.serverSyncTree_,m,!I);xr(n.eventQueue_,e,L),Py(n,a,b,C)});const T=lv(n,e);vu(n,T),xr(n.eventQueue_,T,[])}function a4(n,e,t,i){Rp(n,"update",{path:e.toString(),value:t});let a=!0;const l=Sp(n),u={};if(Xn(t,(f,p)=>{a=!1,u[f]=_S(nn(e,f),Un(p),n.serverSyncTree_,l)}),a)Jn("update() called with empty data.  Don't do anything."),Py(n,i,"ok",void 0);else{const f=av(n),p=IP(n.serverSyncTree_,e,u,f);bp(n.eventQueue_,p),n.server_.merge(e.toString(),t,(m,_)=>{const T=m==="ok";T||mi("update at "+e+" failed: "+m);const b=Ua(n.serverSyncTree_,f,!T),C=b.length>0?vu(n,e):e;xr(n.eventQueue_,C,b),Py(n,i,m,_)}),Xn(t,m=>{const _=lv(n,nn(e,m));vu(n,_)}),xr(n.eventQueue_,e,[])}}function o4(n){Rp(n,"onDisconnectEvents");const e=Sp(n),t=qd();Sy(n.onDisconnect_,Rt(),(a,l)=>{const u=_S(a,l,n.serverSyncTree_,e);tS(t,a,u)});let i=[];Sy(t,Rt(),(a,l)=>{i=i.concat(wp(n.serverSyncTree_,a,l));const u=lv(n,a);vu(n,u)}),n.onDisconnect_=qd(),xr(n.eventQueue_,Rt(),i)}function l4(n,e,t){let i;at(e._path)===".info"?i=BT(n.infoSyncTree_,e,t):i=BT(n.serverSyncTree_,e,t),RS(n.eventQueue_,e._path,i)}function u4(n,e,t){let i;at(e._path)===".info"?i=xy(n.infoSyncTree_,e,t):i=xy(n.serverSyncTree_,e,t),RS(n.eventQueue_,e._path,i)}function c4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(e4)}function Rp(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Jn(t,...e)}function Py(n,e,t,i){e&&xu(()=>{if(t==="ok")e(null);else{const a=(t||"error").toUpperCase();let l=a;i&&(l+=": "+i);const u=new Error(l);u.code=a,e(u)}})}function NS(n,e,t){return W_(n.serverSyncTree_,e,t)||qe.EMPTY_NODE}function ov(n,e=n.transactionQueueTree_){if(e||Ip(n,e),Pu(e)){const t=OS(n,e);ve(t.length>0,"Sending zero length transaction queue"),t.every(a=>a.status===0)&&h4(n,Bh(e),t)}else wS(e)&&Ap(e,t=>{ov(n,t)})}function h4(n,e,t){const i=t.map(m=>m.currentWriteId),a=NS(n,e,i);let l=a;const u=a.hash();for(let m=0;m<t.length;m++){const _=t[m];ve(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const T=Si(e,_.path);l=l.updateChild(T,_.currentOutputSnapshotRaw)}const f=l.val(!0),p=e;n.server_.put(p.toString(),f,m=>{Rp(n,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const T=[];for(let b=0;b<t.length;b++)t[b].status=2,_=_.concat(Ua(n.serverSyncTree_,t[b].currentWriteId)),t[b].onComplete&&T.push(()=>t[b].onComplete(null,!0,t[b].currentOutputSnapshotResolved)),t[b].unwatcher();Ip(n,iv(n.transactionQueueTree_,e)),ov(n,n.transactionQueueTree_),xr(n.eventQueue_,e,_);for(let b=0;b<T.length;b++)xu(T[b])}else{if(m==="datastale")for(let T=0;T<t.length;T++)t[T].status===3?t[T].status=4:t[T].status=0;else{mi("transaction at "+p.toString()+" failed: "+m);for(let T=0;T<t.length;T++)t[T].status=4,t[T].abortReason=m}vu(n,e)}},u)}function vu(n,e){const t=MS(n,e),i=Bh(t),a=OS(n,t);return f4(n,a,i),i}function f4(n,e,t){if(e.length===0)return;const i=[];let a=[];const u=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],m=Si(t,p.path);let _=!1,T;if(ve(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,T=p.abortReason,a=a.concat(Ua(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=t4)_=!0,T="maxretry",a=a.concat(Ua(n.serverSyncTree_,p.currentWriteId,!0));else{const b=NS(n,p.path,u);p.currentInputSnapshot=b;const C=e[f].update(b.val());if(C!==void 0){Cp("transaction failed: Data returned ",C,p.path);let I=Un(C);typeof C=="object"&&C!=null&&hs(C,".priority")||(I=I.updatePriority(b.getPriority()));const O=p.currentWriteId,x=Sp(n),P=vS(I,b,x);p.currentOutputSnapshotRaw=I,p.currentOutputSnapshotResolved=P,p.currentWriteId=av(n),u.splice(u.indexOf(O),1),a=a.concat(pS(n.serverSyncTree_,p.path,P,p.currentWriteId,p.applyLocally)),a=a.concat(Ua(n.serverSyncTree_,O,!0))}else _=!0,T="nodata",a=a.concat(Ua(n.serverSyncTree_,p.currentWriteId,!0))}xr(n.eventQueue_,t,a),a=[],_&&(e[f].status=2,function(b){setTimeout(b,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(T==="nodata"?i.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):i.push(()=>e[f].onComplete(new Error(T),!1,null))))}Ip(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)xu(i[f]);ov(n,n.transactionQueueTree_)}function MS(n,e){let t,i=n.transactionQueueTree_;for(t=at(e);t!==null&&Pu(i)===void 0;)i=iv(i,t),e=Ft(e),t=at(e);return i}function OS(n,e){const t=[];return xS(n,e,t),t.sort((i,a)=>i.order-a.order),t}function xS(n,e,t){const i=Pu(e);if(i)for(let a=0;a<i.length;a++)t.push(i[a]);Ap(e,a=>{xS(n,a,t)})}function Ip(n,e){const t=Pu(e);if(t){let i=0;for(let a=0;a<t.length;a++)t[a].status!==2&&(t[i]=t[a],i++);t.length=i,ES(e,t.length>0?t:void 0)}Ap(e,i=>{Ip(n,i)})}function lv(n,e){const t=Bh(MS(n,e)),i=iv(n.transactionQueueTree_,e);return GP(i,a=>{ey(n,a)}),ey(n,i),TS(i,a=>{ey(n,a)}),t}function ey(n,e){const t=Pu(e);if(t){const i=[];let a=[],l=-1;for(let u=0;u<t.length;u++)t[u].status===3||(t[u].status===1?(ve(l===u-1,"All SENT items should be at beginning of queue."),l=u,t[u].status=3,t[u].abortReason="set"):(ve(t[u].status===0,"Unexpected transaction status in abort"),t[u].unwatcher(),a=a.concat(Ua(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?ES(e,void 0):t.length=l+1,xr(n.eventQueue_,Bh(e),a);for(let u=0;u<i.length;u++)xu(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let a=t[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function p4(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):mi(`Invalid query segment '${t}' in query '${n}'`)}return e}const qT=function(n,e){const t=m4(n),i=t.namespace;t.domain==="firebase.com"&&Ys(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Ys("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Ck();const a=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Vb(t.host,t.secure,i,a,e,"",i!==t.subdomain),path:new Ot(t.pathString)}},m4=function(n){let e="",t="",i="",a="",l="",u=!0,f="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(f=n.substring(0,m-1),n=n.substring(m+2));let _=n.indexOf("/");_===-1&&(_=n.length);let T=n.indexOf("?");T===-1&&(T=n.length),e=n.substring(0,Math.min(_,T)),_<T&&(a=d4(n.substring(_,T)));const b=p4(n.substring(Math.min(n.length,T)));m=e.indexOf(":"),m>=0?(u=f==="https"||f==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const C=e.slice(0,m);if(C.toLowerCase()==="localhost")t="localhost";else if(C.split(".").length<=2)t=C;else{const I=e.indexOf(".");i=e.substring(0,I).toLowerCase(),t=e.substring(I+1),l=i}"ns"in b&&(l=b.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:u,scheme:f,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",g4=function(){let n=0;const e=[];return function(t){const i=t===n;n=t;let a;const l=new Array(8);for(a=7;a>=0;a--)l[a]=GT.charAt(t%64),t=Math.floor(t/64);ve(t===0,"Cannot push at time == 0");let u=l.join("");if(i){for(a=11;a>=0&&e[a]===63;a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)u+=GT.charAt(e[a]);return ve(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,t,i,a){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Fn(this.snapshot.exportVal())}}class _4{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ve(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,t,i,a){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=a}get key(){return ht(this._path)?null:P_(this._path)}get ref(){return new ro(this._repo,this._path)}get _queryIdentifier(){const e=ST(this._queryParams),t=M_(e);return t==="{}"?"default":t}get _queryObject(){return ST(this._queryParams)}isEqual(e){if(e=li(e),!(e instanceof uv))return!1;const t=this._repo===e._repo,i=L_(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return t&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+o2(this._path)}}class ro extends uv{constructor(e,t){super(e,t,new F_,!1)}get parent(){const e=Qb(this._path);return e===null?null:new ro(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Wd{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ot(e),i=vh(this.ref,e);return new Wd(this._node.getChild(t),i,rn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>e(new Wd(a,vh(this.ref,i),rn)))}hasChild(e){const t=new Ot(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qo(n,e){return n=li(n),n._checkNotDeleted("ref"),e!==void 0?vh(n._root,e):n._root}function vh(n,e){return n=li(n),at(n._path)===null?JP("child","path",e):bS("child","path",e),new ro(n._repo,nn(n._path,e))}function E4(n,e){n=li(n),SS("push",n._path),CS("push",e,n._path,!0);const t=DS(n._repo),i=g4(t),a=vh(n,i),l=vh(n,i);let u;return u=Promise.resolve(l),a.then=u.then.bind(u),a.catch=u.then.bind(u,void 0),a}function jT(n,e){n=li(n),SS("set",n._path),CS("set",e,n._path,!1);const t=new Dh;return s4(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function HT(n,e){WP("update",e,n._path);const t=new Dh;return a4(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class cv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new y4("value",this,new Wd(e.snapshotNode,new ro(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new _4(this,e,t):null}matches(e){return e instanceof cv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function w4(n,e,t,i,a){const l=new v4(t,void 0),u=new cv(l);return l4(n._repo,n,u),()=>u4(n._repo,n,u)}function ty(n,e,t,i){return w4(n,"value",e)}vP(ro);bP(ro);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="FIREBASE_DATABASE_EMULATOR_HOST",Ly={};let A4=!1;function C4(n,e,t,i){n.repoInfo_=new Vb(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function b4(n,e,t,i,a){let l=i||n.options.databaseURL;l===void 0&&(n.options.projectId||Ys("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jn("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u=qT(l,a),f=u.repoInfo,p;typeof process<"u"&&lT&&(p=lT[T4]),p?(l=`http://${p}?ns=${f.namespace}`,u=qT(l,a),f=u.repoInfo):u.repoInfo.secure;const m=new Pk(n.name,n.options,e);XP("Invalid Firebase Database URL",u),ht(u.path)||Ys("Database URL must point to the root of a Firebase Database (not including a child path).");const _=R4(f,n,m,new kk(n,t));return new I4(_,n)}function S4(n,e){const t=Ly[e];(!t||t[n.key]!==n)&&Ys(`Database ${e}(${n.repoInfo_}) has already been deleted.`),c4(n),delete t[n.key]}function R4(n,e,t,i){let a=Ly[e.name];a||(a={},Ly[e.name]=a);let l=a[n.toURLString()];return l&&Ys("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new n4(n,A4,t,i),a[n.toURLString()]=l,l}class I4{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(i4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ro(this._repo,Rt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(S4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ys("Cannot call "+e+" on a deleted database.")}}function kS(n=E_(),e){const t=dp(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=MC("database");i&&D4(t,...i)}return t}function D4(n,e,t,i={}){n=li(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Ys("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let l;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Ys('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new gd(gd.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:kC(i.mockUserToken,n.app.options.projectId);l=new gd(u)}C4(a,e,t,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(n){_k(sl),Jo(new Ka("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return b4(i,a,l,t)},"PUBLIC").setMultipleInstances(!0)),is(uT,cT,n),is(uT,cT,"esm2017")}qs.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};qs.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};N4();const M4={apiKey:"AIzaSyD3xNyaIupMM9KvDlYX_UpkdVu-3tHVSCU",authDomain:"mess-management-609b4.firebaseapp.com",databaseURL:"https://mess-management-609b4-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"mess-management-609b4",storageBucket:"mess-management-609b4.firebasestorage.app",messagingSenderId:"57414040814",appId:"1:57414040814:web:f23c146289a0fddf4a87ff",measurementId:"G-S6BVK03GKH"},PS=UC(M4),LS=Ab(PS),jc=kS(PS);var YT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var za,BS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,N){function M(){}M.prototype=N.prototype,B.D=N.prototype,B.prototype=new M,B.prototype.constructor=B,B.C=function(U,H,Y){for(var F=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)F[Le-2]=arguments[Le];return N.prototype[H].apply(U,F)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(B,N,M){M||(M=0);var U=Array(16);if(typeof N=="string")for(var H=0;16>H;++H)U[H]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(H=0;16>H;++H)U[H]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=B.g[0],M=B.g[1],H=B.g[2];var Y=B.g[3],F=N+(Y^M&(H^Y))+U[0]+3614090360&4294967295;N=M+(F<<7&4294967295|F>>>25),F=Y+(H^N&(M^H))+U[1]+3905402710&4294967295,Y=N+(F<<12&4294967295|F>>>20),F=H+(M^Y&(N^M))+U[2]+606105819&4294967295,H=Y+(F<<17&4294967295|F>>>15),F=M+(N^H&(Y^N))+U[3]+3250441966&4294967295,M=H+(F<<22&4294967295|F>>>10),F=N+(Y^M&(H^Y))+U[4]+4118548399&4294967295,N=M+(F<<7&4294967295|F>>>25),F=Y+(H^N&(M^H))+U[5]+1200080426&4294967295,Y=N+(F<<12&4294967295|F>>>20),F=H+(M^Y&(N^M))+U[6]+2821735955&4294967295,H=Y+(F<<17&4294967295|F>>>15),F=M+(N^H&(Y^N))+U[7]+4249261313&4294967295,M=H+(F<<22&4294967295|F>>>10),F=N+(Y^M&(H^Y))+U[8]+1770035416&4294967295,N=M+(F<<7&4294967295|F>>>25),F=Y+(H^N&(M^H))+U[9]+2336552879&4294967295,Y=N+(F<<12&4294967295|F>>>20),F=H+(M^Y&(N^M))+U[10]+4294925233&4294967295,H=Y+(F<<17&4294967295|F>>>15),F=M+(N^H&(Y^N))+U[11]+2304563134&4294967295,M=H+(F<<22&4294967295|F>>>10),F=N+(Y^M&(H^Y))+U[12]+1804603682&4294967295,N=M+(F<<7&4294967295|F>>>25),F=Y+(H^N&(M^H))+U[13]+4254626195&4294967295,Y=N+(F<<12&4294967295|F>>>20),F=H+(M^Y&(N^M))+U[14]+2792965006&4294967295,H=Y+(F<<17&4294967295|F>>>15),F=M+(N^H&(Y^N))+U[15]+1236535329&4294967295,M=H+(F<<22&4294967295|F>>>10),F=N+(H^Y&(M^H))+U[1]+4129170786&4294967295,N=M+(F<<5&4294967295|F>>>27),F=Y+(M^H&(N^M))+U[6]+3225465664&4294967295,Y=N+(F<<9&4294967295|F>>>23),F=H+(N^M&(Y^N))+U[11]+643717713&4294967295,H=Y+(F<<14&4294967295|F>>>18),F=M+(Y^N&(H^Y))+U[0]+3921069994&4294967295,M=H+(F<<20&4294967295|F>>>12),F=N+(H^Y&(M^H))+U[5]+3593408605&4294967295,N=M+(F<<5&4294967295|F>>>27),F=Y+(M^H&(N^M))+U[10]+38016083&4294967295,Y=N+(F<<9&4294967295|F>>>23),F=H+(N^M&(Y^N))+U[15]+3634488961&4294967295,H=Y+(F<<14&4294967295|F>>>18),F=M+(Y^N&(H^Y))+U[4]+3889429448&4294967295,M=H+(F<<20&4294967295|F>>>12),F=N+(H^Y&(M^H))+U[9]+568446438&4294967295,N=M+(F<<5&4294967295|F>>>27),F=Y+(M^H&(N^M))+U[14]+3275163606&4294967295,Y=N+(F<<9&4294967295|F>>>23),F=H+(N^M&(Y^N))+U[3]+4107603335&4294967295,H=Y+(F<<14&4294967295|F>>>18),F=M+(Y^N&(H^Y))+U[8]+1163531501&4294967295,M=H+(F<<20&4294967295|F>>>12),F=N+(H^Y&(M^H))+U[13]+2850285829&4294967295,N=M+(F<<5&4294967295|F>>>27),F=Y+(M^H&(N^M))+U[2]+4243563512&4294967295,Y=N+(F<<9&4294967295|F>>>23),F=H+(N^M&(Y^N))+U[7]+1735328473&4294967295,H=Y+(F<<14&4294967295|F>>>18),F=M+(Y^N&(H^Y))+U[12]+2368359562&4294967295,M=H+(F<<20&4294967295|F>>>12),F=N+(M^H^Y)+U[5]+4294588738&4294967295,N=M+(F<<4&4294967295|F>>>28),F=Y+(N^M^H)+U[8]+2272392833&4294967295,Y=N+(F<<11&4294967295|F>>>21),F=H+(Y^N^M)+U[11]+1839030562&4294967295,H=Y+(F<<16&4294967295|F>>>16),F=M+(H^Y^N)+U[14]+4259657740&4294967295,M=H+(F<<23&4294967295|F>>>9),F=N+(M^H^Y)+U[1]+2763975236&4294967295,N=M+(F<<4&4294967295|F>>>28),F=Y+(N^M^H)+U[4]+1272893353&4294967295,Y=N+(F<<11&4294967295|F>>>21),F=H+(Y^N^M)+U[7]+4139469664&4294967295,H=Y+(F<<16&4294967295|F>>>16),F=M+(H^Y^N)+U[10]+3200236656&4294967295,M=H+(F<<23&4294967295|F>>>9),F=N+(M^H^Y)+U[13]+681279174&4294967295,N=M+(F<<4&4294967295|F>>>28),F=Y+(N^M^H)+U[0]+3936430074&4294967295,Y=N+(F<<11&4294967295|F>>>21),F=H+(Y^N^M)+U[3]+3572445317&4294967295,H=Y+(F<<16&4294967295|F>>>16),F=M+(H^Y^N)+U[6]+76029189&4294967295,M=H+(F<<23&4294967295|F>>>9),F=N+(M^H^Y)+U[9]+3654602809&4294967295,N=M+(F<<4&4294967295|F>>>28),F=Y+(N^M^H)+U[12]+3873151461&4294967295,Y=N+(F<<11&4294967295|F>>>21),F=H+(Y^N^M)+U[15]+530742520&4294967295,H=Y+(F<<16&4294967295|F>>>16),F=M+(H^Y^N)+U[2]+3299628645&4294967295,M=H+(F<<23&4294967295|F>>>9),F=N+(H^(M|~Y))+U[0]+4096336452&4294967295,N=M+(F<<6&4294967295|F>>>26),F=Y+(M^(N|~H))+U[7]+1126891415&4294967295,Y=N+(F<<10&4294967295|F>>>22),F=H+(N^(Y|~M))+U[14]+2878612391&4294967295,H=Y+(F<<15&4294967295|F>>>17),F=M+(Y^(H|~N))+U[5]+4237533241&4294967295,M=H+(F<<21&4294967295|F>>>11),F=N+(H^(M|~Y))+U[12]+1700485571&4294967295,N=M+(F<<6&4294967295|F>>>26),F=Y+(M^(N|~H))+U[3]+2399980690&4294967295,Y=N+(F<<10&4294967295|F>>>22),F=H+(N^(Y|~M))+U[10]+4293915773&4294967295,H=Y+(F<<15&4294967295|F>>>17),F=M+(Y^(H|~N))+U[1]+2240044497&4294967295,M=H+(F<<21&4294967295|F>>>11),F=N+(H^(M|~Y))+U[8]+1873313359&4294967295,N=M+(F<<6&4294967295|F>>>26),F=Y+(M^(N|~H))+U[15]+4264355552&4294967295,Y=N+(F<<10&4294967295|F>>>22),F=H+(N^(Y|~M))+U[6]+2734768916&4294967295,H=Y+(F<<15&4294967295|F>>>17),F=M+(Y^(H|~N))+U[13]+1309151649&4294967295,M=H+(F<<21&4294967295|F>>>11),F=N+(H^(M|~Y))+U[4]+4149444226&4294967295,N=M+(F<<6&4294967295|F>>>26),F=Y+(M^(N|~H))+U[11]+3174756917&4294967295,Y=N+(F<<10&4294967295|F>>>22),F=H+(N^(Y|~M))+U[2]+718787259&4294967295,H=Y+(F<<15&4294967295|F>>>17),F=M+(Y^(H|~N))+U[9]+3951481745&4294967295,B.g[0]=B.g[0]+N&4294967295,B.g[1]=B.g[1]+(H+(F<<21&4294967295|F>>>11))&4294967295,B.g[2]=B.g[2]+H&4294967295,B.g[3]=B.g[3]+Y&4294967295}i.prototype.u=function(B,N){N===void 0&&(N=B.length);for(var M=N-this.blockSize,U=this.B,H=this.h,Y=0;Y<N;){if(H==0)for(;Y<=M;)a(this,B,Y),Y+=this.blockSize;if(typeof B=="string"){for(;Y<N;)if(U[H++]=B.charCodeAt(Y++),H==this.blockSize){a(this,U),H=0;break}}else for(;Y<N;)if(U[H++]=B[Y++],H==this.blockSize){a(this,U),H=0;break}}this.h=H,this.o+=N},i.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var N=1;N<B.length-8;++N)B[N]=0;var M=8*this.o;for(N=B.length-8;N<B.length;++N)B[N]=M&255,M/=256;for(this.u(B),B=Array(16),N=M=0;4>N;++N)for(var U=0;32>U;U+=8)B[M++]=this.g[N]>>>U&255;return B};function l(B,N){var M=f;return Object.prototype.hasOwnProperty.call(M,B)?M[B]:M[B]=N(B)}function u(B,N){this.h=N;for(var M=[],U=!0,H=B.length-1;0<=H;H--){var Y=B[H]|0;U&&Y==N||(M[H]=Y,U=!1)}this.g=M}var f={};function p(B){return-128<=B&&128>B?l(B,function(N){return new u([N|0],0>N?-1:0)}):new u([B|0],0>B?-1:0)}function m(B){if(isNaN(B)||!isFinite(B))return T;if(0>B)return O(m(-B));for(var N=[],M=1,U=0;B>=M;U++)N[U]=B/M|0,M*=4294967296;return new u(N,0)}function _(B,N){if(B.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(B.charAt(0)=="-")return O(_(B.substring(1),N));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=m(Math.pow(N,8)),U=T,H=0;H<B.length;H+=8){var Y=Math.min(8,B.length-H),F=parseInt(B.substring(H,H+Y),N);8>Y?(Y=m(Math.pow(N,Y)),U=U.j(Y).add(m(F))):(U=U.j(M),U=U.add(m(F)))}return U}var T=p(0),b=p(1),C=p(16777216);n=u.prototype,n.m=function(){if(L(this))return-O(this).m();for(var B=0,N=1,M=0;M<this.g.length;M++){var U=this.i(M);B+=(0<=U?U:4294967296+U)*N,N*=4294967296}return B},n.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(I(this))return"0";if(L(this))return"-"+O(this).toString(B);for(var N=m(Math.pow(B,6)),M=this,U="";;){var H=ne(M,N).g;M=x(M,H.j(N));var Y=((0<M.g.length?M.g[0]:M.h)>>>0).toString(B);if(M=H,I(M))return Y+U;for(;6>Y.length;)Y="0"+Y;U=Y+U}},n.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function I(B){if(B.h!=0)return!1;for(var N=0;N<B.g.length;N++)if(B.g[N]!=0)return!1;return!0}function L(B){return B.h==-1}n.l=function(B){return B=x(this,B),L(B)?-1:I(B)?0:1};function O(B){for(var N=B.g.length,M=[],U=0;U<N;U++)M[U]=~B.g[U];return new u(M,~B.h).add(b)}n.abs=function(){return L(this)?O(this):this},n.add=function(B){for(var N=Math.max(this.g.length,B.g.length),M=[],U=0,H=0;H<=N;H++){var Y=U+(this.i(H)&65535)+(B.i(H)&65535),F=(Y>>>16)+(this.i(H)>>>16)+(B.i(H)>>>16);U=F>>>16,Y&=65535,F&=65535,M[H]=F<<16|Y}return new u(M,M[M.length-1]&-2147483648?-1:0)};function x(B,N){return B.add(O(N))}n.j=function(B){if(I(this)||I(B))return T;if(L(this))return L(B)?O(this).j(O(B)):O(O(this).j(B));if(L(B))return O(this.j(O(B)));if(0>this.l(C)&&0>B.l(C))return m(this.m()*B.m());for(var N=this.g.length+B.g.length,M=[],U=0;U<2*N;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(var H=0;H<B.g.length;H++){var Y=this.i(U)>>>16,F=this.i(U)&65535,Le=B.i(H)>>>16,Ge=B.i(H)&65535;M[2*U+2*H]+=F*Ge,P(M,2*U+2*H),M[2*U+2*H+1]+=Y*Ge,P(M,2*U+2*H+1),M[2*U+2*H+1]+=F*Le,P(M,2*U+2*H+1),M[2*U+2*H+2]+=Y*Le,P(M,2*U+2*H+2)}for(U=0;U<N;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=N;U<2*N;U++)M[U]=0;return new u(M,0)};function P(B,N){for(;(B[N]&65535)!=B[N];)B[N+1]+=B[N]>>>16,B[N]&=65535,N++}function j(B,N){this.g=B,this.h=N}function ne(B,N){if(I(N))throw Error("division by zero");if(I(B))return new j(T,T);if(L(B))return N=ne(O(B),N),new j(O(N.g),O(N.h));if(L(N))return N=ne(B,O(N)),new j(O(N.g),N.h);if(30<B.g.length){if(L(B)||L(N))throw Error("slowDivide_ only works with positive integers.");for(var M=b,U=N;0>=U.l(B);)M=se(M),U=se(U);var H=pe(M,1),Y=pe(U,1);for(U=pe(U,2),M=pe(M,2);!I(U);){var F=Y.add(U);0>=F.l(B)&&(H=H.add(M),Y=F),U=pe(U,1),M=pe(M,1)}return N=x(B,H.j(N)),new j(H,N)}for(H=T;0<=B.l(N);){for(M=Math.max(1,Math.floor(B.m()/N.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),Y=m(M),F=Y.j(N);L(F)||0<F.l(B);)M-=U,Y=m(M),F=Y.j(N);I(Y)&&(Y=b),H=H.add(Y),B=x(B,F)}return new j(H,B)}n.A=function(B){return ne(this,B).h},n.and=function(B){for(var N=Math.max(this.g.length,B.g.length),M=[],U=0;U<N;U++)M[U]=this.i(U)&B.i(U);return new u(M,this.h&B.h)},n.or=function(B){for(var N=Math.max(this.g.length,B.g.length),M=[],U=0;U<N;U++)M[U]=this.i(U)|B.i(U);return new u(M,this.h|B.h)},n.xor=function(B){for(var N=Math.max(this.g.length,B.g.length),M=[],U=0;U<N;U++)M[U]=this.i(U)^B.i(U);return new u(M,this.h^B.h)};function se(B){for(var N=B.g.length+1,M=[],U=0;U<N;U++)M[U]=B.i(U)<<1|B.i(U-1)>>>31;return new u(M,B.h)}function pe(B,N){var M=N>>5;N%=32;for(var U=B.g.length-M,H=[],Y=0;Y<U;Y++)H[Y]=0<N?B.i(Y+M)>>>N|B.i(Y+M+1)<<32-N:B.i(Y+M);return new u(H,B.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,BS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,za=u}).apply(typeof YT<"u"?YT:typeof self<"u"?self:typeof window<"u"?window:{});var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VS,Kc,US,_d,By,FS,qS,GS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,w){return h==Array.prototype||h==Object.prototype||(h[y]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof nd=="object"&&nd];for(var y=0;y<h.length;++y){var w=h[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var w=i;h=h.split(".");for(var D=0;D<h.length-1;D++){var Z=h[D];if(!(Z in w))break e;w=w[Z]}h=h[h.length-1],D=w[h],y=y(D),y!=D&&y!=null&&e(w,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var w=0,D=!1,Z={next:function(){if(!D&&w<h.length){var ie=w++;return{value:y(ie,h[ie]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,w){return h.call.apply(h.bind,arguments)}function T(h,y,w){if(!h)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,D),h.apply(y,Z)}}return function(){return h.apply(y,arguments)}}function b(h,y,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,b.apply(null,arguments)}function C(h,y){var w=Array.prototype.slice.call(arguments,1);return function(){var D=w.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function I(h,y){function w(){}w.prototype=y.prototype,h.aa=y.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(D,Z,ie){for(var Ee=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)Ee[dt-2]=arguments[dt];return y.prototype[Z].apply(D,Ee)}}function L(h){const y=h.length;if(0<y){const w=Array(y);for(let D=0;D<y;D++)w[D]=h[D];return w}return[]}function O(h,y){for(let w=1;w<arguments.length;w++){const D=arguments[w];if(p(D)){const Z=h.length||0,ie=D.length||0;h.length=Z+ie;for(let Ee=0;Ee<ie;Ee++)h[Z+Ee]=D[Ee]}else h.push(D)}}class x{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(h){return/^[\s\xa0]*$/.test(h)}function j(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ne(h){return ne[" "](h),h}ne[" "]=function(){};var se=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function pe(h,y,w){for(const D in h)y.call(w,h[D],D,h)}function B(h,y){for(const w in h)y.call(void 0,h[w],w,h)}function N(h){const y={};for(const w in h)y[w]=h[w];return y}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(h,y){let w,D;for(let Z=1;Z<arguments.length;Z++){D=arguments[Z];for(w in D)h[w]=D[w];for(let ie=0;ie<M.length;ie++)w=M[ie],Object.prototype.hasOwnProperty.call(D,w)&&(h[w]=D[w])}}function H(h){var y=1;h=h.split(":");const w=[];for(;0<y&&h.length;)w.push(h.shift()),y--;return h.length&&w.push(h.join(":")),w}function Y(h){f.setTimeout(()=>{throw h},0)}function F(){var h=Pe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Le{constructor(){this.h=this.g=null}add(y,w){const D=Ge.get();D.set(y,w),this.h?this.h.next=D:this.g=D,this.h=D}}var Ge=new x(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Te=!1,Pe=new Le,q=()=>{const h=f.Promise.resolve(void 0);Ce=()=>{h.then(ce)}};var ce=()=>{for(var h;h=F();){try{h.h.call(h.g)}catch(w){Y(w)}var y=Ge;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}Te=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,y),f.removeEventListener("test",w,y)}catch{}return h}();function Ne(h,y){if(Ae.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(se){e:{try{ne(y.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(y=null)}}else w=="mouseover"?y=h.fromElement:w=="mouseout"&&(y=h.toElement);this.relatedTarget=y,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}I(Ne,Ae);var me={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Me=0;function je(h,y,w,D,Z){this.listener=h,this.proxy=null,this.src=y,this.type=w,this.capture=!!D,this.ha=Z,this.key=++Me,this.da=this.fa=!1}function Qe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Tt(h){this.src=h,this.g={},this.h=0}Tt.prototype.add=function(h,y,w,D,Z){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var Ee=xt(h,y,D,Z);return-1<Ee?(y=h[Ee],w||(y.fa=!1)):(y=new je(y,this.src,ie,!!D,Z),y.fa=w,h.push(y)),y};function It(h,y){var w=y.type;if(w in h.g){var D=h.g[w],Z=Array.prototype.indexOf.call(D,y,void 0),ie;(ie=0<=Z)&&Array.prototype.splice.call(D,Z,1),ie&&(Qe(y),h.g[w].length==0&&(delete h.g[w],h.h--))}}function xt(h,y,w,D){for(var Z=0;Z<h.length;++Z){var ie=h[Z];if(!ie.da&&ie.listener==y&&ie.capture==!!w&&ie.ha==D)return Z}return-1}var qn="closure_lm_"+(1e6*Math.random()|0),Gn={};function fn(h,y,w,D,Z){if(Array.isArray(y)){for(var ie=0;ie<y.length;ie++)fn(h,y[ie],w,D,Z);return null}return w=cl(w),h&&h[ke]?h.K(y,w,m(D)?!!D.capture:!1,Z):Xt(h,y,w,!1,D,Z)}function Xt(h,y,w,D,Z,ie){if(!y)throw Error("Invalid event type");var Ee=m(Z)?!!Z.capture:!!Z,dt=Qi(h);if(dt||(h[qn]=dt=new Tt(h)),w=dt.add(y,w,D,Ee,ie),w.proxy)return w;if(D=Pr(),w.proxy=D,D.src=h,D.listener=w,h.addEventListener)we||(Z=Ee),Z===void 0&&(Z=!1),h.addEventListener(y.toString(),D,Z);else if(h.attachEvent)h.attachEvent(Ke(y.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Pr(){function h(w){return y.call(h.src,h.listener,w)}const y=nt;return h}function Lr(h,y,w,D,Z){if(Array.isArray(y))for(var ie=0;ie<y.length;ie++)Lr(h,y[ie],w,D,Z);else D=m(D)?!!D.capture:!!D,w=cl(w),h&&h[ke]?(h=h.i,y=String(y).toString(),y in h.g&&(ie=h.g[y],w=xt(ie,w,D,Z),-1<w&&(Qe(ie[w]),Array.prototype.splice.call(ie,w,1),ie.length==0&&(delete h.g[y],h.h--)))):h&&(h=Qi(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xt(y,w,D,Z)),(w=-1<h?y[h]:null)&&Di(w))}function Di(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ke])It(y.i,h);else{var w=h.type,D=h.proxy;y.removeEventListener?y.removeEventListener(w,D,h.capture):y.detachEvent?y.detachEvent(Ke(w),D):y.addListener&&y.removeListener&&y.removeListener(D),(w=Qi(y))?(It(w,h),w.h==0&&(w.src=null,y[qn]=null)):Qe(h)}}}function Ke(h){return h in Gn?Gn[h]:Gn[h]="on"+h}function nt(h,y){if(h.da)h=!0;else{y=new Ne(y,this);var w=h.listener,D=h.ha||h.src;h.fa&&Di(h),h=w.call(D,y)}return h}function Qi(h){return h=h[qn],h instanceof Tt?h:null}var Tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function cl(h){return typeof h=="function"?h:(h[Tn]||(h[Tn]=function(y){return h.handleEvent(y)}),h[Tn])}function Dt(){Se.call(this),this.i=new Tt(this),this.M=this,this.F=null}I(Dt,Se),Dt.prototype[ke]=!0,Dt.prototype.removeEventListener=function(h,y,w,D){Lr(this,h,y,w,D)};function dn(h,y){var w,D=h.F;if(D)for(w=[];D;D=D.F)w.push(D);if(h=h.M,D=y.type||y,typeof y=="string")y=new Ae(y,h);else if(y instanceof Ae)y.target=y.target||h;else{var Z=y;y=new Ae(D,h),U(y,Z)}if(Z=!0,w)for(var ie=w.length-1;0<=ie;ie--){var Ee=y.g=w[ie];Z=Ni(Ee,D,!0,y)&&Z}if(Ee=y.g=h,Z=Ni(Ee,D,!0,y)&&Z,Z=Ni(Ee,D,!1,y)&&Z,w)for(ie=0;ie<w.length;ie++)Ee=y.g=w[ie],Z=Ni(Ee,D,!1,y)&&Z}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var w=h.g[y],D=0;D<w.length;D++)Qe(w[D]);delete h.g[y],h.h--}}this.F=null},Dt.prototype.K=function(h,y,w,D){return this.i.add(String(h),y,!1,w,D)},Dt.prototype.L=function(h,y,w,D){return this.i.add(String(h),y,!0,w,D)};function Ni(h,y,w,D){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var Z=!0,ie=0;ie<y.length;++ie){var Ee=y[ie];if(Ee&&!Ee.da&&Ee.capture==w){var dt=Ee.listener,on=Ee.ha||Ee.src;Ee.fa&&It(h.i,Ee),Z=dt.call(on,D)!==!1&&Z}}return Z&&!D.defaultPrevented}function hl(h,y,w){if(typeof h=="function")w&&(h=b(h,w));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(h,y||0)}function Br(h){h.g=hl(()=>{h.g=null,h.i&&(h.i=!1,Br(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class so extends Se{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(h){Se.call(this),this.h=h,this.g={}}I(fs,Se);var Vr=[];function On(h){pe(h.g,function(y,w){this.g.hasOwnProperty(w)&&Di(y)},h),h.g={}}fs.prototype.N=function(){fs.aa.N.call(this),On(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ao=f.JSON.stringify,Ki=f.JSON.parse,jn=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function oo(){}oo.prototype.h=null;function ds(h){return h.h||(h.h=h.i())}function Ws(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){Ae.call(this,"d")}I(ui,Ae);function An(){Ae.call(this,"c")}I(An,Ae);var Hn={},dr=null;function pr(){return dr=dr||new Dt}Hn.La="serverreachability";function Mi(h){Ae.call(this,Hn.La,h)}I(Mi,Ae);function Ur(h){const y=pr();dn(y,new Mi(y))}Hn.STAT_EVENT="statevent";function Js(h,y){Ae.call(this,Hn.STAT_EVENT,h),this.stat=y}I(Js,Ae);function Yt(h){const y=pr();dn(y,new Js(y,h))}Hn.Ma="timingevent";function lo(h,y){Ae.call(this,Hn.Ma,h),this.size=y}I(lo,Ae);function jt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},y)}function ci(){this.g=!0}ci.prototype.xa=function(){this.g=!1};function ft(h,y,w,D,Z,ie){h.info(function(){if(h.g)if(ie)for(var Ee="",dt=ie.split("&"),on=0;on<dt.length;on++){var pt=dt[on].split("=");if(1<pt.length){var yn=pt[0];pt=pt[1];var ln=yn.split("_");Ee=2<=ln.length&&ln[1]=="type"?Ee+(yn+"="+pt+"&"):Ee+(yn+"=redacted&")}}else Ee=null;else Ee=ie;return"XMLHTTP REQ ("+D+") [attempt "+Z+"]: "+y+`
`+w+`
`+Ee})}function fl(h,y,w,D,Z,ie,Ee){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Z+"]: "+y+`
`+w+`
`+ie+" "+Ee})}function Cn(h,y,w,D){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+mn(h,w)+(D?" "+D:"")})}function pn(h,y){h.info(function(){return"TIMEOUT: "+y})}ci.prototype.info=function(){};function mn(h,y){if(!h.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var D=w[h];if(!(2>D.length)){var Z=D[1];if(Array.isArray(Z)&&!(1>Z.length)){var ie=Z[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Ee=1;Ee<Z.length;Ee++)Z[Ee]=""}}}}return ao(w)}catch{return y}}var an={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mr;function ps(){}I(ps,oo),ps.prototype.g=function(){return new XMLHttpRequest},ps.prototype.i=function(){return{}},mr=new ps;function Wi(h,y,w,D){this.j=h,this.i=y,this.l=w,this.R=D||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xs}function Xs(){this.i=null,this.g="",this.h=!1}var gr={},Fr={};function xi(h,y,w){h.L=1,h.v=gs(Gt(y)),h.m=w,h.P=!0,yr(h,null)}function yr(h,y){h.F=Date.now(),qt(h),h.A=Gt(h.v);var w=h.A,D=h.R;Array.isArray(D)||(D=[String(D)]),Li(w.i,"t",D),h.C=0,w=h.j.J,h.h=new Xs,h.g=Al(h.j,w?y:null,!h.m),0<h.O&&(h.M=new so(b(h.Y,h,h.g),h.O)),y=h.U,w=h.g,D=h.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Vr[0]=Z.toString()),Z=Vr);for(var ie=0;ie<Z.length;ie++){var Ee=fn(w,Z[ie],D||y.handleEvent,!1,y.h||y);if(!Ee)break;y.g[Ee.key]=Ee}y=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ur(),ft(h.i,h.u,h.A,h.l,h.R,h.m)}Wi.prototype.ca=function(h){h=h.target;const y=this.M;y&&wi(h)==3?y.j():this.Y(h)},Wi.prototype.Y=function(h){try{if(h==this.g)e:{const ln=wi(this.g);var y=this.g.Ba();const br=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||gl(this.g)))){this.J||ln!=4||y==7||(y==8||0>=br?Ur(3):Ur(2)),Zs(this);var w=this.g.Z();this.X=w;t:if(qr(this)){var D=gl(this.g);h="";var Z=D.length,ie=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),xn(this);var Ee="";break t}this.h.i=new f.TextDecoder}for(y=0;y<Z;y++)this.h.h=!0,h+=this.h.i.decode(D[y],{stream:!(ie&&y==Z-1)});D.length=0,this.h.g+=h,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=w==200,fl(this.i,this.u,this.A,this.l,this.R,ln,w),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,on=this.g;if((dt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(dt)){var pt=dt;break t}}pt=null}if(w=pt)Cn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ei(this,w);else{this.o=!1,this.s=3,Yt(12),bn(this),xn(this);break e}}if(this.P){w=!0;let Rn;for(;!this.J&&this.C<Ee.length;)if(Rn=ki(this,Ee),Rn==Fr){ln==4&&(this.s=4,Yt(14),w=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==gr){this.s=4,Yt(15),Cn(this.i,this.l,Ee,"[Invalid Chunk]"),w=!1;break}else Cn(this.i,this.l,Rn,null),ei(this,Rn);if(qr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||Ee.length!=0||this.h.h||(this.s=1,Yt(16),w=!1),this.o=this.o&&w,!w)Cn(this.i,this.l,Ee,"[Invalid Chunked Response]"),bn(this),xn(this);else if(0<Ee.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),Qr(yn),yn.M=!0,Yt(11))}}else Cn(this.i,this.l,Ee,null),ei(this,Ee);ln==4&&bn(this),this.o&&!this.J&&(ln==4?To(this.j,this):(this.o=!1,qt(this)))}else ju(this.g),w==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),bn(this),xn(this)}}}catch{}finally{}};function qr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ki(h,y){var w=h.C,D=y.indexOf(`
`,w);return D==-1?Fr:(w=Number(y.substring(w,D)),isNaN(w)?gr:(D+=1,D+w>y.length?Fr:(y=y.slice(D,D+w),h.C=D+w,y)))}Wi.prototype.cancel=function(){this.J=!0,bn(this)};function qt(h){h.S=Date.now()+h.I,_r(h,h.I)}function _r(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=jt(b(h.ba,h),y)}function Zs(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Wi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(pn(this.i,this.A),this.L!=2&&(Ur(),Yt(17)),bn(this),this.s=2,xn(this)):_r(this,this.S-h)};function xn(h){h.j.G==0||h.J||To(h.j,h)}function bn(h){Zs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,On(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function ei(h,y){try{var w=h.j;if(w.G!=0&&(w.g==h||Gr(w.h,h))){if(!h.K&&Gr(w.h,h)&&w.G==3){try{var D=w.Da.g.parse(y)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Z=D;if(Z[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)la(w),aa(w);else break e;wo(w),Yt(18)}}else w.za=Z[1],0<w.za-w.T&&37500>Z[2]&&w.F&&w.v==0&&!w.C&&(w.C=jt(b(w.Za,w),6e3));if(1>=pl(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Cr(w,11)}else if((h.K||w.g==h)&&la(w),!P(y))for(Z=w.Da.g.parse(y),y=0;y<Z.length;y++){let pt=Z[y];if(w.T=pt[0],pt=pt[1],w.G==2)if(pt[0]=="c"){w.K=pt[1],w.ia=pt[2];const yn=pt[3];yn!=null&&(w.la=yn,w.j.info("VER="+w.la));const ln=pt[4];ln!=null&&(w.Aa=ln,w.j.info("SVER="+w.Aa));const br=pt[5];br!=null&&typeof br=="number"&&0<br&&(D=1.5*br,w.L=D,w.j.info("backChannelRequestTimeoutMs_="+D)),D=w;const Rn=h.g;if(Rn){const gt=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gt){var ie=D.h;ie.g||gt.indexOf("spdy")==-1&&gt.indexOf("quic")==-1&&gt.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Ji(ie,ie.h),ie.h=null))}if(D.D){const ca=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(D.ya=ca,He(D.I,D.D,ca))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),D=w;var Ee=h;if(D.qa=Tl(D,D.J?D.ia:null,D.W),Ee.K){gi(D.h,Ee);var dt=Ee,on=D.L;on&&(dt.I=on),dt.B&&(Zs(dt),qt(dt)),D.g=Ee}else vl(D);0<w.i.length&&oa(w)}else pt[0]!="stop"&&pt[0]!="close"||Cr(w,7);else w.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Cr(w,7):vo(w):pt[0]!="noop"&&w.l&&w.l.ta(pt),w.v=0)}}Ur(4)}catch{}}var dl=class{constructor(h,y){this.g=h,this.map=y}};function uo(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function co(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function pl(h){return h.h?1:h.g?h.g.size:0}function Gr(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ji(h,y){h.g?h.g.add(y):h.h=y}function gi(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}uo.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Yn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const w of h.g.values())y=y.concat(w.D);return y}return L(h.i)}function ml(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],w=h.length,D=0;D<w;D++)y.push(h[D]);return y}y=[],w=0;for(D in h)y[w++]=h[D];return y}function qu(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var w=0;w<h;w++)y.push(w);return y}y=[],w=0;for(const D in h)y[w++]=D;return y}}}function Xi(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var w=qu(h),D=ml(h),Z=D.length,ie=0;ie<Z;ie++)y.call(void 0,D[ie],w&&w[ie],h)}var $s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(h,y){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var D=h[w].indexOf("="),Z=null;if(0<=D){var ie=h[w].substring(0,D);Z=h[w].substring(D+1)}else ie=h[w];y(ie,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function yi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof yi){this.h=h.h,We(this,h.j),this.o=h.o,this.g=h.g,ms(this,h.s),this.l=h.l;var y=h.i,w=new Pi;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),ta(this,w),this.m=h.m}else h&&(y=String(h).match($s))?(this.h=!1,We(this,y[1]||"",!0),this.o=vr(y[2]||""),this.g=vr(y[3]||"",!0),ms(this,y[4]),this.l=vr(y[5]||"",!0),ta(this,y[6]||"",!0),this.m=vr(y[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}yi.prototype.toString=function(){var h=[],y=this.j;y&&h.push(hi(y,ho,!0),":");var w=this.g;return(w||y=="file")&&(h.push("//"),(y=this.o)&&h.push(hi(y,ho,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(hi(w,w.charAt(0)=="/"?fo:ia,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",hi(w,Gu)),h.join("")};function Gt(h){return new yi(h)}function We(h,y,w){h.j=w?vr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ms(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function ta(h,y,w){y instanceof Pi?(h.i=y,mo(h.i,h.h)):(w||(y=hi(y,po)),h.i=new Pi(y,h.h))}function He(h,y,w){h.i.set(y,w)}function gs(h){return He(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function vr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function hi(h,y,w){return typeof h=="string"?(h=encodeURI(h).replace(y,na),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function na(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ho=/[#\/\?@]/g,ia=/[#\?:]/g,fo=/[#\?]/g,po=/[#\?@]/g,Gu=/#/g;function Pi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function _i(h){h.g||(h.g=new Map,h.h=0,h.i&&ea(h.i,function(y,w){h.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=Pi.prototype,n.add=function(h,y){_i(this),this.i=null,h=Er(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(y),this.h+=1,this};function jr(h,y){_i(h),y=Er(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Sn(h,y){return _i(h),y=Er(h,y),h.g.has(y)}n.forEach=function(h,y){_i(this),this.g.forEach(function(w,D){w.forEach(function(Z){h.call(y,Z,D,this)},this)},this)},n.na=function(){_i(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let D=0;D<y.length;D++){const Z=h[D];for(let ie=0;ie<Z.length;ie++)w.push(y[D])}return w},n.V=function(h){_i(this);let y=[];if(typeof h=="string")Sn(this,h)&&(y=y.concat(this.g.get(Er(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)y=y.concat(h[w])}return y},n.set=function(h,y){return _i(this),this.i=null,h=Er(this,h),Sn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Li(h,y,w){jr(h,y),0<w.length&&(h.i=null,h.g.set(Er(h,y),L(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var D=y[w];const ie=encodeURIComponent(String(D)),Ee=this.V(D);for(D=0;D<Ee.length;D++){var Z=ie;Ee[D]!==""&&(Z+="="+encodeURIComponent(String(Ee[D]))),h.push(Z)}}return this.i=h.join("&")};function Er(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function mo(h,y){y&&!h.j&&(_i(h),h.i=null,h.g.forEach(function(w,D){var Z=D.toLowerCase();D!=Z&&(jr(this,D),Li(this,Z,w))},h)),h.j=y}function vi(h,y){const w=new ci;if(f.Image){const D=new Image;D.onload=C(Ei,w,"TestLoadImage: loaded",!0,y,D),D.onerror=C(Ei,w,"TestLoadImage: error",!1,y,D),D.onabort=C(Ei,w,"TestLoadImage: abort",!1,y,D),D.ontimeout=C(Ei,w,"TestLoadImage: timeout",!1,y,D),f.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else y(!1)}function Hr(h,y){const w=new ci,D=new AbortController,Z=setTimeout(()=>{D.abort(),Ei(w,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:D.signal}).then(ie=>{clearTimeout(Z),ie.ok?Ei(w,"TestPingServer: ok",!0,y):Ei(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Z),Ei(w,"TestPingServer: error",!1,y)})}function Ei(h,y,w,D,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),D(w)}catch{}}function wr(){this.g=new jn}function Zi(h,y,w){const D=w||"";try{Xi(h,function(Z,ie){let Ee=Z;m(Z)&&(Ee=ao(Z)),y.push(D+ie+"="+encodeURIComponent(Ee))})}catch(Z){throw y.push(D+"type="+encodeURIComponent("_badmap")),Z}}function Yr(h){this.l=h.Ub||null,this.j=h.eb||!1}I(Yr,oo),Yr.prototype.g=function(){return new Tr(this.l,this.j)},Yr.prototype.i=function(h){return function(){return h}}({});function Tr(h,y){Dt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Tr,Dt),n=Tr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,er(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;go(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function go(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?$i(this):er(this),this.readyState==3&&go(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,$i(this))},n.Qa=function(h){this.g&&(this.response=h,$i(this))},n.ga=function(){this.g&&$i(this)};function $i(h){h.readyState=4,h.l=null,h.j=null,h.v=null,er(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=y.next();return h.join(`\r
`)};function er(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function yo(h){let y="";return pe(h,function(w,D){y+=D,y+=":",y+=w,y+=`\r
`}),y}function gn(h,y,w){e:{for(D in w){var D=!1;break e}D=!0}D||(w=yo(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):He(h,y,w))}function Ct(h){Dt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ct,Dt);var tr=/^https?$/i,ys=["POST","PUT"];n=Ct.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,w,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mr.g(),this.v=this.o?ds(this.o):ds(mr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ie){_o(this,ie);return}if(h=w||"",w=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Z in D)w.set(Z,D[Z]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ie of D.keys())w.set(ie,D.get(ie));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(w.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||D||Z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Ee]of w)this.g.setRequestHeader(ie,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zr(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){_o(this,ie)}};function _o(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,_s(h),nr(h)}function _s(h){h.A||(h.A=!0,dn(h,"complete"),dn(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,dn(this,"complete"),dn(this,"abort"),nr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},n.bb=function(){ra(this)};function ra(h){if(h.h&&typeof u<"u"&&(!h.v[1]||wi(h)!=4||h.Z()!=2)){if(h.u&&wi(h)==4)hl(h.Ea,0,h);else if(dn(h,"readystatechange"),wi(h)==4){h.h=!1;try{const Ee=h.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var D;if(D=Ee===0){var Z=String(h.D).match($s)[1]||null;!Z&&f.self&&f.self.location&&(Z=f.self.location.protocol.slice(0,-1)),D=!tr.test(Z?Z.toLowerCase():"")}w=D}if(w)dn(h,"complete"),dn(h,"success");else{h.m=6;try{var ie=2<wi(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",_s(h)}}finally{nr(h)}}}}function nr(h,y){if(h.g){zr(h);const w=h.g,D=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||dn(h,"ready");try{w.onreadystatechange=D}catch{}}}function zr(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function wi(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ki(y)}};function gl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ju(h){const y={};h=(h.g&&2<=wi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(P(h[D]))continue;var w=H(h[D]);const Z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ie=y[Z]||[];y[Z]=ie,ie.push(w)}B(y,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(h,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||y}function sa(h){this.Aa=0,this.i=[],this.j=new ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,h),this.cb=vs("retryDelaySeedMs",1e4,h),this.Wa=vs("forwardChannelMaxRetries",2,h),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new uo(h&&h.concurrentRequestLimit),this.Da=new wr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sa.prototype,n.la=8,n.G=1,n.connect=function(h,y,w,D){Yt(0),this.W=h,this.H=y||{},w&&D!==void 0&&(this.H.OSID=w,this.H.OAID=D),this.F=this.X,this.I=Tl(this,null,this.W),oa(this)};function vo(h){if(yl(h),h.G==3){var y=h.U++,w=Gt(h.I);if(He(w,"SID",h.K),He(w,"RID",y),He(w,"TYPE","terminate"),Ar(h,w),y=new Wi(h,h.j,y),y.L=2,y.v=gs(Gt(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=y.v,w=!0),w||(y.g=Al(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qt(y)}wl(h)}function aa(h){h.g&&(Qr(h),h.g.cancel(),h.g=null)}function yl(h){aa(h),h.u&&(f.clearTimeout(h.u),h.u=null),la(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function oa(h){if(!co(h.h)&&!h.s){h.s=!0;var y=h.Ga;Ce||q(),Te||(Ce(),Te=!0),Pe.add(y,h),h.B=0}}function Hu(h,y){return pl(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=jt(b(h.Ga,h,y),Ao(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Z=new Wi(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=N(ie),U(ie,this.S)):ie=this.S),this.m!==null||this.O||(Z.H=ie,ie=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var D=this.i[w];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(y+=D,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=_l(this,Z,y),w=Gt(this.I),He(w,"RID",h),He(w,"CVER",22),this.D&&He(w,"X-HTTP-Session-Id",this.D),Ar(this,w),ie&&(this.O?y="headers="+encodeURIComponent(String(yo(ie)))+"&"+y:this.m&&gn(w,this.m,ie)),Ji(this.h,Z),this.Ua&&He(w,"TYPE","init"),this.P?(He(w,"$req",y),He(w,"SID","null"),Z.T=!0,xi(Z,w,null)):xi(Z,w,y),this.G=2}}else this.G==3&&(h?Eo(this,h):this.i.length==0||co(this.h)||Eo(this))};function Eo(h,y){var w;y?w=y.l:w=h.U++;const D=Gt(h.I);He(D,"SID",h.K),He(D,"RID",w),He(D,"AID",h.T),Ar(h,D),h.m&&h.o&&gn(D,h.m,h.o),w=new Wi(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),y&&(h.i=y.D.concat(h.i)),y=_l(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ji(h.h,w),xi(w,D,y)}function Ar(h,y){h.H&&pe(h.H,function(w,D){He(y,D,w)}),h.l&&Xi({},function(w,D){He(y,D,w)})}function _l(h,y,w){w=Math.min(h.i.length,w);var D=h.l?b(h.l.Na,h.l,h):null;e:{var Z=h.i;let ie=-1;for(;;){const Ee=["count="+w];ie==-1?0<w?(ie=Z[0].g,Ee.push("ofs="+ie)):ie=0:Ee.push("ofs="+ie);let dt=!0;for(let on=0;on<w;on++){let pt=Z[on].g;const yn=Z[on].map;if(pt-=ie,0>pt)ie=Math.max(0,Z[on].g-100),dt=!1;else try{Zi(yn,Ee,"req"+pt+"_")}catch{D&&D(yn)}}if(dt){D=Ee.join("&");break e}}}return h=h.i.splice(0,w),y.D=h,D}function vl(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;Ce||q(),Te||(Ce(),Te=!0),Pe.add(y,h),h.v=0}}function wo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=jt(b(h.Fa,h),Ao(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,El(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=jt(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),aa(this),El(this))};function Qr(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function El(h){h.g=new Wi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Gt(h.qa);He(y,"RID","rpc"),He(y,"SID",h.K),He(y,"AID",h.T),He(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&He(y,"TO",h.ja),He(y,"TYPE","xmlhttp"),Ar(h,y),h.m&&h.o&&gn(y,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=gs(Gt(y)),w.m=null,w.P=!0,yr(w,h)}n.Za=function(){this.C!=null&&(this.C=null,aa(this),wo(this),Yt(19))};function la(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function To(h,y){var w=null;if(h.g==y){la(h),Qr(h),h.g=null;var D=2}else if(Gr(h.h,y))w=y.D,gi(h.h,y),D=1;else return;if(h.G!=0){if(y.o)if(D==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var Z=h.B;D=pr(),dn(D,new lo(D,w)),oa(h)}else vl(h);else if(Z=y.s,Z==3||Z==0&&0<y.X||!(D==1&&Hu(h,y)||D==2&&wo(h)))switch(w&&0<w.length&&(y=h.h,y.i=y.i.concat(w)),Z){case 1:Cr(h,5);break;case 4:Cr(h,10);break;case 3:Cr(h,6);break;default:Cr(h,2)}}}function Ao(h,y){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*y}function Cr(h,y){if(h.j.info("Error code "+y),y==2){var w=b(h.fb,h),D=h.Xa;const Z=!D;D=new yi(D||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||We(D,"https"),gs(D),Z?vi(D.toString(),w):Hr(D.toString(),w)}else Yt(2);h.G=0,h.l&&h.l.sa(y),wl(h),yl(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function wl(h){if(h.G=0,h.ka=[],h.l){const y=Yn(h.h);(y.length!=0||h.i.length!=0)&&(O(h.ka,y),O(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function Tl(h,y,w){var D=w instanceof yi?Gt(w):new yi(w);if(D.g!="")y&&(D.g=y+"."+D.g),ms(D,D.s);else{var Z=f.location;D=Z.protocol,y=y?y+"."+Z.hostname:Z.hostname,Z=+Z.port;var ie=new yi(null);D&&We(ie,D),y&&(ie.g=y),Z&&ms(ie,Z),w&&(ie.l=w),D=ie}return w=h.D,y=h.ya,w&&y&&He(D,w,y),He(D,"VER",h.la),Ar(h,D),D}function Al(h,y,w){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ct(new Yr({eb:w})):new Ct(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cl(){}n=Cl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ua(){}ua.prototype.g=function(h,y){return new zn(h,y)};function zn(h,y){Dt.call(this),this.g=new sa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!P(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!P(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ir(this)}I(zn,Dt),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){vo(this.g)},zn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=ao(h),h=w);y.i.push(new dl(y.Ya++,h)),y.G==3&&oa(y)},zn.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,zn.aa.N.call(this)};function bl(h){ui.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const w in y){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}I(bl,ui);function Sl(){An.call(this),this.status=1}I(Sl,An);function ir(h){this.g=h}I(ir,Cl),ir.prototype.ua=function(){dn(this.g,"a")},ir.prototype.ta=function(h){dn(this.g,new bl(h))},ir.prototype.sa=function(h){dn(this.g,new Sl)},ir.prototype.ra=function(){dn(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,GS=function(){return new ua},qS=function(){return pr()},FS=Hn,By={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,_d=an,Oi.COMPLETE="complete",US=Oi,Ws.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Kc=Ws,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,VS=Ct}).apply(typeof nd<"u"?nd:typeof self<"u"?self:typeof window<"u"?window:{});const zT="@firebase/firestore",QT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new fp("@firebase/firestore");function $l(){return nl.logLevel}function Re(n,...e){if(nl.logLevel<=ct.DEBUG){const t=e.map(hv);nl.debug(`Firestore (${Lu}): ${n}`,...t)}}function zs(n,...e){if(nl.logLevel<=ct.ERROR){const t=e.map(hv);nl.error(`Firestore (${Lu}): ${n}`,...t)}}function Eu(n,...e){if(nl.logLevel<=ct.WARN){const t=e.map(hv);nl.warn(`Firestore (${Lu}): ${n}`,...t)}}function hv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(n="Unexpected state"){const e=`FIRESTORE (${Lu}) INTERNAL ASSERTION FAILED: `+n;throw zs(e),new Error(e)}function Jt(n,e){n||tt()}function wt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Ks{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ri.UNAUTHENTICATED))}shutdown(){}}class x4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class k4{constructor(e){this.t=e,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Jt(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qo,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qo)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Jt(typeof i.accessToken=="string"),new jS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new ri(e)}}class P4{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=ri.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class L4{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new P4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,hr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Jt(this.o===void 0);const i=l=>{l.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new KT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Jt(typeof t.token=="string"),this.R=t.token,new KT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=V4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Et(n,e){return n<e?-1:n>e?1:0}function wu(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=-62135596800,JT=1e6;class Ri{static now(){return Ri.fromMillis(Date.now())}static fromDate(e){return Ri.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*JT);return new Ri(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<WT)throw new Ve(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JT}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-WT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Ri(0,0))}static max(){return new ze(new Ri(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="__name__";class es{constructor(e,t,i){t===void 0?t=0:t>e.length&&tt(),i===void 0?i=e.length-t:i>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=es.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=es.isNumericId(e),a=es.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?es.extractNumericId(e).compare(es.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return za.fromString(e.substring(4,e.length-2))}}class tn extends es{construct(e,t,i){return new tn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ve(be.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const U4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pi extends es{construct(e,t,i){return new pi(e,t,i)}static isValidIdentifier(e){return U4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XT}static keyField(){return new pi([XT])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ve(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ve(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ve(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new Ve(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pi(t)}static emptyPath(){return new pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(tn.fromString(e))}static fromName(e){return new Ue(tn.fromString(e).popFirst(5))}static empty(){return new Ue(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new tn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=-1;function F4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(i===1e9?new Ri(t+1,0):new Ri(t,i));return new Xa(a,Ue.empty(),e)}function q4(n){return new Xa(n.readTime,n.key,Eh)}class Xa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Xa(ze.min(),Ue.empty(),Eh)}static max(){return new Xa(ze.max(),Ue.empty(),Eh)}}function G4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(n.documentKey,e.documentKey),t!==0?t:Et(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==j4)throw n;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let a=0,l=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++l,u&&l===a&&t()},p=>i(p))}),u=!0,l===a&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(a=>a?fe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(_=>{u[m]=_,++f,f===l&&i(u)},_=>a(_))}})}static doWhile(e,t){return new fe((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function Y4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Np.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=-1;function Mp(n){return n==null}function Vy(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="";function Q4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZT(e)),e=K4(n.get(t),e);return ZT(e)}function K4(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case YS:t+="";break;default:t+=l}}return t}function ZT(n){return n+YS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function W4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new hn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}}class id{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Wn.RED,this.left=a??Wn.EMPTY,this.right=l??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Wn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Wn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(e,t,i,a,l){return this}insert(e,t,i){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eA(this.data.getIterator())}getIteratorFrom(e){return new eA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class eA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.fields=e,e.sort(pi.comparator)}static empty(){return new Fa([])}unionWith(e){let t=new Mn(pi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new zS("Invalid base64 string: "+l):l}}(e);return new Zn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new Zn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const J4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(n){if(Jt(!!n),typeof n=="string"){let e=0;const t=J4.exec(n);if(Jt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:cn(n.seconds),nanos:cn(n.nanos)}}function cn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $a(n){return typeof n=="string"?Zn.fromBase64String(n):Zn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="server_timestamp",KS="__type__",WS="__previous_value__",JS="__local_write_time__";function fv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[KS])===null||t===void 0?void 0:t.stringValue)===QS}function Op(n){const e=n.mapValue.fields[WS];return fv(e)?Op(e):e}function wh(n){const e=Za(n.mapValue.fields[JS].timestampValue);return new Ri(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,t,i,a,l,u,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const Jd="(default)";class Th{constructor(e,t){this.projectId=e,this.database=t||Jd}static empty(){return new Th("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(e){return e instanceof Th&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="__type__",$4="__max__",rd={mapValue:{}},eL="__vector__",Uy="value";function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fv(n)?4:nL(n)?9007199254740991:tL(n)?10:11:tt()}function ls(n,e){if(n===e)return!0;const t=eo(n);if(t!==eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wh(n).isEqual(wh(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Za(a.timestampValue),f=Za(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return $a(a.bytesValue).isEqual($a(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return cn(a.geoPointValue.latitude)===cn(l.geoPointValue.latitude)&&cn(a.geoPointValue.longitude)===cn(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return cn(a.integerValue)===cn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=cn(a.doubleValue),f=cn(l.doubleValue);return u===f?Vy(u)===Vy(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return wu(n.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if($T(u)!==$T(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!ls(u[p],f[p])))return!1;return!0}(n,e);default:return tt()}}function Ah(n,e){return(n.values||[]).find(t=>ls(t,e))!==void 0}function Tu(n,e){if(n===e)return 0;const t=eo(n),i=eo(e);if(t!==i)return Et(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Et(n.booleanValue,e.booleanValue);case 2:return function(l,u){const f=cn(l.integerValue||l.doubleValue),p=cn(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return tA(n.timestampValue,e.timestampValue);case 4:return tA(wh(n),wh(e));case 5:return Et(n.stringValue,e.stringValue);case 6:return function(l,u){const f=$a(l),p=$a(u);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),p=u.split("/");for(let m=0;m<f.length&&m<p.length;m++){const _=Et(f[m],p[m]);if(_!==0)return _}return Et(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const f=Et(cn(l.latitude),cn(u.latitude));return f!==0?f:Et(cn(l.longitude),cn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return nA(n.arrayValue,e.arrayValue);case 10:return function(l,u){var f,p,m,_;const T=l.fields||{},b=u.fields||{},C=(f=T[Uy])===null||f===void 0?void 0:f.arrayValue,I=(p=b[Uy])===null||p===void 0?void 0:p.arrayValue,L=Et(((m=C==null?void 0:C.values)===null||m===void 0?void 0:m.length)||0,((_=I==null?void 0:I.values)===null||_===void 0?void 0:_.length)||0);return L!==0?L:nA(C,I)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===rd.mapValue&&u===rd.mapValue)return 0;if(l===rd.mapValue)return 1;if(u===rd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=u.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const b=Et(p[T],_[T]);if(b!==0)return b;const C=Tu(f[p[T]],m[_[T]]);if(C!==0)return C}return Et(p.length,_.length)}(n.mapValue,e.mapValue);default:throw tt()}}function tA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Et(n,e);const t=Za(n),i=Za(e),a=Et(t.seconds,i.seconds);return a!==0?a:Et(t.nanos,i.nanos)}function nA(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Tu(t[a],i[a]);if(l)return l}return Et(t.length,i.length)}function Au(n){return Fy(n)}function Fy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Za(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $a(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Fy(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Fy(t.fields[u])}`;return a+"}"}(n.mapValue):tt()}function vd(n){switch(eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Op(n);return e?16+vd(e):16;case 5:return 2*n.stringValue.length;case 6:return $a(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+vd(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Vh(i.fields,(l,u)=>{a+=l.length+vd(u)}),a}(n.mapValue);default:throw tt()}}function qy(n){return!!n&&"integerValue"in n}function dv(n){return!!n&&"arrayValue"in n}function iA(n){return!!n&&"nullValue"in n}function rA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ny(n){return!!n&&"mapValue"in n}function tL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z4])===null||t===void 0?void 0:t.stringValue)===eL}function rh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vh(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=rh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.value=e}static empty(){return new ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ny(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(t)}setAll(e){let t=pi.emptyPath(),i={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=f.popLast()}u?i[f.lastSegment()]=rh(u):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());ny(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];ny(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Vh(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new ts(rh(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t,i,a,l,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new si(e,0,ze.min(),ze.min(),ze.min(),ts.empty(),0)}static newFoundDocument(e,t,i,a){return new si(e,1,t,ze.min(),i,a,0)}static newNoDocument(e,t){return new si(e,2,t,ze.min(),ze.min(),ts.empty(),0)}static newUnknownDocument(e,t){return new si(e,3,t,ze.min(),ze.min(),ts.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t){this.position=e,this.inclusive=t}}function sA(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?i=Ue.comparator(Ue.fromName(u.referenceValue),t.key):i=Tu(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function aA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ls(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t="asc"){this.field=e,this.dir=t}}function iL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{}class Nn extends XS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new sL(e,t,i):t==="array-contains"?new lL(e,i):t==="in"?new uL(e,i):t==="not-in"?new cL(e,i):t==="array-contains-any"?new hL(e,i):new Nn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new aL(e,i):new oL(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Tu(t,this.value)):t!==null&&eo(this.value)===eo(t)&&this.matchesComparison(Tu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends XS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new us(e,t)}matches(e){return ZS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ZS(n){return n.op==="and"}function $S(n){return rL(n)&&ZS(n)}function rL(n){for(const e of n.filters)if(e instanceof us)return!1;return!0}function Gy(n){if(n instanceof Nn)return n.field.canonicalString()+n.op.toString()+Au(n.value);if($S(n))return n.filters.map(e=>Gy(e)).join(",");{const e=n.filters.map(t=>Gy(t)).join(",");return`${n.op}(${e})`}}function eR(n,e){return n instanceof Nn?function(i,a){return a instanceof Nn&&i.op===a.op&&i.field.isEqual(a.field)&&ls(i.value,a.value)}(n,e):n instanceof us?function(i,a){return a instanceof us&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,f)=>l&&eR(u,a.filters[f]),!0):!1}(n,e):void tt()}function tR(n){return n instanceof Nn?function(t){return`${t.field.canonicalString()} ${t.op} ${Au(t.value)}`}(n):n instanceof us?function(t){return t.op.toString()+" {"+t.getFilters().map(tR).join(" ,")+"}"}(n):"Filter"}class sL extends Nn{constructor(e,t,i){super(e,t,i),this.key=Ue.fromName(i.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class aL extends Nn{constructor(e,t){super(e,"in",t),this.keys=nR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oL extends Nn{constructor(e,t){super(e,"not-in",t),this.keys=nR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ue.fromName(i.referenceValue))}class lL extends Nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dv(t)&&Ah(t.arrayValue,this.value)}}class uL extends Nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ah(this.value.arrayValue,t)}}class cL extends Nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ah(this.value.arrayValue,t)}}class hL extends Nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ah(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,t=null,i=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.le=null}}function oA(n,e=null,t=[],i=[],a=null,l=null,u=null){return new fL(n,e,t,i,a,l,u)}function pv(n){const e=wt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Gy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Mp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Au(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Au(i)).join(",")),e.le=t}return e.le}function mv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aA(n.startAt,e.startAt)&&aA(n.endAt,e.endAt)}function jy(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t=null,i=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function dL(n,e,t,i,a,l,u,f){return new xp(n,e,t,i,a,l,u,f)}function gv(n){return new xp(n)}function lA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pL(n){return n.collectionGroup!==null}function sh(n){const e=wt(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Mn(pi.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Zd(l,i))}),t.has(pi.keyField().canonicalString())||e.he.push(new Zd(pi.keyField(),i))}return e.he}function as(n){const e=wt(n);return e.Pe||(e.Pe=mL(e,sh(n))),e.Pe}function mL(n,e){if(n.limitType==="F")return oA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Zd(a.field,l)});const t=n.endAt?new Xd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Xd(n.startAt.position,n.startAt.inclusive):null;return oA(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Hy(n,e,t){return new xp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kp(n,e){return mv(as(n),as(e))&&n.limitType===e.limitType}function iR(n){return`${pv(as(n))}|lt:${n.limitType}`}function eu(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>tR(a)).join(", ")}]`),Mp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Au(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Au(a)).join(",")),`Target(${i})`}(as(n))}; limitType=${n.limitType})`}function Pp(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ue.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of sh(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(u,f,p){const m=sA(u,f,p);return u.inclusive?m<=0:m<0}(i.startAt,sh(i),a)||i.endAt&&!function(u,f,p){const m=sA(u,f,p);return u.inclusive?m>=0:m>0}(i.endAt,sh(i),a))}(n,e)}function gL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rR(n){return(e,t)=>{let i=!1;for(const a of sh(n)){const l=yL(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function yL(n,e,t){const i=n.field.isKeyField()?Ue.comparator(e.key,t.key):function(l,u,f){const p=u.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Tu(p,m):tt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Vh(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return W4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new hn(Ue.comparator);function to(){return _L}const sR=new hn(Ue.comparator);function Wc(...n){let e=sR;for(const t of n)e=e.insert(t.key,t);return e}function vL(n){let e=sR;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Yo(){return ah()}function aR(){return ah()}function ah(){return new ul(n=>n.toString(),(n,e)=>n.isEqual(e))}const EL=new Mn(Ue.comparator);function At(...n){let e=EL;for(const t of n)e=e.add(t);return e}const wL=new Mn(Et);function TL(){return wL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vy(e)?"-0":e}}function CL(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this._=void 0}}function bL(n,e,t){return n instanceof Yy?function(a,l){const u={fields:{[KS]:{stringValue:QS},[JS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&fv(l)&&(l=Op(l)),l&&(u.fields[WS]=l),{mapValue:u}}(t,e):n instanceof $d?oR(n,e):n instanceof ep?lR(n,e):function(a,l){const u=RL(a,l),f=uA(u)+uA(a.Ie);return qy(u)&&qy(a.Ie)?CL(f):AL(a.serializer,f)}(n,e)}function SL(n,e,t){return n instanceof $d?oR(n,e):n instanceof ep?lR(n,e):t}function RL(n,e){return n instanceof zy?function(i){return qy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Yy extends Lp{}class $d extends Lp{constructor(e){super(),this.elements=e}}function oR(n,e){const t=uR(e);for(const i of n.elements)t.some(a=>ls(a,i))||t.push(i);return{arrayValue:{values:t}}}class ep extends Lp{constructor(e){super(),this.elements=e}}function lR(n,e){let t=uR(e);for(const i of n.elements)t=t.filter(a=>!ls(a,i));return{arrayValue:{values:t}}}class zy extends Lp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function uA(n){return cn(n.integerValue||n.doubleValue)}function uR(n){return dv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function IL(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof $d&&a instanceof $d||i instanceof ep&&a instanceof ep?wu(i.elements,a.elements,ls):i instanceof zy&&a instanceof zy?ls(i.Ie,a.Ie):i instanceof Yy&&a instanceof Yy}(n.transform,e.transform)}class Ko{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ko}static exists(e){return new Ko(void 0,e)}static updateTime(e){return new Ko(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class yv{}function cR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new NL(n.key,Ko.none()):new _v(n.key,n.data,Ko.none());{const t=n.data,i=ts.empty();let a=new Mn(pi.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Bp(n.key,i,new Fa(a.toArray()),Ko.none())}}function DL(n,e,t){n instanceof _v?function(a,l,u){const f=a.value.clone(),p=hA(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Bp?function(a,l,u){if(!Ed(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=hA(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(hR(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function oh(n,e,t,i){return n instanceof _v?function(l,u,f,p){if(!Ed(l.precondition,u))return f;const m=l.value.clone(),_=fA(l.fieldTransforms,p,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Bp?function(l,u,f,p){if(!Ed(l.precondition,u))return f;const m=fA(l.fieldTransforms,p,u),_=u.data;return _.setAll(hR(l)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,u,f){return Ed(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function cA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&wu(i,a,(l,u)=>IL(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class _v extends yv{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Bp extends yv{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function hR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function hA(n,e,t){const i=new Map;Jt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,f=e.data.field(l.field);i.set(l.field,SL(u,f,t[a]))}return i}function fA(n,e,t){const i=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);i.set(a.field,bL(l,u,e))}return i}class NL extends yv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&DL(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=oh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=oh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=aR();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(a.key)?null:f;const p=cR(u,f);p!==null&&i.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),At())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,(t,i)=>cA(t,i))&&wu(this.baseMutations,e.baseMutations,(t,i)=>cA(t,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,vt;function fR(n){if(n===void 0)return zs("GRPC error has no .code"),be.UNKNOWN;switch(n){case wn.OK:return be.OK;case wn.CANCELLED:return be.CANCELLED;case wn.UNKNOWN:return be.UNKNOWN;case wn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case wn.INTERNAL:return be.INTERNAL;case wn.UNAVAILABLE:return be.UNAVAILABLE;case wn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case wn.NOT_FOUND:return be.NOT_FOUND;case wn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case wn.ABORTED:return be.ABORTED;case wn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case wn.DATA_LOSS:return be.DATA_LOSS;default:return tt()}}(vt=wn||(wn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=new za([4294967295,4294967295],0);function dA(n){const e=kL().encode(n),t=new BS;return t.update(e),new Uint8Array(t.digest())}function pA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new za([t,i],0),new za([a,l],0)]}class vv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Jc(`Invalid padding: ${t}`);if(i<0)throw new Jc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=za.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(za.fromNumber(i)));return a.compare(PL)===1&&(a=new za([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=dA(e),[i,a]=pA(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,a,l);if(!this.Re(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new vv(l,a,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=dA(e),[i,a]=pA(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,a,l);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Uh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Vp(ze.min(),a,new hn(Et),to(),At())}}class Uh{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Uh(i,t,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class dR{constructor(e,t){this.targetId=e,this.ge=t}}class pR{constructor(e,t,i=Zn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class mA{constructor(){this.pe=0,this.ye=gA(),this.we=Zn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=At(),t=At(),i=At();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:tt()}}),new Uh(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=gA()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class LL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=to(),this.$e=sd(),this.Ke=sd(),this.Ue=new hn(Et)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(jy(l))if(i===0){const u=new Ue(l.path);this.ze(t,u,si.newNoDocument(u,ze.min()))}else Jt(i===1);else{const u=this.et(t);if(u!==i){const f=this.tt(e),p=f?this.nt(f,e,u):1;if(p!==0){this.Ye(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let u,f;try{u=$a(i).toUint8Array()}catch(p){if(p instanceof zS)return Eu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new vv(u,a,l)}catch(p){return Eu(p instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,u)=>{const f=this.Xe(u);if(f){if(l.current&&jy(f.target)){const p=new Ue(f.target.path);this._t(p).has(u)||this.ut(u,p)||this.ze(u,p,si.newNoDocument(p,e))}l.ve&&(t.set(u,l.Fe()),l.Me())}});let i=At();this.Ke.forEach((l,u)=>{let f=!0;u.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const a=new Vp(e,t,this.Ue,this.Qe,i);return this.Qe=to(),this.$e=sd(),this.Ke=sd(),this.Ue=new hn(Et),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new mA,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Mn(Et),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mn(Et),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mA),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function sd(){return new hn(Ue.comparator)}function gA(){return new hn(Ue.comparator)}const BL={asc:"ASCENDING",desc:"DESCENDING"},VL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UL={and:"AND",or:"OR"};class FL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qy(n,e){return n.useProto3Json||Mp(e)?e:{value:e}}function qL(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hu(n){return Jt(!!n),ze.fromTimestamp(function(t){const i=Za(t);return new Ri(i.seconds,i.nanos)}(n))}function jL(n,e){return Ky(n,e).canonicalString()}function Ky(n,e){const t=function(a){return new tn(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mR(n){const e=tn.fromString(n);return Jt(ER(e)),e}function iy(n,e){const t=mR(e);if(t.get(1)!==n.databaseId.projectId)throw new Ve(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ve(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ue(yR(t))}function gR(n,e){return jL(n.databaseId,e)}function HL(n){const e=mR(n);return e.length===4?tn.emptyPath():yR(e)}function yA(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yR(n){return Jt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function YL(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:tt()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,_){return m.useProto3Json?(Jt(_===void 0||typeof _=="string"),Zn.fromBase64String(_||"")):(Jt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Zn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const _=m.code===void 0?be.UNKNOWN:fR(m.code);return new Ve(_,m.message||"")}(u);t=new pR(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=iy(n,i.document.name),l=hu(i.document.updateTime),u=i.document.createTime?hu(i.document.createTime):ze.min(),f=new ts({mapValue:{fields:i.document.fields}}),p=si.newFoundDocument(a,l,u,f),m=i.targetIds||[],_=i.removedTargetIds||[];t=new wd(m,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=iy(n,i.document),l=i.readTime?hu(i.readTime):ze.min(),u=si.newNoDocument(a,l),f=i.removedTargetIds||[];t=new wd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=iy(n,i.document),l=i.removedTargetIds||[];t=new wd([],l,a,null)}else{if(!("filter"in e))return tt();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new xL(a,l),f=i.targetId;t=new dR(f,u)}}return t}function zL(n,e){return{documents:[gR(n,e.path)]}}function QL(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=gR(n,a);const l=function(m){if(m.length!==0)return vR(us.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(m){if(m.length!==0)return m.map(_=>function(b){return{field:tu(b.field),direction:JL(b.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Qy(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:a}}function KL(n){let e=HL(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Jt(i===1);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const b=_R(T);return b instanceof us&&$S(b)?b.getFilters():[b]}(t.where));let u=[];t.orderBy&&(u=function(T){return T.map(b=>function(I){return new Zd(nu(I.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(b))}(t.orderBy));let f=null;t.limit&&(f=function(T){let b;return b=typeof T=="object"?T.value:T,Mp(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(T){const b=!!T.before,C=T.values||[];return new Xd(C,b)}(t.startAt));let m=null;return t.endAt&&(m=function(T){const b=!T.before,C=T.values||[];return new Xd(C,b)}(t.endAt)),dL(e,a,u,l,f,"F",p,m)}function WL(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _R(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=nu(t.unaryFilter.field);return Nn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=nu(t.unaryFilter.field);return Nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=nu(t.unaryFilter.field);return Nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=nu(t.unaryFilter.field);return Nn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(n):n.fieldFilter!==void 0?function(t){return Nn.create(nu(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return us.create(t.compositeFilter.filters.map(i=>_R(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return tt()}}(t.compositeFilter.op))}(n):tt()}function JL(n){return BL[n]}function XL(n){return VL[n]}function ZL(n){return UL[n]}function tu(n){return{fieldPath:n.canonicalString()}}function nu(n){return pi.fromServerFormat(n.fieldPath)}function vR(n){return n instanceof Nn?function(t){if(t.op==="=="){if(rA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NAN"}};if(iA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NOT_NAN"}};if(iA(t.value))return{unaryFilter:{field:tu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tu(t.field),op:XL(t.op),value:t.value}}}(n):n instanceof us?function(t){const i=t.getFilters().map(a=>vR(a));return i.length===1?i[0]:{compositeFilter:{op:ZL(t.op),filters:i}}}(n):tt()}function ER(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t,i,a,l=ze.min(),u=ze.min(),f=Zn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.Tt=e}}function eB(n){const e=KL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this.Tn=new nB}addToCollectionParentIndex(e,t){return this.Tn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Xa.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Xa.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class nB{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Mn(tn.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Mn(tn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wR=41943040;class bi{static withCacheSize(e){return new bi(e,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(wR,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Cu(0)}static Un(){return new Cu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="LruGarbageCollector",iB=1048576;function EA([n,e],[t,i]){const a=Et(n,t);return a===0?Et(e,i):a}class rB{constructor(e){this.Hn=e,this.buffer=new Mn(EA),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();EA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sB{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Re(vA,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bu(t)?Re(vA,"Ignoring IndexedDB error during garbage collection: ",t):await Dp(t)}await this.er(3e5)})}}class aB{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(Np.ae);const i=new rB(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(_A)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_A):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,u,f,p,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,u=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(i=T,f=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(m=Date.now(),$l()<=ct.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function oB(n,e){return new aB(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this.changes=new ul(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&oh(i.mutation,a,Fa.empty(),Ri.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,At()).next(()=>i))}getLocalViewOfDocuments(e,t,i=At()){const a=Yo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let u=Wc();return l.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,At()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,a){let l=to();const u=ah(),f=function(){return ah()}();return t.forEach((p,m)=>{const _=i.get(m.key);a.has(m.key)&&(_===void 0||_.mutation instanceof Bp)?l=l.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),oh(_.mutation,m,_.mutation.getFieldMask(),Ri.now())):u.set(m.key,Fa.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,_)=>u.set(m,_)),t.forEach((m,_)=>{var T;return f.set(m,new uB(_,(T=u.get(m))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const i=ah();let a=new hn((u,f)=>u-f),l=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let _=i.get(p)||Fa.empty();_=f.applyToLocalView(m,_),i.set(p,_);const T=(a.get(f.batchId)||At()).add(p);a=a.insert(f.batchId,T)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,_=p.value,T=aR();_.forEach(b=>{if(!l.has(b)){const C=cR(t.get(b),i.get(b));C!==null&&T.set(b,C),l=l.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,T))}return fe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):fe.resolve(Yo());let f=Eh,p=l;return u.next(m=>fe.forEach(m,(_,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(_)?fe.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,At())).next(_=>({batchId:f,changes:vL(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next(i=>{let a=Wc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let u=Wc();return this.indexManager.getCollectionParents(e,l).next(f=>fe.forEach(f,p=>{const m=function(T,b){return new xp(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(_=>{_.forEach((T,b)=>{u=u.insert(T,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(u=>{l.forEach((p,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,si.newInvalidDocument(_)))});let f=Wc();return u.forEach((p,m)=>{const _=l.get(p);_!==void 0&&oh(_.mutation,m,Fa.empty(),Ri.now()),Pp(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return fe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:hu(a.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:eB(a.bundledQuery),readTime:hu(a.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this.overlays=new hn(Ue.comparator),this.Rr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Yo();return fe.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const a=Yo(),l=t.length+1,u=new Ue(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new hn((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let _=l.get(m.largestBatchId);_===null&&(_=Yo(),l=l.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const f=Yo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,_)=>f.set(m,_)),!(f.size()>=a)););return fe.resolve(f)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new OL(t,i));let l=this.Rr.get(t);l===void 0&&(l=At(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.Vr=new Mn(Vn.mr),this.gr=new Mn(Vn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Vn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Vn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Ue(new tn([])),i=new Vn(t,e),a=new Vn(t,e+1),l=[];return this.gr.forEachInRange([i,a],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ue(new tn([])),i=new Vn(t,e),a=new Vn(t,e+1);let l=At();return this.gr.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Vn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Vn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ue.comparator(e.key,t.key)||Et(e.Cr,t.Cr)}static pr(e,t){return Et(e.Cr,t.Cr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mn(Vn.mr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ML(l,t,i,a);this.mutationQueue.push(u);for(const f of a)this.Mr=this.Mr.add(new Vn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?z4:this.Fr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vn(t,0),a=new Vn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],u=>{const f=this.Or(u.Cr);l.push(f)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mn(Et);return t.forEach(a=>{const l=new Vn(a,0),u=new Vn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],f=>{i=i.add(f.Cr)})}),fe.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ue.isDocumentKey(l)||(l=l.child(""));const u=new Vn(new Ue(l),0);let f=new Mn(Et);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Cr)),!0)},u),fe.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Jt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return fe.forEach(t.mutations,a=>{const l=new Vn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Vn(t,0),a=this.Mr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.kr=e,this.docs=function(){return new hn(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():si.newInvalidDocument(t))}getEntries(e,t){let i=to();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():si.newInvalidDocument(a))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=to();const u=t.path,f=new Ue(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||G4(q4(_),i)<=0||(a.has(_.key)||Pp(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,i,a){tt()}qr(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gB(this)}getSize(e){return fe.resolve(this.size)}}class gB extends lB{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.persistence=e,this.Qr=new ul(t=>pv(t),mv),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ev,this.targetCount=0,this.Ur=Cu.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),fe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Cu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.zn(t),fe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),fe.waitFor(l).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Np(0),this.zr=!1,this.zr=!0,this.jr=new dB,this.referenceDelegate=e(this),this.Hr=new yB(this),this.indexManager=new tB,this.remoteDocumentCache=function(a){return new mB(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new $L(t),this.Yr=new hB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new pB(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Re("MemoryPersistence","Starting transaction:",e);const a=new _B(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return fe.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class _B extends H4{constructor(e){super(),this.currentSequenceNumber=e}}class wv{constructor(e){this.persistence=e,this.ti=new Ev,this.ni=null}static ri(e){return new wv(e)}get ii(){if(this.ni)return this.ni;throw tt()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),fe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.ii,i=>{const a=Ue.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,ze.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return fe.or([()=>fe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class tp{constructor(e,t){this.persistence=e,this.oi=new ul(i=>Q4(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=oB(this,t)}static ri(e,t){return new tp(e,t)}Zr(){}Xr(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return fe.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?fe.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,t).next(f=>{f||(i++,l.removeEntry(u,ze.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),fe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vd(e.data.value)),t}ar(e,t,i){return fe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return fe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=At(),a=At();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Tv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return VN()?8:Y4(oi())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new vB;return this._s(e,t,u).next(f=>{if(l.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?($l()<=ct.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",eu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),fe.resolve()):($l()<=ct.DEBUG&&Re("QueryEngine","Query:",eu(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?($l()<=ct.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",eu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(t))):fe.resolve())}rs(e,t){if(lA(t))return fe.resolve(null);let i=as(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Hy(t,null,"F"),i=as(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=At(...l);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.cs(t,f);return this.ls(t,m,u,p.readTime)?this.rs(e,Hy(t,null,"F")):this.hs(e,m,t,p)}))})))}ss(e,t,i,a){return lA(t)||a.isEqual(ze.min())?fe.resolve(null):this.ns.getDocuments(e,i).next(l=>{const u=this.cs(t,l);return this.ls(t,u,i,a)?fe.resolve(null):($l()<=ct.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),eu(t)),this.hs(e,u,t,F4(a,Eh)).next(f=>f))})}cs(e,t){let i=new Mn(rR(e));return t.forEach((a,l)=>{Pp(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return $l()<=ct.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",eu(t)),this.ns.getDocumentsMatchingQuery(e,t,Xa.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LocalStore",wB=3e8;class TB{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new hn(Et),this.Is=new ul(l=>pv(l),mv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cB(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function AB(n,e,t,i){return new TB(n,e,t,i)}async function AR(n,e){const t=wt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],f=[];let p=At();for(const m of a){u.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of l){f.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function CR(n){const e=wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function CB(n,e){const t=wt(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const f=[];e.targetChanges.forEach((_,T)=>{const b=a.get(T);if(!b)return;f.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,T)));let C=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(Zn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,i)),a=a.insert(T,C),function(L,O,x){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=wB?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(b,C,_)&&f.push(t.Hr.updateTargetData(l,C))});let p=to(),m=At();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(bB(l,u,e.documentUpdates).next(_=>{p=_.Vs,m=_.fs})),!i.isEqual(ze.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return fe.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Ts=a,l))}function bB(n,e,t){let i=At(),a=At();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=to();return t.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):Re(Av,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:u,fs:a}})}function SB(n,e){const t=wt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,fe.resolve(a)):t.Hr.allocateTargetId(i).next(u=>(a=new qa(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Wy(n,e,t){const i=wt(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Bu(u))throw u;Re(Av,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function wA(n,e,t){const i=wt(n);let a=ze.min(),l=At();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,m,_){const T=wt(p),b=T.Is.get(_);return b!==void 0?fe.resolve(T.Ts.get(b)):T.Hr.getTargetData(m,_)}(i,u,as(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,f.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?a:ze.min(),t?l:At())).next(f=>(RB(i,gL(e),f),{documents:f,gs:l})))}function RB(n,e,t){let i=n.Es.get(e)||ze.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class TA{constructor(){this.activeTargetIds=TL()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IB{constructor(){this.ho=new TA,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new TA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="ConnectivityMonitor";class CA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Re(AA,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Re(AA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad=null;function Jy(){return ad===null?ad=function(){return 268435456+Math.round(2147483648*Math.random())}():ad++,"0x"+ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="RestConnection",NB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Jd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,t,i,a,l){const u=Jy(),f=this.bo(e,t.toUriEncodedString());Re(ry,`Sending RPC '${e}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,f,p,i).then(m=>(Re(ry,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Eu(ry,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",i),m})}Co(e,t,i,a,l,u){return this.So(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const i=NB[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="WebChannelConnection";class xB extends MB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=Jy();return new Promise((u,f)=>{const p=new VS;p.setWithCredentials(!0),p.listenOnce(US.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _d.NO_ERROR:const _=p.getResponseJson();Re(ii,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case _d.TIMEOUT:Re(ii,`RPC '${e}' ${l} timed out`),f(new Ve(be.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const T=p.getStatus();if(Re(ii,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const C=b==null?void 0:b.error;if(C&&C.status&&C.message){const I=function(O){const x=O.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(x)>=0?x:be.UNKNOWN}(C.status);f(new Ve(I,C.message))}else f(new Ve(be.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ve(be.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Re(ii,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);Re(ii,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",m,i,15)})}Wo(e,t,i){const a=Jy(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=GS(),f=qS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");Re(ii,`Creating RPC '${e}' stream ${a}: ${_}`,p);const T=u.createWebChannel(_,p);let b=!1,C=!1;const I=new OB({Fo:O=>{C?Re(ii,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(b||(Re(ii,`Opening RPC '${e}' stream ${a} transport.`),T.open(),b=!0),Re(ii,`RPC '${e}' stream ${a} sending:`,O),T.send(O))},Mo:()=>T.close()}),L=(O,x,P)=>{O.listen(x,j=>{try{P(j)}catch(ne){setTimeout(()=>{throw ne},0)}})};return L(T,Kc.EventType.OPEN,()=>{C||(Re(ii,`RPC '${e}' stream ${a} transport opened.`),I.Qo())}),L(T,Kc.EventType.CLOSE,()=>{C||(C=!0,Re(ii,`RPC '${e}' stream ${a} transport closed`),I.Ko())}),L(T,Kc.EventType.ERROR,O=>{C||(C=!0,Eu(ii,`RPC '${e}' stream ${a} transport errored:`,O),I.Ko(new Ve(be.UNAVAILABLE,"The operation could not be completed")))}),L(T,Kc.EventType.MESSAGE,O=>{var x;if(!C){const P=O.data[0];Jt(!!P);const j=P,ne=(j==null?void 0:j.error)||((x=j[0])===null||x===void 0?void 0:x.error);if(ne){Re(ii,`RPC '${e}' stream ${a} received error:`,ne);const se=ne.status;let pe=function(M){const U=wn[M];if(U!==void 0)return fR(U)}(se),B=ne.message;pe===void 0&&(pe=be.INTERNAL,B="Unknown error status: "+se+" with message "+ne.message),C=!0,I.Ko(new Ve(pe,B)),T.close()}else Re(ii,`RPC '${e}' stream ${a} received:`,P),I.Uo(P)}}),L(f,FS.STAT_EVENT,O=>{O.stat===By.PROXY?Re(ii,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===By.NOPROXY&&Re(ii,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(n){return new FL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="PersistentStream";class kB{constructor(e,t,i,a,l,u,f,p){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new SR(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(zs(t.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new Ve(be.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Re(bA,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Re(bA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PB extends kB{constructor(e,t,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=YL(this.serializer,e),i=function(l){if(!("targetChange"in l))return ze.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ze.min():u.readTime?hu(u.readTime):ze.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=yA(this.serializer),t.addTarget=function(l,u){let f;const p=u.target;if(f=jy(p)?{documents:zL(l,p)}:{query:QL(l,p).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=GL(l,u.resumeToken);const m=Qy(l,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(ze.min())>0){f.readTime=qL(l,u.snapshotVersion.toTimestamp());const m=Qy(l,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=WL(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=yA(this.serializer),t.removeTarget=e,this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{}class BB extends LB{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ve(be.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.So(e,Ky(t,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ve(be.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,Ky(t,i),a,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ve(be.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class VB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zs(t),this.N_=!1):Re("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="RemoteStore";class UB{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{i.enqueueAndForget(async()=>{qh(this)&&(Re(bu,"Restarting streams for network reachability change."),await async function(p){const m=wt(p);m.W_.add(4),await Fh(m),m.j_.set("Unknown"),m.W_.delete(4),await Up(m)}(this))})}),this.j_=new VB(i,a)}}async function Up(n){if(qh(n))for(const e of n.G_)await e(!0)}async function Fh(n){for(const e of n.G_)await e(!1)}function RR(n,e){const t=wt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Rv(t)?Sv(t):Vu(t).c_()&&bv(t,e))}function Cv(n,e){const t=wt(n),i=Vu(t);t.U_.delete(e),i.c_()&&IR(t,e),t.U_.size===0&&(i.c_()?i.P_():qh(t)&&t.j_.set("Unknown"))}function bv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vu(n).y_(e)}function IR(n,e){n.H_.Ne(e),Vu(n).w_(e)}function Sv(n){n.H_=new LL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Vu(n).start(),n.j_.B_()}function Rv(n){return qh(n)&&!Vu(n).u_()&&n.U_.size>0}function qh(n){return wt(n).W_.size===0}function DR(n){n.H_=void 0}async function FB(n){n.j_.set("Online")}async function qB(n){n.U_.forEach((e,t)=>{bv(n,e)})}async function GB(n,e){DR(n),Rv(n)?(n.j_.q_(e),Sv(n)):n.j_.set("Unknown")}async function jB(n,e,t){if(n.j_.set("Online"),e instanceof pR&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const f of l.targetIds)a.U_.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.U_.delete(f),a.H_.removeTarget(f))}(n,e)}catch(i){Re(bu,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await SA(n,i)}else if(e instanceof wd?n.H_.We(e):e instanceof dR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ze.min()))try{const i=await CR(n.localStore);t.compareTo(i)>=0&&await function(l,u){const f=l.H_.ot(u);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(m);_&&l.U_.set(m,_.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,m)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(Zn.EMPTY_BYTE_STRING,_.snapshotVersion)),IR(l,p);const T=new qa(_.target,p,m,_.sequenceNumber);bv(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){Re(bu,"Failed to raise snapshot:",i),await SA(n,i)}}async function SA(n,e,t){if(!Bu(e))throw e;n.W_.add(1),await Fh(n),n.j_.set("Offline"),t||(t=()=>CR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Re(bu,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Up(n)})}async function RA(n,e){const t=wt(n);t.asyncQueue.verifyOperationInProgress(),Re(bu,"RemoteStore received new credentials");const i=qh(t);t.W_.add(3),await Fh(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Up(t)}async function HB(n,e){const t=wt(n);e?(t.W_.delete(2),await Up(t)):e||(t.W_.add(2),await Fh(t),t.j_.set("Unknown"))}function Vu(n){return n.J_||(n.J_=function(t,i,a){const l=wt(t);return l.M_(),new PB(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:FB.bind(null,n),No:qB.bind(null,n),Lo:GB.bind(null,n),p_:jB.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Rv(n)?Sv(n):n.j_.set("Unknown")):(await n.J_.stop(),DR(n))})),n.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const u=Date.now()+i,f=new Iv(e,t,u,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function NR(n,e){if(zs("AsyncQueue",`${e}: ${n}`),Bu(n))return new Ve(be.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{static emptySet(e){return new fu(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ue.comparator(t.key,i.key):(t,i)=>Ue.comparator(t.key,i.key),this.keyedMap=Wc(),this.sortedSet=new hn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new fu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.Z_=new hn(Ue.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):tt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Su{constructor(e,t,i,a,l,u,f,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Su(e,t,fu.emptySet(t),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class zB{constructor(){this.queries=DA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=wt(t),l=a.queries;a.queries=DA(),l.forEach((u,f)=>{for(const p of f.ta)p.onError(i)})})(this,new Ve(be.ABORTED,"Firestore shutting down"))}}function DA(){return new ul(n=>iR(n),kp)}async function QB(n,e){const t=wt(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new YB,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=NR(u,`Initialization of query '${eu(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Dv(t)}async function KB(n,e){const t=wt(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function WB(n,e){const t=wt(n);let i=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const f of u.ta)f.oa(a)&&(i=!0);u.ea=a}}i&&Dv(t)}function JB(n,e,t){const i=wt(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function Dv(n){n.ia.forEach(e=>{e.next()})}var Xy,NA;(NA=Xy||(Xy={}))._a="default",NA.Cache="cache";class XB{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Su(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.key=e}}class OR{constructor(e){this.key=e}}class ZB{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=At(),this.mutatedKeys=At(),this.ya=rR(e),this.wa=new fu(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new IA,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,T)=>{const b=a.get(_),C=Pp(this.query,T)?T:null,I=!!b&&this.mutatedKeys.has(b.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let O=!1;b&&C?b.data.isEqual(C.data)?I!==L&&(i.track({type:3,doc:C}),O=!0):this.va(b,C)||(i.track({type:2,doc:C}),O=!0,(p&&this.ya(C,p)>0||m&&this.ya(C,m)<0)&&(f=!0)):!b&&C?(i.track({type:0,doc:C}),O=!0):b&&!C&&(i.track({type:1,doc:b}),O=!0,(p||m)&&(f=!0)),O&&(C?(u=u.add(C),l=L?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{wa:u,Da:i,ls:f,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,T)=>function(C,I){const L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return L(C)-L(I)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(i),a=a!=null&&a;const f=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,u.length!==0||m?{snapshot:new Su(this.query,e.wa,l,u,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new IA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=At(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new OR(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new MR(i))}),t}Oa(e){this.fa=e.gs,this.pa=At();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Su.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Nv="SyncEngine";class $B{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class eV{constructor(e){this.key=e,this.Ba=!1}}class tV{constructor(e,t,i,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new ul(f=>iR(f),kp),this.qa=new Map,this.Qa=new Set,this.$a=new hn(Ue.comparator),this.Ka=new Map,this.Ua=new Ev,this.Wa={},this.Ga=new Map,this.za=Cu.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function nV(n,e,t=!0){const i=BR(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await xR(i,e,t,!0),a}async function iV(n,e){const t=BR(n);await xR(t,e,!0,!1)}async function xR(n,e,t,i){const a=await SB(n.localStore,as(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await rV(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&RR(n.remoteStore,a),f}async function rV(n,e,t,i,a){n.Ha=(T,b,C)=>async function(L,O,x,P){let j=O.view.ba(x);j.ls&&(j=await wA(L.localStore,O.query,!1).then(({documents:B})=>O.view.ba(B,j)));const ne=P&&P.targetChanges.get(O.targetId),se=P&&P.targetMismatches.get(O.targetId)!=null,pe=O.view.applyChanges(j,L.isPrimaryClient,ne,se);return OA(L,O.targetId,pe.Ma),pe.snapshot}(n,T,b,C);const l=await wA(n.localStore,e,!0),u=new ZB(e,l.gs),f=u.ba(l.documents),p=Uh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=u.applyChanges(f,n.isPrimaryClient,p);OA(n,t,m.Ma);const _=new $B(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function sV(n,e,t){const i=wt(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(u=>!kp(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Wy(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Cv(i.remoteStore,a.targetId),Zy(i,a.targetId)}).catch(Dp)):(Zy(i,a.targetId),await Wy(i.localStore,a.targetId,!0))}async function aV(n,e){const t=wt(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Cv(t.remoteStore,i.targetId))}async function kR(n,e){const t=wt(n);try{const i=await CB(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Ka.get(l);u&&(Jt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?Jt(u.Ba):a.removedDocuments.size>0&&(Jt(u.Ba),u.Ba=!1))}),await LR(t,i,e)}catch(i){await Dp(i)}}function MA(n,e,t){const i=wt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,u)=>{const f=u.view.sa(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const p=wt(u);p.onlineState=f;let m=!1;p.queries.forEach((_,T)=>{for(const b of T.ta)b.sa(f)&&(m=!0)}),m&&Dv(p)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function oV(n,e,t){const i=wt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ka.get(e),l=a&&a.key;if(l){let u=new hn(Ue.comparator);u=u.insert(l,si.newNoDocument(l,ze.min()));const f=At().add(l),p=new Vp(ze.min(),new Map,new hn(Et),u,f);await kR(i,p),i.$a=i.$a.remove(l),i.Ka.delete(e),Mv(i)}else await Wy(i.localStore,e,!1).then(()=>Zy(i,e,t)).catch(Dp)}function Zy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||PR(n,i)})}function PR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Cv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Mv(n))}function OA(n,e,t){for(const i of t)i instanceof MR?(n.Ua.addReference(i.key,e),lV(n,i)):i instanceof OR?(Re(Nv,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||PR(n,i.key)):tt()}function lV(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Re(Nv,"New document in limbo: "+t),n.Qa.add(i),Mv(n))}function Mv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ue(tn.fromString(e)),i=n.za.next();n.Ka.set(i,new eV(t)),n.$a=n.$a.insert(t,i),RR(n.remoteStore,new qa(as(gv(t.path)),i,"TargetPurposeLimboResolution",Np.ae))}}async function LR(n,e,t){const i=wt(n),a=[],l=[],u=[];i.ka.isEmpty()||(i.ka.forEach((f,p)=>{u.push(i.Ha(p,e,t).then(m=>{var _;if((m||t)&&i.isPrimaryClient){const T=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(m){a.push(m);const T=Tv.Yi(p.targetId,m);l.push(T)}}))}),await Promise.all(u),i.La.p_(a),await async function(p,m){const _=wt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>fe.forEach(m,b=>fe.forEach(b.Hi,C=>_.persistence.referenceDelegate.addReference(T,b.targetId,C)).next(()=>fe.forEach(b.Ji,C=>_.persistence.referenceDelegate.removeReference(T,b.targetId,C)))))}catch(T){if(!Bu(T))throw T;Re(Av,"Failed to update sequence numbers: "+T)}for(const T of m){const b=T.targetId;if(!T.fromCache){const C=_.Ts.get(b),I=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(I);_.Ts=_.Ts.insert(b,L)}}}(i.localStore,l))}async function uV(n,e){const t=wt(n);if(!t.currentUser.isEqual(e)){Re(Nv,"User change. New user:",e.toKey());const i=await AR(t.localStore,e);t.currentUser=e,function(l,u){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Ve(be.CANCELLED,u))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await LR(t,i.Rs)}}function cV(n,e){const t=wt(n),i=t.Ka.get(e);if(i&&i.Ba)return At().add(i.key);{let a=At();const l=t.qa.get(e);if(!l)return a;for(const u of l){const f=t.ka.get(u);a=a.unionWith(f.view.Sa)}return a}}function BR(n){const e=wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oV.bind(null,e),e.La.p_=WB.bind(null,e.eventManager),e.La.Ja=JB.bind(null,e.eventManager),e}class np{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bR(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return AB(this.persistence,new EB,e.initialUser,this.serializer)}Xa(e){return new TR(wv.ri,this.serializer)}Za(e){return new IB}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}np.provider={build:()=>new np};class hV extends np{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Jt(this.persistence.referenceDelegate instanceof tp);const i=this.persistence.referenceDelegate.garbageCollector;return new sB(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new TR(i=>tp.ri(i,t),this.serializer)}}class $y{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>MA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uV.bind(null,this.syncEngine),await HB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zB}()}createDatastore(e){const t=bR(e.databaseInfo.databaseId),i=function(l){return new xB(l)}(e.databaseInfo);return function(l,u,f,p){return new BB(l,u,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,u,f){return new UB(i,a,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>MA(this.syncEngine,t,0),function(){return CA.D()?new CA:new DB}())}createSyncEngine(e,t){return function(a,l,u,f,p,m,_){const T=new tV(a,l,u,f,p,m);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=wt(a);Re(bu,"RemoteStore shutting down."),l.W_.add(5),await Fh(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$y.provider={build:()=>new $y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class dV{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=ri.UNAUTHENTICATED,this.clientId=HS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{Re(no,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Re(no,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=NR(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ay(n,e){n.asyncQueue.verifyOperationInProgress(),Re(no,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await AR(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function xA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await pV(n);Re(no,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>RA(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>RA(e.remoteStore,a)),n._onlineComponents=e}async function pV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re(no,"Using user provided OfflineComponentProvider");try{await ay(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===be.FAILED_PRECONDITION||a.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Eu("Error using user provided cache. Falling back to memory cache: "+t),await ay(n,new np)}}else Re(no,"Using default OfflineComponentProvider"),await ay(n,new hV(void 0));return n._offlineComponents}async function mV(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re(no,"Using user provided OnlineComponentProvider"),await xA(n,n._uninitializedComponentsProvider._online)):(Re(no,"Using default OnlineComponentProvider"),await xA(n,new $y))),n._onlineComponents}async function gV(n){const e=await mV(n),t=e.eventManager;return t.onListen=nV.bind(null,e.syncEngine),t.onUnlisten=sV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aV.bind(null,e.syncEngine),t}function yV(n,e,t={}){const i=new Qo;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,p,m){const _=new fV({next:b=>{_.su(),u.enqueueAndForget(()=>KB(l,T));const C=b.docs.has(f);!C&&b.fromCache?m.reject(new Ve(be.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&p&&p.source==="server"?m.reject(new Ve(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),T=new XB(gv(f.path),_,{includeMetadataChanges:!0,Ta:!0});return QB(l,T)}(await gV(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(n,e,t){if(!t)throw new Ve(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vV(n,e,t,i){if(e===!0&&i===!0)throw new Ve(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function PA(n){if(!Ue.isDocumentKey(n))throw new Ve(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EV(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":tt()}function e_(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ve(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=EV(n);throw new Ve(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="firestore.googleapis.com",LA=!0;class BA{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UR,this.ssl=LA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:LA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iB)throw new Ve(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ve(be.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ve(be.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ve(be.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ov{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BA(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new O4;switch(i.type){case"firstParty":return new L4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ve(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=kA.get(t);i&&(Re("ComponentProvider","Removing Datastore"),kA.delete(t),i.terminate())}(this),Promise.resolve()}}function wV(n,e,t,i={}){var a;const l=(n=e_(n,Ov))._getSettings(),u=`${e}:${t}`;if(l.host!==UR&&l.host!==u&&Eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=ri.MOCK_USER;else{f=kC(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Ve(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ri(m)}n._authCredentials=new x4(new jS(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xv(this.firestore,e,this._query)}}class Gs{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ch(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gs(this.firestore,e,this._key)}}class Ch extends xv{constructor(e,t,i){super(e,t,gv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gs(this.firestore,null,new Ue(e))}withConverter(e){return new Ch(this.firestore,e,this._path)}}function TV(n,e,...t){if(n=li(n),arguments.length===1&&(e=HS.newId()),_V("doc","path",e),n instanceof Ov){const i=tn.fromString(e,...t);return PA(i),new Gs(n,null,new Ue(i))}{if(!(n instanceof Gs||n instanceof Ch))throw new Ve(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tn.fromString(e,...t));return PA(i),new Gs(n.firestore,n instanceof Ch?n.converter:null,new Ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="AsyncQueue";class UA{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new SR(this,"async_queue_retry"),this.Su=()=>{const i=sy();i&&Re(VA,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=sy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=sy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Qo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Bu(e))throw e;Re(VA,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw zs("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Iv.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&tt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class FR extends Ov{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new UA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UA(e),this._firestoreClient=void 0,await e}}}function AV(n,e){const t=E_(),i=Jd,a=dp(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=MC("firestore");l&&wV(a,...l)}return a}function CV(n){if(n._terminated)throw new Ve(be.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bV(n),n._firestoreClient}function bV(n){var e,t,i;const a=n._freezeSettings(),l=function(f,p,m,_){return new X4(f,p,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,VR(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new dV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ip(Zn.fromBase64String(e))}catch(t){throw new Ve(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ip(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ve(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}const IV=new RegExp("[~\\*/\\[\\]]");function DV(n,e,t){if(e.search(IV)>=0)throw FA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new qR(...e.split("."))._internalPath}catch{throw FA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function FA(n,e,t,i,a){let l=`Function ${e}() called with invalid data`;l+=". ";let u="";return new Ve(be.INVALID_ARGUMENT,l+n+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class NV extends GR{data(){return super.data()}}function jR(n,e){return typeof e=="string"?DV(n,e):e instanceof qR?e._internalPath:e._delegate._internalPath}class MV{convertValue(e,t="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Vh(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Uy].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>cn(u.doubleValue));return new RV(l)}convertGeoPoint(e){return new SV(cn(e.latitude),cn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Op(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(wh(e));default:return null}}convertTimestamp(e){const t=Za(e);return new Ri(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=tn.fromString(e);Jt(ER(i));const a=new Th(i.get(1),i.get(3)),l=new Ue(i.popFirst(5));return a.isEqual(t)||zs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HR extends GR{constructor(e,t,i,a,l,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jR("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class xV extends HR{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(n){n=e_(n,Gs);const e=e_(n.firestore,FR);return yV(CV(e),n._key).then(t=>LV(e,n,t))}class PV extends MV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ip(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,t)}}function LV(n,e,t){const i=t.docs.get(e._key),a=new PV(n);return new HR(n,a,e._key,i,new OV(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Lu=a})(sl),Jo(new Ka("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new FR(new k4(i.getProvider("auth-internal")),new B4(u,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ve(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Th(m.options.projectId,_)}(u,a),u);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),is(zT,QT,e),is(zT,QT,"esm2017")})();const BV=AV(),VV=X.createContext({user:null,isAdmin:!1,loading:!0}),UV=({children:n})=>{const[e,t]=X.useState(null),[i,a]=X.useState(!1),[l,u]=X.useState(!0);return X.useEffect(()=>{const f=fb(LS,async p=>{if(t(p),p){const m=TV(BV,"admins",p.email),_=await kV(m);console.log("Admin Check:",_.exists()),a(_.exists())}else a(!1);u(!1)});return()=>f()},[]),ye.jsx(VV.Provider,{value:{user:e,isAdmin:i,loading:l},children:n})};function YR(n,e){return function(){return n.apply(e,arguments)}}const{toString:FV}=Object.prototype,{getPrototypeOf:kv}=Object,Fp=(n=>e=>{const t=FV.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),kr=n=>(n=n.toLowerCase(),e=>Fp(e)===n),qp=n=>e=>typeof e===n,{isArray:Uu}=Array,bh=qp("undefined");function qV(n){return n!==null&&!bh(n)&&n.constructor!==null&&!bh(n.constructor)&&zi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const zR=kr("ArrayBuffer");function GV(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&zR(n.buffer),e}const jV=qp("string"),zi=qp("function"),QR=qp("number"),Gp=n=>n!==null&&typeof n=="object",HV=n=>n===!0||n===!1,Td=n=>{if(Fp(n)!=="object")return!1;const e=kv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},YV=kr("Date"),zV=kr("File"),QV=kr("Blob"),KV=kr("FileList"),WV=n=>Gp(n)&&zi(n.pipe),JV=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||zi(n.append)&&((e=Fp(n))==="formdata"||e==="object"&&zi(n.toString)&&n.toString()==="[object FormData]"))},XV=kr("URLSearchParams"),[ZV,$V,eU,tU]=["ReadableStream","Request","Response","Headers"].map(kr),nU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,a;if(typeof n!="object"&&(n=[n]),Uu(n))for(i=0,a=n.length;i<a;i++)e.call(null,n[i],i,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),u=l.length;let f;for(i=0;i<u;i++)f=l[i],e.call(null,n[f],f,n)}}function KR(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const zo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,WR=n=>!bh(n)&&n!==zo;function t_(){const{caseless:n}=WR(this)&&this||{},e={},t=(i,a)=>{const l=n&&KR(e,a)||a;Td(e[l])&&Td(i)?e[l]=t_(e[l],i):Td(i)?e[l]=t_({},i):Uu(i)?e[l]=i.slice():e[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Gh(arguments[i],t);return e}const iU=(n,e,t,{allOwnKeys:i}={})=>(Gh(e,(a,l)=>{t&&zi(a)?n[l]=YR(a,t):n[l]=a},{allOwnKeys:i}),n),rU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),sU=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},aU=(n,e,t,i)=>{let a,l,u;const f={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)u=a[l],(!i||i(u,n,e))&&!f[u]&&(e[u]=n[u],f[u]=!0);n=t!==!1&&kv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},oU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},lU=n=>{if(!n)return null;if(Uu(n))return n;let e=n.length;if(!QR(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},uU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&kv(Uint8Array)),cU=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=i.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},hU=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},fU=kr("HTMLFormElement"),dU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),qA=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),pU=kr("RegExp"),JR=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Gh(t,(a,l)=>{let u;(u=e(a,l,n))!==!1&&(i[l]=u||a)}),Object.defineProperties(n,i)},mU=n=>{JR(n,(e,t)=>{if(zi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(zi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},gU=(n,e)=>{const t={},i=a=>{a.forEach(l=>{t[l]=!0})};return Uu(n)?i(n):i(String(n).split(e)),t},yU=()=>{},_U=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function vU(n){return!!(n&&zi(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const EU=n=>{const e=new Array(10),t=(i,a)=>{if(Gp(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const l=Uu(i)?[]:{};return Gh(i,(u,f)=>{const p=t(u,a+1);!bh(p)&&(l[f]=p)}),e[a]=void 0,l}}return i};return t(n,0)},wU=kr("AsyncFunction"),TU=n=>n&&(Gp(n)||zi(n))&&zi(n.then)&&zi(n.catch),XR=((n,e)=>n?setImmediate:e?((t,i)=>(zo.addEventListener("message",({source:a,data:l})=>{a===zo&&l===t&&i.length&&i.shift()()},!1),a=>{i.push(a),zo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",zi(zo.postMessage)),AU=typeof queueMicrotask<"u"?queueMicrotask.bind(zo):typeof process<"u"&&process.nextTick||XR,re={isArray:Uu,isArrayBuffer:zR,isBuffer:qV,isFormData:JV,isArrayBufferView:GV,isString:jV,isNumber:QR,isBoolean:HV,isObject:Gp,isPlainObject:Td,isReadableStream:ZV,isRequest:$V,isResponse:eU,isHeaders:tU,isUndefined:bh,isDate:YV,isFile:zV,isBlob:QV,isRegExp:pU,isFunction:zi,isStream:WV,isURLSearchParams:XV,isTypedArray:uU,isFileList:KV,forEach:Gh,merge:t_,extend:iU,trim:nU,stripBOM:rU,inherits:sU,toFlatObject:aU,kindOf:Fp,kindOfTest:kr,endsWith:oU,toArray:lU,forEachEntry:cU,matchAll:hU,isHTMLForm:fU,hasOwnProperty:qA,hasOwnProp:qA,reduceDescriptors:JR,freezeMethods:mU,toObjectSet:gU,toCamelCase:dU,noop:yU,toFiniteNumber:_U,findKey:KR,global:zo,isContextDefined:WR,isSpecCompliantForm:vU,toJSONObject:EU,isAsyncFn:wU,isThenable:TU,setImmediate:XR,asap:AU};function Xe(n,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}re.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const ZR=Xe.prototype,$R={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{$R[n]={value:n}});Object.defineProperties(Xe,$R);Object.defineProperty(ZR,"isAxiosError",{value:!0});Xe.from=(n,e,t,i,a,l)=>{const u=Object.create(ZR);return re.toFlatObject(n,u,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),Xe.call(u,n.message,e,t,i,a),u.cause=n,u.name=n.name,l&&Object.assign(u,l),u};const CU=null;function n_(n){return re.isPlainObject(n)||re.isArray(n)}function eI(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function GA(n,e,t){return n?n.concat(e).map(function(a,l){return a=eI(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function bU(n){return re.isArray(n)&&!n.some(n_)}const SU=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function jp(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,O){return!re.isUndefined(O[L])});const i=t.metaTokens,a=t.visitor||_,l=t.dots,u=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(a))throw new TypeError("visitor must be a function");function m(I){if(I===null)return"";if(re.isDate(I))return I.toISOString();if(!p&&re.isBlob(I))throw new Xe("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(I)||re.isTypedArray(I)?p&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function _(I,L,O){let x=I;if(I&&!O&&typeof I=="object"){if(re.endsWith(L,"{}"))L=i?L:L.slice(0,-2),I=JSON.stringify(I);else if(re.isArray(I)&&bU(I)||(re.isFileList(I)||re.endsWith(L,"[]"))&&(x=re.toArray(I)))return L=eI(L),x.forEach(function(j,ne){!(re.isUndefined(j)||j===null)&&e.append(u===!0?GA([L],ne,l):u===null?L:L+"[]",m(j))}),!1}return n_(I)?!0:(e.append(GA(O,L,l),m(I)),!1)}const T=[],b=Object.assign(SU,{defaultVisitor:_,convertValue:m,isVisitable:n_});function C(I,L){if(!re.isUndefined(I)){if(T.indexOf(I)!==-1)throw Error("Circular reference detected in "+L.join("."));T.push(I),re.forEach(I,function(x,P){(!(re.isUndefined(x)||x===null)&&a.call(e,x,re.isString(P)?P.trim():P,L,b))===!0&&C(x,L?L.concat(P):[P])}),T.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return C(n),e}function jA(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Pv(n,e){this._pairs=[],n&&jp(n,this,e)}const tI=Pv.prototype;tI.append=function(e,t){this._pairs.push([e,t])};tI.toString=function(e){const t=e?function(i){return e.call(this,i,jA)}:jA;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function RU(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nI(n,e,t){if(!e)return n;const i=t&&t.encode||RU;re.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=re.isURLSearchParams(e)?e.toString():new Pv(e,t).toString(i),l){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class HA{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(i){i!==null&&e(i)})}}const iI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IU=typeof URLSearchParams<"u"?URLSearchParams:Pv,DU=typeof FormData<"u"?FormData:null,NU=typeof Blob<"u"?Blob:null,MU={isBrowser:!0,classes:{URLSearchParams:IU,FormData:DU,Blob:NU},protocols:["http","https","file","blob","url","data"]},Lv=typeof window<"u"&&typeof document<"u",i_=typeof navigator=="object"&&navigator||void 0,OU=Lv&&(!i_||["ReactNative","NativeScript","NS"].indexOf(i_.product)<0),xU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kU=Lv&&window.location.href||"http://localhost",PU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lv,hasStandardBrowserEnv:OU,hasStandardBrowserWebWorkerEnv:xU,navigator:i_,origin:kU},Symbol.toStringTag,{value:"Module"})),ai={...PU,...MU};function LU(n,e){return jp(n,new ai.classes.URLSearchParams,Object.assign({visitor:function(t,i,a,l){return ai.isNode&&re.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function BU(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function VU(n){const e={},t=Object.keys(n);let i;const a=t.length;let l;for(i=0;i<a;i++)l=t[i],e[l]=n[l];return e}function rI(n){function e(t,i,a,l){let u=t[l++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),p=l>=t.length;return u=!u&&re.isArray(a)?a.length:u,p?(re.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!f):((!a[u]||!re.isObject(a[u]))&&(a[u]=[]),e(t,i,a[u],l)&&re.isArray(a[u])&&(a[u]=VU(a[u])),!f)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(i,a)=>{e(BU(i),a,t,0)}),t}return null}function UU(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const jh={transitional:iI,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,l=re.isObject(e);if(l&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return a?JSON.stringify(rI(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return LU(e,this.formSerializer).toString();if((f=re.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return jp(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),UU(e)):e}],transformResponse:[function(e){const t=this.transitional||jh.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(i&&!this.responseType||a)){const u=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?Xe.from(f,Xe.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ai.classes.FormData,Blob:ai.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{jh.headers[n]={}});const FU=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qU=n=>{const e={};let t,i,a;return n&&n.split(`
`).forEach(function(u){a=u.indexOf(":"),t=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!t||e[t]&&FU[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},YA=Symbol("internals");function Hc(n){return n&&String(n).trim().toLowerCase()}function Ad(n){return n===!1||n==null?n:re.isArray(n)?n.map(Ad):String(n)}function GU(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const jU=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function oy(n,e,t,i,a){if(re.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!re.isString(e)){if(re.isString(i))return e.indexOf(i)!==-1;if(re.isRegExp(i))return i.test(e)}}function HU(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function YU(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(a,l,u){return this[i].call(this,e,a,l,u)},configurable:!0})})}let Ii=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function l(f,p,m){const _=Hc(p);if(!_)throw new Error("header name must be a non-empty string");const T=re.findKey(a,_);(!T||a[T]===void 0||m===!0||m===void 0&&a[T]!==!1)&&(a[T||p]=Ad(f))}const u=(f,p)=>re.forEach(f,(m,_)=>l(m,_,p));if(re.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(re.isString(e)&&(e=e.trim())&&!jU(e))u(qU(e),t);else if(re.isHeaders(e))for(const[f,p]of e.entries())l(p,f,i);else e!=null&&l(t,e,i);return this}get(e,t){if(e=Hc(e),e){const i=re.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return GU(a);if(re.isFunction(t))return t.call(this,a,i);if(re.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Hc(e),e){const i=re.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||oy(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function l(u){if(u=Hc(u),u){const f=re.findKey(i,u);f&&(!t||oy(i,i[f],f,t))&&(delete i[f],a=!0)}}return re.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const l=t[i];(!e||oy(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,i={};return re.forEach(this,(a,l)=>{const u=re.findKey(i,l);if(u){t[u]=Ad(a),delete t[l];return}const f=e?HU(l):String(l).trim();f!==l&&delete t[l],t[f]=Ad(a),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&re.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[YA]=this[YA]={accessors:{}}).accessors,a=this.prototype;function l(u){const f=Hc(u);i[f]||(YU(a,u),i[f]=!0)}return re.isArray(e)?e.forEach(l):l(e),this}};Ii.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(Ii.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});re.freezeMethods(Ii);function ly(n,e){const t=this||jh,i=e||t,a=Ii.from(i.headers);let l=i.data;return re.forEach(n,function(f){l=f.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function sI(n){return!!(n&&n.__CANCEL__)}function Fu(n,e,t){Xe.call(this,n??"canceled",Xe.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Fu,Xe,{__CANCEL__:!0});function aI(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Xe("Request failed with status code "+t.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function zU(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function QU(n,e){n=n||10;const t=new Array(n),i=new Array(n);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),_=i[l];u||(u=m),t[a]=p,i[a]=m;let T=l,b=0;for(;T!==a;)b+=t[T++],T=T%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),m-u<e)return;const C=_&&m-_;return C?Math.round(b*1e3/C):void 0}}function KU(n,e){let t=0,i=1e3/e,a,l;const u=(m,_=Date.now())=>{t=_,a=null,l&&(clearTimeout(l),l=null),n.apply(null,m)};return[(...m)=>{const _=Date.now(),T=_-t;T>=i?u(m,_):(a=m,l||(l=setTimeout(()=>{l=null,u(a)},i-T)))},()=>a&&u(a)]}const rp=(n,e,t=3)=>{let i=0;const a=QU(50,250);return KU(l=>{const u=l.loaded,f=l.lengthComputable?l.total:void 0,p=u-i,m=a(p),_=u<=f;i=u;const T={loaded:u,total:f,progress:f?u/f:void 0,bytes:p,rate:m||void 0,estimated:m&&f&&_?(f-u)/m:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(T)},t)},zA=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},QA=n=>(...e)=>re.asap(()=>n(...e)),WU=ai.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ai.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ai.origin),ai.navigator&&/(msie|trident)/i.test(ai.navigator.userAgent)):()=>!0,JU=ai.hasStandardBrowserEnv?{write(n,e,t,i,a,l){const u=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),re.isString(i)&&u.push("path="+i),re.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function XU(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function ZU(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function oI(n,e,t){let i=!XU(e);return n&&i||t==!1?ZU(n,e):e}const KA=n=>n instanceof Ii?{...n}:n;function il(n,e){e=e||{};const t={};function i(m,_,T,b){return re.isPlainObject(m)&&re.isPlainObject(_)?re.merge.call({caseless:b},m,_):re.isPlainObject(_)?re.merge({},_):re.isArray(_)?_.slice():_}function a(m,_,T,b){if(re.isUndefined(_)){if(!re.isUndefined(m))return i(void 0,m,T,b)}else return i(m,_,T,b)}function l(m,_){if(!re.isUndefined(_))return i(void 0,_)}function u(m,_){if(re.isUndefined(_)){if(!re.isUndefined(m))return i(void 0,m)}else return i(void 0,_)}function f(m,_,T){if(T in e)return i(m,_);if(T in n)return i(void 0,m)}const p={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(m,_,T)=>a(KA(m),KA(_),T,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(_){const T=p[_]||a,b=T(n[_],e[_],_);re.isUndefined(b)&&T!==f||(t[_]=b)}),t}const lI=n=>{const e=il({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:f}=e;e.headers=u=Ii.from(u),e.url=nI(oI(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(re.isFormData(t)){if(ai.hasStandardBrowserEnv||ai.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((p=u.getContentType())!==!1){const[m,..._]=p?p.split(";").map(T=>T.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",..._].join("; "))}}if(ai.hasStandardBrowserEnv&&(i&&re.isFunction(i)&&(i=i(e)),i||i!==!1&&WU(e.url))){const m=a&&l&&JU.read(l);m&&u.set(a,m)}return e},$U=typeof XMLHttpRequest<"u",eF=$U&&function(n){return new Promise(function(t,i){const a=lI(n);let l=a.data;const u=Ii.from(a.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:m}=a,_,T,b,C,I;function L(){C&&C(),I&&I(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let O=new XMLHttpRequest;O.open(a.method.toUpperCase(),a.url,!0),O.timeout=a.timeout;function x(){if(!O)return;const j=Ii.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),se={data:!f||f==="text"||f==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:j,config:n,request:O};aI(function(B){t(B),L()},function(B){i(B),L()},se),O=null}"onloadend"in O?O.onloadend=x:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(x)},O.onabort=function(){O&&(i(new Xe("Request aborted",Xe.ECONNABORTED,n,O)),O=null)},O.onerror=function(){i(new Xe("Network Error",Xe.ERR_NETWORK,n,O)),O=null},O.ontimeout=function(){let ne=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const se=a.transitional||iI;a.timeoutErrorMessage&&(ne=a.timeoutErrorMessage),i(new Xe(ne,se.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,n,O)),O=null},l===void 0&&u.setContentType(null),"setRequestHeader"in O&&re.forEach(u.toJSON(),function(ne,se){O.setRequestHeader(se,ne)}),re.isUndefined(a.withCredentials)||(O.withCredentials=!!a.withCredentials),f&&f!=="json"&&(O.responseType=a.responseType),m&&([b,I]=rp(m,!0),O.addEventListener("progress",b)),p&&O.upload&&([T,C]=rp(p),O.upload.addEventListener("progress",T),O.upload.addEventListener("loadend",C)),(a.cancelToken||a.signal)&&(_=j=>{O&&(i(!j||j.type?new Fu(null,n,O):j),O.abort(),O=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const P=zU(a.url);if(P&&ai.protocols.indexOf(P)===-1){i(new Xe("Unsupported protocol "+P+":",Xe.ERR_BAD_REQUEST,n));return}O.send(l||null)})},tF=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,a;const l=function(m){if(!a){a=!0,f();const _=m instanceof Error?m:this.reason;i.abort(_ instanceof Xe?_:new Fu(_ instanceof Error?_.message:_))}};let u=e&&setTimeout(()=>{u=null,l(new Xe(`timeout ${e} of ms exceeded`,Xe.ETIMEDOUT))},e);const f=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),n=null)};n.forEach(m=>m.addEventListener("abort",l));const{signal:p}=i;return p.unsubscribe=()=>re.asap(f),p}},nF=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,a;for(;i<t;)a=i+e,yield n.slice(i,a),i=a},iF=async function*(n,e){for await(const t of rF(n))yield*nF(t,e)},rF=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},WA=(n,e,t,i)=>{const a=iF(n,e);let l=0,u,f=p=>{u||(u=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:_}=await a.next();if(m){f(),p.close();return}let T=_.byteLength;if(t){let b=l+=T;t(b)}p.enqueue(new Uint8Array(_))}catch(m){throw f(m),m}},cancel(p){return f(p),a.return()}},{highWaterMark:2})},Hp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uI=Hp&&typeof ReadableStream=="function",sF=Hp&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),cI=(n,...e)=>{try{return!!n(...e)}catch{return!1}},aF=uI&&cI(()=>{let n=!1;const e=new Request(ai.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),JA=64*1024,r_=uI&&cI(()=>re.isReadableStream(new Response("").body)),sp={stream:r_&&(n=>n.body)};Hp&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!sp[e]&&(sp[e]=re.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Xe(`Response type '${e}' is not supported`,Xe.ERR_NOT_SUPPORT,i)})})})(new Response);const oF=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(ai.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await sF(n)).byteLength},lF=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??oF(e)},uF=Hp&&(async n=>{let{url:e,method:t,data:i,signal:a,cancelToken:l,timeout:u,onDownloadProgress:f,onUploadProgress:p,responseType:m,headers:_,withCredentials:T="same-origin",fetchOptions:b}=lI(n);m=m?(m+"").toLowerCase():"text";let C=tF([a,l&&l.toAbortSignal()],u),I;const L=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let O;try{if(p&&aF&&t!=="get"&&t!=="head"&&(O=await lF(_,i))!==0){let se=new Request(e,{method:"POST",body:i,duplex:"half"}),pe;if(re.isFormData(i)&&(pe=se.headers.get("content-type"))&&_.setContentType(pe),se.body){const[B,N]=zA(O,rp(QA(p)));i=WA(se.body,JA,B,N)}}re.isString(T)||(T=T?"include":"omit");const x="credentials"in Request.prototype;I=new Request(e,{...b,signal:C,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:i,duplex:"half",credentials:x?T:void 0});let P=await fetch(I);const j=r_&&(m==="stream"||m==="response");if(r_&&(f||j&&L)){const se={};["status","statusText","headers"].forEach(M=>{se[M]=P[M]});const pe=re.toFiniteNumber(P.headers.get("content-length")),[B,N]=f&&zA(pe,rp(QA(f),!0))||[];P=new Response(WA(P.body,JA,B,()=>{N&&N(),L&&L()}),se)}m=m||"text";let ne=await sp[re.findKey(sp,m)||"text"](P,n);return!j&&L&&L(),await new Promise((se,pe)=>{aI(se,pe,{data:ne,headers:Ii.from(P.headers),status:P.status,statusText:P.statusText,config:n,request:I})})}catch(x){throw L&&L(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,n,I),{cause:x.cause||x}):Xe.from(x,x&&x.code,n,I)}}),s_={http:CU,xhr:eF,fetch:uF};re.forEach(s_,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const XA=n=>`- ${n}`,cF=n=>re.isFunction(n)||n===null||n===!1,hI={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,i;const a={};for(let l=0;l<e;l++){t=n[l];let u;if(i=t,!cF(t)&&(i=s_[(u=String(t)).toLowerCase()],i===void 0))throw new Xe(`Unknown adapter '${u}'`);if(i)break;a[u||"#"+l]=i}if(!i){const l=Object.entries(a).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(XA).join(`
`):" "+XA(l[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:s_};function uy(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Fu(null,n)}function ZA(n){return uy(n),n.headers=Ii.from(n.headers),n.data=ly.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),hI.getAdapter(n.adapter||jh.adapter)(n).then(function(i){return uy(n),i.data=ly.call(n,n.transformResponse,i),i.headers=Ii.from(i.headers),i},function(i){return sI(i)||(uy(n),i&&i.response&&(i.response.data=ly.call(n,n.transformResponse,i.response),i.response.headers=Ii.from(i.response.headers))),Promise.reject(i)})}const fI="1.8.3",Yp={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Yp[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const $A={};Yp.transitional=function(e,t,i){function a(l,u){return"[Axios v"+fI+"] Transitional option '"+l+"'"+u+(i?". "+i:"")}return(l,u,f)=>{if(e===!1)throw new Xe(a(u," has been removed"+(t?" in "+t:"")),Xe.ERR_DEPRECATED);return t&&!$A[u]&&($A[u]=!0,console.warn(a(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,u,f):!0}};Yp.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function hF(n,e,t){if(typeof n!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let a=i.length;for(;a-- >0;){const l=i[a],u=e[l];if(u){const f=n[l],p=f===void 0||u(f,l,n);if(p!==!0)throw new Xe("option "+l+" must be "+p,Xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Xe("Unknown option "+l,Xe.ERR_BAD_OPTION)}}const Cd={assertOptions:hF,validators:Yp},$r=Cd.validators;let Wo=class{constructor(e){this.defaults=e,this.interceptors={request:new HA,response:new HA}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=il(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:l}=t;i!==void 0&&Cd.assertOptions(i,{silentJSONParsing:$r.transitional($r.boolean),forcedJSONParsing:$r.transitional($r.boolean),clarifyTimeoutError:$r.transitional($r.boolean)},!1),a!=null&&(re.isFunction(a)?t.paramsSerializer={serialize:a}:Cd.assertOptions(a,{encode:$r.function,serialize:$r.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Cd.assertOptions(t,{baseUrl:$r.spelling("baseURL"),withXsrfToken:$r.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=l&&re.merge(l.common,l[t.method]);l&&re.forEach(["delete","get","head","post","put","patch","common"],I=>{delete l[I]}),t.headers=Ii.concat(u,l);const f=[];let p=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(t)===!1||(p=p&&L.synchronous,f.unshift(L.fulfilled,L.rejected))});const m=[];this.interceptors.response.forEach(function(L){m.push(L.fulfilled,L.rejected)});let _,T=0,b;if(!p){const I=[ZA.bind(this),void 0];for(I.unshift.apply(I,f),I.push.apply(I,m),b=I.length,_=Promise.resolve(t);T<b;)_=_.then(I[T++],I[T++]);return _}b=f.length;let C=t;for(T=0;T<b;){const I=f[T++],L=f[T++];try{C=I(C)}catch(O){L.call(this,O);break}}try{_=ZA.call(this,C)}catch(I){return Promise.reject(I)}for(T=0,b=m.length;T<b;)_=_.then(m[T++],m[T++]);return _}getUri(e){e=il(this.defaults,e);const t=oI(e.baseURL,e.url,e.allowAbsoluteUrls);return nI(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Wo.prototype[e]=function(t,i){return this.request(il(i||{},{method:e,url:t,data:(i||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(i){return function(l,u,f){return this.request(il(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Wo.prototype[e]=t(),Wo.prototype[e+"Form"]=t(!0)});let fF=class dI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(f=>{i.subscribe(f),l=f}).then(a);return u.cancel=function(){i.unsubscribe(l)},u},e(function(l,u,f){i.reason||(i.reason=new Fu(l,u,f),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new dI(function(a){e=a}),cancel:e}}};function dF(n){return function(t){return n.apply(null,t)}}function pF(n){return re.isObject(n)&&n.isAxiosError===!0}const a_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(a_).forEach(([n,e])=>{a_[e]=n});function pI(n){const e=new Wo(n),t=YR(Wo.prototype.request,e);return re.extend(t,Wo.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return pI(il(n,a))},t}const sn=pI(jh);sn.Axios=Wo;sn.CanceledError=Fu;sn.CancelToken=fF;sn.isCancel=sI;sn.VERSION=fI;sn.toFormData=jp;sn.AxiosError=Xe;sn.Cancel=sn.CanceledError;sn.all=function(e){return Promise.all(e)};sn.spread=dF;sn.isAxiosError=pF;sn.mergeConfig=il;sn.AxiosHeaders=Ii;sn.formToJSON=n=>rI(re.isHTMLForm(n)?new FormData(n):n);sn.getAdapter=hI.getAdapter;sn.HttpStatusCode=a_;sn.default=sn;const{Axios:Dq,AxiosError:Nq,CanceledError:Mq,isCancel:Oq,CancelToken:xq,VERSION:kq,all:Pq,Cancel:Lq,isAxiosError:Bq,spread:Vq,toFormData:Uq,AxiosHeaders:Fq,HttpStatusCode:qq,formToJSON:Gq,getAdapter:jq,mergeConfig:Hq}=sn,mF=()=>{const[n,e]=X.useState(""),[t,i]=X.useState(""),[a,l]=X.useState(""),[u,f]=X.useState(!0),[p,m]=X.useState(""),[_,T]=X.useState(""),[b,C]=X.useState(""),I=f_(),L=async x=>{x.preventDefault(),l("");try{(await(await ix(LS,n,t)).user.getIdTokenResult()).claims.admin?(localStorage.setItem("admin","true"),I("/dashboard")):l("Access Denied: You are not an admin.")}catch(P){l(P.message)}},O=async x=>{if(x.preventDefault(),l(""),t!==_){l("Passwords do not match.");return}try{if(console.log("Checking if user exists..."),(await sn.post("https://mess-management-backend-9iwt.onrender.com/check-user",{email:n})).data.exists){l("User already exists. Please log in.");return}console.log("User does not exist. Proceeding with sign-up...");const j=await sn.post("https://mess-management-backend-9iwt.onrender.com/signup",{email:n,password:t,displayName:p,address:b});console.log("Sign-up response:",j),j.data.success?(console.log("Sign-up successful!"),l("Sign Up successful! Please log in."),f(!0)):(console.error("Sign-up failed:",j.data.message),l(j.data.message||"Sign Up failed."))}catch(P){console.error("Sign-up error:",P),P.response?(console.error("Server responded with:",P.response.data),l(P.response.data.message||"An error occurred during Sign Up.")):P.request?(console.error("No response received:",P.request),l("No response from the server. Please try again.")):(console.error("Request setup error:",P.message),l("An error occurred during Sign Up."))}};return ye.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:ye.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[ye.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:u?"Admin Login":"Sign Up"}),a&&ye.jsx("p",{className:"text-red-500 text-sm text-center mb-4",children:a}),u?ye.jsxs("form",{onSubmit:L,className:"space-y-6",children:[ye.jsxs("div",{children:[ye.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),ye.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:x=>e(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),ye.jsxs("div",{children:[ye.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),ye.jsx("input",{type:"password",placeholder:"Enter your password",value:t,onChange:x=>i(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),ye.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Login"})]}):ye.jsxs("form",{onSubmit:O,className:"space-y-6",children:[ye.jsxs("div",{children:[ye.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mess Name"}),ye.jsx("input",{type:"text",placeholder:"Enter your mess name",value:p,onChange:x=>m(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),ye.jsxs("div",{children:[ye.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),ye.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:x=>e(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),ye.jsxs("div",{children:[ye.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),ye.jsx("input",{type:"password",placeholder:"Enter your password",value:t,onChange:x=>i(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),ye.jsxs("div",{children:[ye.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),ye.jsx("input",{type:"password",placeholder:"Confirm your password",value:_,onChange:x=>T(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),ye.jsxs("div",{children:[ye.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),ye.jsx("input",{type:"text",placeholder:"Address",value:b,onChange:x=>C(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),ye.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Sign Up"})]}),ye.jsxs("p",{className:"mt-6 text-center text-gray-600",children:[u?"Don't have an account? ":"Already have an account? ",ye.jsx("button",{onClick:()=>f(!u),className:"text-blue-600 hover:text-blue-800 focus:outline-none",children:u?"Sign Up":"Login"})]})]})})};var od={},Hi={},eC;function zp(){if(eC)return Hi;eC=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.compactObject=I,Hi.deprecated=T,Hi.detectBrowser=b,Hi.disableLog=p,Hi.disableWarnings=m,Hi.extractVersion=u,Hi.filterStats=O,Hi.log=_,Hi.walkStats=L,Hi.wrapPeerConnectionEvent=f;function n(x,P,j){return P=e(P),P in x?Object.defineProperty(x,P,{value:j,enumerable:!0,configurable:!0,writable:!0}):x[P]=j,x}function e(x){var P=t(x,"string");return i(P)=="symbol"?P:P+""}function t(x,P){if(i(x)!="object"||!x)return x;var j=x[Symbol.toPrimitive];if(j!==void 0){var ne=j.call(x,P);if(i(ne)!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(x)}function i(x){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},i(x)}var a=!0,l=!0;function u(x,P,j){var ne=x.match(P);return ne&&ne.length>=j&&parseInt(ne[j],10)}function f(x,P,j){if(x.RTCPeerConnection){var ne=x.RTCPeerConnection.prototype,se=ne.addEventListener;ne.addEventListener=function(B,N){if(B!==P)return se.apply(this,arguments);var M=function(H){var Y=j(H);Y&&(N.handleEvent?N.handleEvent(Y):N(Y))};return this._eventMap=this._eventMap||{},this._eventMap[P]||(this._eventMap[P]=new Map),this._eventMap[P].set(N,M),se.apply(this,[B,M])};var pe=ne.removeEventListener;ne.removeEventListener=function(B,N){if(B!==P||!this._eventMap||!this._eventMap[P])return pe.apply(this,arguments);if(!this._eventMap[P].has(N))return pe.apply(this,arguments);var M=this._eventMap[P].get(N);return this._eventMap[P].delete(N),this._eventMap[P].size===0&&delete this._eventMap[P],Object.keys(this._eventMap).length===0&&delete this._eventMap,pe.apply(this,[B,M])},Object.defineProperty(ne,"on"+P,{get:function(){return this["_on"+P]},set:function(N){this["_on"+P]&&(this.removeEventListener(P,this["_on"+P]),delete this["_on"+P]),N&&this.addEventListener(P,this["_on"+P]=N)},enumerable:!0,configurable:!0})}}function p(x){return typeof x!="boolean"?new Error("Argument type: "+i(x)+". Please use a boolean."):(a=x,x?"adapter.js logging disabled":"adapter.js logging enabled")}function m(x){return typeof x!="boolean"?new Error("Argument type: "+i(x)+". Please use a boolean."):(l=!x,"adapter.js deprecation warnings "+(x?"disabled":"enabled"))}function _(){if((typeof window>"u"?"undefined":i(window))==="object"){if(a)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function T(x,P){l&&console.warn(x+" is deprecated, please use "+P+" instead.")}function b(x){var P={browser:null,version:null};if(typeof x>"u"||!x.navigator||!x.navigator.userAgent)return P.browser="Not a browser.",P;var j=x.navigator;if(j.userAgentData&&j.userAgentData.brands){var ne=j.userAgentData.brands.find(function(se){return se.brand==="Chromium"});if(ne)return{browser:"chrome",version:parseInt(ne.version,10)}}if(j.mozGetUserMedia)P.browser="firefox",P.version=u(j.userAgent,/Firefox\/(\d+)\./,1);else if(j.webkitGetUserMedia||x.isSecureContext===!1&&x.webkitRTCPeerConnection)P.browser="chrome",P.version=u(j.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(x.RTCPeerConnection&&j.userAgent.match(/AppleWebKit\/(\d+)\./))P.browser="safari",P.version=u(j.userAgent,/AppleWebKit\/(\d+)\./,1),P.supportsUnifiedPlan=x.RTCRtpTransceiver&&"currentDirection"in x.RTCRtpTransceiver.prototype;else return P.browser="Not a supported browser.",P;return P}function C(x){return Object.prototype.toString.call(x)==="[object Object]"}function I(x){return C(x)?Object.keys(x).reduce(function(P,j){var ne=C(x[j]),se=ne?I(x[j]):x[j],pe=ne&&!Object.keys(se).length;return se===void 0||pe?P:Object.assign(P,n({},j,se))},{}):x}function L(x,P,j){!P||j.has(P.id)||(j.set(P.id,P),Object.keys(P).forEach(function(ne){ne.endsWith("Id")?L(x,x.get(P[ne]),j):ne.endsWith("Ids")&&P[ne].forEach(function(se){L(x,x.get(se),j)})}))}function O(x,P,j){var ne=j?"outbound-rtp":"inbound-rtp",se=new Map;if(P===null)return se;var pe=[];return x.forEach(function(B){B.type==="track"&&B.trackIdentifier===P.id&&pe.push(B)}),pe.forEach(function(B){x.forEach(function(N){N.type===ne&&N.trackId===B.id&&L(x,N,se)})}),se}return Hi}var tC;function gF(){if(tC)return od;tC=1,Object.defineProperty(od,"__esModule",{value:!0}),od.shimGetUserMedia=l;var n=t(zp());function e(u){if(typeof WeakMap!="function")return null;var f=new WeakMap,p=new WeakMap;return(e=function(_){return _?p:f})(u)}function t(u,f){if(u&&u.__esModule)return u;if(u===null||i(u)!="object"&&typeof u!="function")return{default:u};var p=e(f);if(p&&p.has(u))return p.get(u);var m={__proto__:null},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in u)if(T!=="default"&&{}.hasOwnProperty.call(u,T)){var b=_?Object.getOwnPropertyDescriptor(u,T):null;b&&(b.get||b.set)?Object.defineProperty(m,T,b):m[T]=u[T]}return m.default=u,p&&p.set(u,m),m}function i(u){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},i(u)}var a=n.log;function l(u,f){var p=u&&u.navigator;if(p.mediaDevices){var m=function(L){if(i(L)!=="object"||L.mandatory||L.optional)return L;var O={};return Object.keys(L).forEach(function(x){if(!(x==="require"||x==="advanced"||x==="mediaSource")){var P=i(L[x])==="object"?L[x]:{ideal:L[x]};P.exact!==void 0&&typeof P.exact=="number"&&(P.min=P.max=P.exact);var j=function(pe,B){return pe?pe+B.charAt(0).toUpperCase()+B.slice(1):B==="deviceId"?"sourceId":B};if(P.ideal!==void 0){O.optional=O.optional||[];var ne={};typeof P.ideal=="number"?(ne[j("min",x)]=P.ideal,O.optional.push(ne),ne={},ne[j("max",x)]=P.ideal,O.optional.push(ne)):(ne[j("",x)]=P.ideal,O.optional.push(ne))}P.exact!==void 0&&typeof P.exact!="number"?(O.mandatory=O.mandatory||{},O.mandatory[j("",x)]=P.exact):["min","max"].forEach(function(se){P[se]!==void 0&&(O.mandatory=O.mandatory||{},O.mandatory[j(se,x)]=P[se])})}}),L.advanced&&(O.optional=(O.optional||[]).concat(L.advanced)),O},_=function(L,O){if(f.version>=61)return O(L);if(L=JSON.parse(JSON.stringify(L)),L&&i(L.audio)==="object"){var x=function(pe,B,N){B in pe&&!(N in pe)&&(pe[N]=pe[B],delete pe[B])};L=JSON.parse(JSON.stringify(L)),x(L.audio,"autoGainControl","googAutoGainControl"),x(L.audio,"noiseSuppression","googNoiseSuppression"),L.audio=m(L.audio)}if(L&&i(L.video)==="object"){var P=L.video.facingMode;P=P&&(i(P)==="object"?P:{ideal:P});var j=f.version<66;if(P&&(P.exact==="user"||P.exact==="environment"||P.ideal==="user"||P.ideal==="environment")&&!(p.mediaDevices.getSupportedConstraints&&p.mediaDevices.getSupportedConstraints().facingMode&&!j)){delete L.video.facingMode;var ne;if(P.exact==="environment"||P.ideal==="environment"?ne=["back","rear"]:(P.exact==="user"||P.ideal==="user")&&(ne=["front"]),ne)return p.mediaDevices.enumerateDevices().then(function(se){se=se.filter(function(B){return B.kind==="videoinput"});var pe=se.find(function(B){return ne.some(function(N){return B.label.toLowerCase().includes(N)})});return!pe&&se.length&&ne.includes("back")&&(pe=se[se.length-1]),pe&&(L.video.deviceId=P.exact?{exact:pe.deviceId}:{ideal:pe.deviceId}),L.video=m(L.video),a("chrome: "+JSON.stringify(L)),O(L)})}L.video=m(L.video)}return a("chrome: "+JSON.stringify(L)),O(L)},T=function(L){return f.version>=64?L:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[L.name]||L.name,message:L.message,constraint:L.constraint||L.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},b=function(L,O,x){_(L,function(P){p.webkitGetUserMedia(P,O,function(j){x&&x(T(j))})})};if(p.getUserMedia=b.bind(p),p.mediaDevices.getUserMedia){var C=p.mediaDevices.getUserMedia.bind(p.mediaDevices);p.mediaDevices.getUserMedia=function(I){return _(I,function(L){return C(L).then(function(O){if(L.audio&&!O.getAudioTracks().length||L.video&&!O.getVideoTracks().length)throw O.getTracks().forEach(function(x){x.stop()}),new DOMException("","NotFoundError");return O},function(O){return Promise.reject(T(O))})})}}}}return od}var yF=gF(),ld={},nC;function _F(){if(nC)return ld;nC=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.shimGetUserMedia=a;var n=t(zp());function e(l){if(typeof WeakMap!="function")return null;var u=new WeakMap,f=new WeakMap;return(e=function(m){return m?f:u})(l)}function t(l,u){if(l&&l.__esModule)return l;if(l===null||i(l)!="object"&&typeof l!="function")return{default:l};var f=e(u);if(f&&f.has(l))return f.get(l);var p={__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in l)if(_!=="default"&&{}.hasOwnProperty.call(l,_)){var T=m?Object.getOwnPropertyDescriptor(l,_):null;T&&(T.get||T.set)?Object.defineProperty(p,_,T):p[_]=l[_]}return p.default=l,f&&f.set(l,p),p}function i(l){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},i(l)}function a(l,u){var f=l&&l.navigator,p=l&&l.MediaStreamTrack;if(f.getUserMedia=function(C,I,L){n.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),f.mediaDevices.getUserMedia(C).then(I,L)},!(u.version>55&&"autoGainControl"in f.mediaDevices.getSupportedConstraints())){var m=function(I,L,O){L in I&&!(O in I)&&(I[O]=I[L],delete I[L])},_=f.mediaDevices.getUserMedia.bind(f.mediaDevices);if(f.mediaDevices.getUserMedia=function(C){return i(C)==="object"&&i(C.audio)==="object"&&(C=JSON.parse(JSON.stringify(C)),m(C.audio,"autoGainControl","mozAutoGainControl"),m(C.audio,"noiseSuppression","mozNoiseSuppression")),_(C)},p&&p.prototype.getSettings){var T=p.prototype.getSettings;p.prototype.getSettings=function(){var C=T.apply(this,arguments);return m(C,"mozAutoGainControl","autoGainControl"),m(C,"mozNoiseSuppression","noiseSuppression"),C}}if(p&&p.prototype.applyConstraints){var b=p.prototype.applyConstraints;p.prototype.applyConstraints=function(C){return this.kind==="audio"&&i(C)==="object"&&(C=JSON.parse(JSON.stringify(C)),m(C,"autoGainControl","mozAutoGainControl"),m(C,"noiseSuppression","mozNoiseSuppression")),b.apply(this,[C])}}}}return ld}var vF=_F(),cr={},iC;function EF(){if(iC)return cr;iC=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.shimAudioContext=b,cr.shimCallbacksAPI=u,cr.shimConstraints=p,cr.shimCreateOfferLegacy=T,cr.shimGetUserMedia=f,cr.shimLocalStreamsAPI=a,cr.shimRTCIceServerUrls=m,cr.shimRemoteStreamsAPI=l,cr.shimTrackEventTransceiver=_;var n=t(zp());function e(C){if(typeof WeakMap!="function")return null;var I=new WeakMap,L=new WeakMap;return(e=function(x){return x?L:I})(C)}function t(C,I){if(C&&C.__esModule)return C;if(C===null||i(C)!="object"&&typeof C!="function")return{default:C};var L=e(I);if(L&&L.has(C))return L.get(C);var O={__proto__:null},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in C)if(P!=="default"&&{}.hasOwnProperty.call(C,P)){var j=x?Object.getOwnPropertyDescriptor(C,P):null;j&&(j.get||j.set)?Object.defineProperty(O,P,j):O[P]=C[P]}return O.default=C,L&&L.set(C,O),O}function i(C){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},i(C)}function a(C){if(!(i(C)!=="object"||!C.RTCPeerConnection)){if("getLocalStreams"in C.RTCPeerConnection.prototype||(C.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in C.RTCPeerConnection.prototype)){var I=C.RTCPeerConnection.prototype.addTrack;C.RTCPeerConnection.prototype.addStream=function(O){var x=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(O)||this._localStreams.push(O),O.getAudioTracks().forEach(function(P){return I.call(x,P,O)}),O.getVideoTracks().forEach(function(P){return I.call(x,P,O)})},C.RTCPeerConnection.prototype.addTrack=function(O){for(var x=this,P=arguments.length,j=new Array(P>1?P-1:0),ne=1;ne<P;ne++)j[ne-1]=arguments[ne];return j&&j.forEach(function(se){x._localStreams?x._localStreams.includes(se)||x._localStreams.push(se):x._localStreams=[se]}),I.apply(this,arguments)}}"removeStream"in C.RTCPeerConnection.prototype||(C.RTCPeerConnection.prototype.removeStream=function(O){var x=this;this._localStreams||(this._localStreams=[]);var P=this._localStreams.indexOf(O);if(P!==-1){this._localStreams.splice(P,1);var j=O.getTracks();this.getSenders().forEach(function(ne){j.includes(ne.track)&&x.removeTrack(ne)})}})}}function l(C){if(!(i(C)!=="object"||!C.RTCPeerConnection)&&("getRemoteStreams"in C.RTCPeerConnection.prototype||(C.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in C.RTCPeerConnection.prototype))){Object.defineProperty(C.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(O){var x=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=O),this.addEventListener("track",this._onaddstreampoly=function(P){P.streams.forEach(function(j){if(x._remoteStreams||(x._remoteStreams=[]),!x._remoteStreams.includes(j)){x._remoteStreams.push(j);var ne=new Event("addstream");ne.stream=j,x.dispatchEvent(ne)}})})}});var I=C.RTCPeerConnection.prototype.setRemoteDescription;C.RTCPeerConnection.prototype.setRemoteDescription=function(){var O=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(x){x.streams.forEach(function(P){if(O._remoteStreams||(O._remoteStreams=[]),!(O._remoteStreams.indexOf(P)>=0)){O._remoteStreams.push(P);var j=new Event("addstream");j.stream=P,O.dispatchEvent(j)}})}),I.apply(O,arguments)}}}function u(C){if(!(i(C)!=="object"||!C.RTCPeerConnection)){var I=C.RTCPeerConnection.prototype,L=I.createOffer,O=I.createAnswer,x=I.setLocalDescription,P=I.setRemoteDescription,j=I.addIceCandidate;I.createOffer=function(pe,B){var N=arguments.length>=2?arguments[2]:arguments[0],M=L.apply(this,[N]);return B?(M.then(pe,B),Promise.resolve()):M},I.createAnswer=function(pe,B){var N=arguments.length>=2?arguments[2]:arguments[0],M=O.apply(this,[N]);return B?(M.then(pe,B),Promise.resolve()):M};var ne=function(pe,B,N){var M=x.apply(this,[pe]);return N?(M.then(B,N),Promise.resolve()):M};I.setLocalDescription=ne,ne=function(pe,B,N){var M=P.apply(this,[pe]);return N?(M.then(B,N),Promise.resolve()):M},I.setRemoteDescription=ne,ne=function(pe,B,N){var M=j.apply(this,[pe]);return N?(M.then(B,N),Promise.resolve()):M},I.addIceCandidate=ne}}function f(C){var I=C&&C.navigator;if(I.mediaDevices&&I.mediaDevices.getUserMedia){var L=I.mediaDevices,O=L.getUserMedia.bind(L);I.mediaDevices.getUserMedia=function(x){return O(p(x))}}!I.getUserMedia&&I.mediaDevices&&I.mediaDevices.getUserMedia&&(I.getUserMedia=(function(P,j,ne){I.mediaDevices.getUserMedia(P).then(j,ne)}).bind(I))}function p(C){return C&&C.video!==void 0?Object.assign({},C,{video:n.compactObject(C.video)}):C}function m(C){if(C.RTCPeerConnection){var I=C.RTCPeerConnection;C.RTCPeerConnection=function(O,x){if(O&&O.iceServers){for(var P=[],j=0;j<O.iceServers.length;j++){var ne=O.iceServers[j];ne.urls===void 0&&ne.url?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),ne=JSON.parse(JSON.stringify(ne)),ne.urls=ne.url,delete ne.url,P.push(ne)):P.push(O.iceServers[j])}O.iceServers=P}return new I(O,x)},C.RTCPeerConnection.prototype=I.prototype,"generateCertificate"in I&&Object.defineProperty(C.RTCPeerConnection,"generateCertificate",{get:function(){return I.generateCertificate}})}}function _(C){i(C)==="object"&&C.RTCTrackEvent&&"receiver"in C.RTCTrackEvent.prototype&&!("transceiver"in C.RTCTrackEvent.prototype)&&Object.defineProperty(C.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function T(C){var I=C.RTCPeerConnection.prototype.createOffer;C.RTCPeerConnection.prototype.createOffer=function(O){if(O){typeof O.offerToReceiveAudio<"u"&&(O.offerToReceiveAudio=!!O.offerToReceiveAudio);var x=this.getTransceivers().find(function(j){return j.receiver.track.kind==="audio"});O.offerToReceiveAudio===!1&&x?x.direction==="sendrecv"?x.setDirection?x.setDirection("sendonly"):x.direction="sendonly":x.direction==="recvonly"&&(x.setDirection?x.setDirection("inactive"):x.direction="inactive"):O.offerToReceiveAudio===!0&&!x&&this.addTransceiver("audio",{direction:"recvonly"}),typeof O.offerToReceiveVideo<"u"&&(O.offerToReceiveVideo=!!O.offerToReceiveVideo);var P=this.getTransceivers().find(function(j){return j.receiver.track.kind==="video"});O.offerToReceiveVideo===!1&&P?P.direction==="sendrecv"?P.setDirection?P.setDirection("sendonly"):P.direction="sendonly":P.direction==="recvonly"&&(P.setDirection?P.setDirection("inactive"):P.direction="inactive"):O.offerToReceiveVideo===!0&&!P&&this.addTransceiver("video",{direction:"recvonly"})}return I.apply(this,arguments)}}function b(C){i(C)!=="object"||C.AudioContext||(C.AudioContext=C.webkitAudioContext)}return cr}var wF=EF(),TF=zp(),mI=n=>{throw TypeError(n)},gI=(n,e,t)=>e.has(n)||mI("Cannot "+t),AF=(n,e,t)=>(gI(n,e,"read from private field"),t?t.call(n):e.get(n)),CF=(n,e,t)=>e.has(n)?mI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),bF=(n,e,t,i)=>(gI(n,e,"write to private field"),e.set(n,t),t);const Qp=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Kp=Qp.map(([n])=>n),SF=Kp.filter((n,e)=>Qp[e][1]==="L"),RF=Kp.filter((n,e)=>Qp[e][1]==="M");function o_(n){switch(n){case"Linear-Codes":return SF.reduce((e,t)=>e|o_(t),0);case"Matrix-Codes":return RF.reduce((e,t)=>e|o_(t),0);case"Any":return(1<<Qp.length)-1;case"None":return 0;default:return 1<<Kp.indexOf(n)}}function IF(n){if(n===0)return"None";const e=31-Math.clz32(n);return Kp[e]}function DF(n){return n.reduce((e,t)=>e|o_(t),0)}const NF=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function MF(n){return NF.indexOf(n)}const rC=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function OF(n){return n==="UnicodeBig"?rC.indexOf("UTF16BE"):rC.indexOf(n)}const xF=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function kF(n){return xF[n]}const PF=["Ignore","Read","Require"];function LF(n){return PF.indexOf(n)}const BF=["Plain","ECI","HRI","Hex","Escaped"];function VF(n){return BF.indexOf(n)}const ap={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function sC(n){return{...n,formats:DF(n.formats),binarizer:MF(n.binarizer),eanAddOnSymbol:LF(n.eanAddOnSymbol),textMode:VF(n.textMode),characterSet:OF(n.characterSet)}}function UF(n){return{...n,format:IF(n.format),contentType:kF(n.contentType),eccLevel:n.ecLevel}}const FF={locateFile:(n,e)=>{const t=n.match(/_(.+?)\.wasm$/);return t?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.0/dist/${t[1]}/${n}`:e+n}},cy=new WeakMap;function qF(n,e){return Object.is(n,e)||Object.keys(n).length===Object.keys(e).length&&Object.keys(n).every(t=>Object.prototype.hasOwnProperty.call(e,t)&&n[t]===e[t])}function yI(n,{overrides:e,equalityFn:t=qF,fireImmediately:i=!1}={}){var a;const[l,u]=(a=cy.get(n))!=null?a:[FF],f=e??l;let p;if(i){if(u&&(p=t(l,f)))return u;const m=n({...f});return cy.set(n,[f,m]),m}(p??t(l,f))||cy.set(n,[f])}async function GF(n,e,t=ap){const i={...ap,...t},a=await yI(n,{fireImmediately:!0});let l,u;if("width"in e&&"height"in e&&"data"in e){const{data:p,data:{byteLength:m},width:_,height:T}=e;u=a._malloc(m),a.HEAPU8.set(p,u),l=a.readBarcodesFromPixmap(u,_,T,sC(i))}else{let p,m;if("buffer"in e)[p,m]=[e.byteLength,e];else if("byteLength"in e)[p,m]=[e.byteLength,new Uint8Array(e)];else if("size"in e)[p,m]=[e.size,new Uint8Array(await e.arrayBuffer())];else throw new TypeError("Invalid input type");u=a._malloc(p),a.HEAPU8.set(m,u),l=a.readBarcodesFromImage(u,p,sC(i))}a._free(u);const f=[];for(let p=0;p<l.size();++p)f.push(UF(l.get(p)));return f}({...ap,formats:[...ap.formats]});var _I=(()=>{var n,e=typeof document<"u"&&((n=document.currentScript)==null?void 0:n.tagName.toUpperCase())==="SCRIPT"?document.currentScript.src:void 0;return function(t={}){var i,a=t,l,u,f=new Promise((v,E)=>{l=v,u=E}),p=typeof window=="object",m=typeof Bun<"u",_=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var T=Object.assign({},a),b="./this.program",C="";function I(v){return a.locateFile?a.locateFile(v,C):C+v}var L,O;if(p||_||m){var x;_?C=self.location.href:typeof document<"u"&&((x=document.currentScript)===null||x===void 0?void 0:x.tagName.toUpperCase())==="SCRIPT"&&(C=document.currentScript.src),e&&(C=e),C.startsWith("blob:")?C="":C=C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1),_&&(O=v=>{var E=new XMLHttpRequest;return E.open("GET",v,!1),E.responseType="arraybuffer",E.send(null),new Uint8Array(E.response)}),L=async v=>{var E=await fetch(v,{credentials:"same-origin"});if(E.ok)return E.arrayBuffer();throw new Error(E.status+" : "+E.url)}}var P=a.print||console.log.bind(console),j=a.printErr||console.error.bind(console);Object.assign(a,T),T=null,a.arguments&&a.arguments,a.thisProgram&&(b=a.thisProgram);var ne=a.wasmBinary,se,pe=!1,B,N,M,U,H,Y,F,Le;function Ge(){var v=se.buffer;a.HEAP8=B=new Int8Array(v),a.HEAP16=M=new Int16Array(v),a.HEAPU8=N=new Uint8Array(v),a.HEAPU16=U=new Uint16Array(v),a.HEAP32=H=new Int32Array(v),a.HEAPU32=Y=new Uint32Array(v),a.HEAPF32=F=new Float32Array(v),a.HEAPF64=Le=new Float64Array(v)}var oe=[],Ce=[],Te=[];function Pe(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Se(a.preRun.shift());Di(oe)}function q(){Di(Ce)}function ce(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)we(a.postRun.shift());Di(Te)}function Se(v){oe.unshift(v)}function Ae(v){Ce.unshift(v)}function we(v){Te.unshift(v)}var Ne=0,me=null;function ke(v){var E;Ne++,(E=a.monitorRunDependencies)===null||E===void 0||E.call(a,Ne)}function Me(v){var E;if(Ne--,(E=a.monitorRunDependencies)===null||E===void 0||E.call(a,Ne),Ne==0&&me){var S=me;me=null,S()}}function je(v){var E;(E=a.onAbort)===null||E===void 0||E.call(a,v),v="Aborted("+v+")",j(v),pe=!0,v+=". Build with -sASSERTIONS for more info.";var S=new WebAssembly.RuntimeError(v);throw u(S),S}var Qe="data:application/octet-stream;base64,",Tt=v=>v.startsWith(Qe);function It(){var v="zxing_reader.wasm";return Tt(v)?v:I(v)}var xt;function qn(v){if(v==xt&&ne)return new Uint8Array(ne);if(O)return O(v);throw"both async and sync fetching of the wasm failed"}async function Gn(v){if(!ne)try{var E=await L(v);return new Uint8Array(E)}catch{}return qn(v)}async function fn(v,E){try{var S=await Gn(v),k=await WebAssembly.instantiate(S,E);return k}catch(G){j(`failed to asynchronously prepare wasm: ${G}`),je(G)}}async function Xt(v,E,S){if(!v&&typeof WebAssembly.instantiateStreaming=="function"&&!Tt(E)&&typeof fetch=="function")try{var k=fetch(E,{credentials:"same-origin"}),G=await WebAssembly.instantiateStreaming(k,S);return G}catch(z){j(`wasm streaming compile failed: ${z}`),j("falling back to ArrayBuffer instantiation")}return fn(E,S)}function Pr(){return{a:Rn}}async function Lr(){var v;function E(z,$){return gt=z.exports,se=gt.xa,Ge(),Gt=gt.Ba,Ae(gt.ya),Me(),gt}ke();function S(z){E(z.instance)}var k=Pr();if(a.instantiateWasm)try{return a.instantiateWasm(k,E)}catch(z){j(`Module.instantiateWasm callback failed with error: ${z}`),u(z)}(v=xt)!==null&&v!==void 0||(xt=It());try{var G=await Xt(ne,xt,k);return S(G),G}catch(z){u(z);return}}var Di=v=>{for(;v.length>0;)v.shift()(a)};a.noExitRuntime;var Ke=v=>zu(v),nt=()=>Qu(),Qi=[],Tn=0,cl=v=>{var E=new Ni(v);return E.get_caught()||(E.set_caught(!0),Tn--),E.set_rethrown(!1),Qi.push(E),Hh(v),Yu(v)},Dt=0,dn=()=>{it(0,0);var v=Qi.pop();Ku(v.excPtr),Dt=0};class Ni{constructor(E){this.excPtr=E,this.ptr=E-24}set_type(E){Y[this.ptr+4>>2]=E}get_type(){return Y[this.ptr+4>>2]}set_destructor(E){Y[this.ptr+8>>2]=E}get_destructor(){return Y[this.ptr+8>>2]}set_caught(E){E=E?1:0,B[this.ptr+12]=E}get_caught(){return B[this.ptr+12]!=0}set_rethrown(E){E=E?1:0,B[this.ptr+13]=E}get_rethrown(){return B[this.ptr+13]!=0}init(E,S){this.set_adjusted_ptr(0),this.set_type(E),this.set_destructor(S)}set_adjusted_ptr(E){Y[this.ptr+16>>2]=E}get_adjusted_ptr(){return Y[this.ptr+16>>2]}}var hl=v=>{throw Dt||(Dt=v),Dt},Br=v=>Il(v),so=v=>{var E=Dt;if(!E)return Br(0),0;var S=new Ni(E);S.set_adjusted_ptr(E);var k=S.get_type();if(!k)return Br(0),E;for(var G of v){if(G===0||G===k)break;var z=S.ptr+16;if(Yh(G,k,z))return Br(G),E}return Br(k),E},fs=()=>so([]),Vr=v=>so([v]),On=(v,E)=>so([v,E]),ao=()=>{var v=Qi.pop();v||je("no exception to throw");var E=v.excPtr;throw v.get_rethrown()||(Qi.push(v),v.set_rethrown(!0),v.set_caught(!1),Tn++),Dt=E,Dt},Ki=(v,E,S)=>{var k=new Ni(v);throw k.init(E,S),Dt=v,Tn++,Dt},jn=()=>Tn,oo=()=>je(""),ds={},Ws=v=>{for(;v.length;){var E=v.pop(),S=v.pop();S(E)}};function $n(v){return this.fromWireType(Y[v>>2])}var ui={},An={},Hn={},dr,pr=v=>{throw new dr(v)},Mi=(v,E,S)=>{v.forEach(W=>Hn[W]=E);function k(W){var le=S(W);le.length!==v.length&&pr("Mismatched type converter count");for(var ge=0;ge<v.length;++ge)Cn(v[ge],le[ge])}var G=new Array(E.length),z=[],$=0;E.forEach((W,le)=>{An.hasOwnProperty(W)?G[le]=An[W]:(z.push(W),ui.hasOwnProperty(W)||(ui[W]=[]),ui[W].push(()=>{G[le]=An[W],++$,$===z.length&&k(G)}))}),z.length===0&&k(G)},Ur=v=>{var E=ds[v];delete ds[v];var S=E.rawConstructor,k=E.rawDestructor,G=E.fields,z=G.map($=>$.getterReturnType).concat(G.map($=>$.setterArgumentType));Mi([v],z,$=>{var W={};return G.forEach((le,ge)=>{var _e=le.fieldName,Ie=$[ge],Ze=le.getter,$e=le.getterContext,yt=$[ge+G.length],kt=le.setter,zt=le.setterContext;W[_e]={read:Ht=>Ie.fromWireType(Ze($e,Ht)),write:(Ht,Sr)=>{var St=[];kt(zt,Ht,yt.toWireType(St,Sr)),Ws(St)}}}),[{name:E.name,fromWireType:le=>{var ge={};for(var _e in W)ge[_e]=W[_e].read(le);return k(le),ge},toWireType:(le,ge)=>{for(var _e in W)if(!(_e in ge))throw new TypeError(`Missing field: "${_e}"`);var Ie=S();for(_e in W)W[_e].write(Ie,ge[_e]);return le!==null&&le.push(k,Ie),Ie},argPackAdvance:pn,readValueFromPointer:$n,destructorFunction:k}]})},Js=(v,E,S,k,G)=>{},Yt=()=>{for(var v=new Array(256),E=0;E<256;++E)v[E]=String.fromCharCode(E);lo=v},lo,jt=v=>{for(var E="",S=v;N[S];)E+=lo[N[S++]];return E},ci,ft=v=>{throw new ci(v)};function fl(v,E){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var k=E.name;if(v||ft(`type "${k}" must have a positive integer typeid pointer`),An.hasOwnProperty(v)){if(S.ignoreDuplicateRegistrations)return;ft(`Cannot register type '${k}' twice`)}if(An[v]=E,delete Hn[v],ui.hasOwnProperty(v)){var G=ui[v];delete ui[v],G.forEach(z=>z())}}function Cn(v,E){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return fl(v,E,S)}var pn=8,mn=(v,E,S,k)=>{E=jt(E),Cn(v,{name:E,fromWireType:function(G){return!!G},toWireType:function(G,z){return z?S:k},argPackAdvance:pn,readValueFromPointer:function(G){return this.fromWireType(N[G])},destructorFunction:null})},an=v=>({count:v.count,deleteScheduled:v.deleteScheduled,preservePointerOnDelete:v.preservePointerOnDelete,ptr:v.ptr,ptrType:v.ptrType,smartPtr:v.smartPtr,smartPtrType:v.smartPtrType}),Oi=v=>{function E(S){return S.$$.ptrType.registeredClass.name}ft(E(v)+" instance already deleted")},mr=!1,ps=v=>{},Wi=v=>{v.smartPtr?v.smartPtrType.rawDestructor(v.smartPtr):v.ptrType.registeredClass.rawDestructor(v.ptr)},Xs=v=>{v.count.value-=1;var E=v.count.value===0;E&&Wi(v)},gr=(v,E,S)=>{if(E===S)return v;if(S.baseClass===void 0)return null;var k=gr(v,E,S.baseClass);return k===null?null:S.downcast(k)},Fr={},xi={},yr=(v,E)=>{for(E===void 0&&ft("ptr should not be undefined");v.baseClass;)E=v.upcast(E),v=v.baseClass;return E},qr=(v,E)=>(E=yr(v,E),xi[E]),ki=(v,E)=>{(!E.ptrType||!E.ptr)&&pr("makeClassHandle requires ptr and ptrType");var S=!!E.smartPtrType,k=!!E.smartPtr;return S!==k&&pr("Both smartPtrType and smartPtr must be specified"),E.count={value:1},_r(Object.create(v,{$$:{value:E,writable:!0}}))};function qt(v){var E=this.getPointee(v);if(!E)return this.destructor(v),null;var S=qr(this.registeredClass,E);if(S!==void 0){if(S.$$.count.value===0)return S.$$.ptr=E,S.$$.smartPtr=v,S.clone();var k=S.clone();return this.destructor(v),k}function G(){return this.isSmartPointer?ki(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:E,smartPtrType:this,smartPtr:v}):ki(this.registeredClass.instancePrototype,{ptrType:this,ptr:v})}var z=this.registeredClass.getActualType(E),$=Fr[z];if(!$)return G.call(this);var W;this.isConst?W=$.constPointerType:W=$.pointerType;var le=gr(E,this.registeredClass,W.registeredClass);return le===null?G.call(this):this.isSmartPointer?ki(W.registeredClass.instancePrototype,{ptrType:W,ptr:le,smartPtrType:this,smartPtr:v}):ki(W.registeredClass.instancePrototype,{ptrType:W,ptr:le})}var _r=v=>typeof FinalizationRegistry>"u"?(_r=E=>E,v):(mr=new FinalizationRegistry(E=>{Xs(E.$$)}),_r=E=>{var S=E.$$,k=!!S.smartPtr;if(k){var G={$$:S};mr.register(E,G,E)}return E},ps=E=>mr.unregister(E),_r(v)),Zs=()=>{Object.assign(xn.prototype,{isAliasOf(v){if(!(this instanceof xn)||!(v instanceof xn))return!1;var E=this.$$.ptrType.registeredClass,S=this.$$.ptr;v.$$=v.$$;for(var k=v.$$.ptrType.registeredClass,G=v.$$.ptr;E.baseClass;)S=E.upcast(S),E=E.baseClass;for(;k.baseClass;)G=k.upcast(G),k=k.baseClass;return E===k&&S===G},clone(){if(this.$$.ptr||Oi(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var v=_r(Object.create(Object.getPrototypeOf(this),{$$:{value:an(this.$$)}}));return v.$$.count.value+=1,v.$$.deleteScheduled=!1,v},delete(){this.$$.ptr||Oi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ft("Object already scheduled for deletion"),ps(this),Xs(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Oi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ft("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}})};function xn(){}var bn=(v,E)=>Object.defineProperty(E,"name",{value:v}),ei=(v,E,S)=>{if(v[E].overloadTable===void 0){var k=v[E];v[E]=function(){for(var G=arguments.length,z=new Array(G),$=0;$<G;$++)z[$]=arguments[$];return v[E].overloadTable.hasOwnProperty(z.length)||ft(`Function '${S}' called with an invalid number of arguments (${z.length}) - expects one of (${v[E].overloadTable})!`),v[E].overloadTable[z.length].apply(this,z)},v[E].overloadTable=[],v[E].overloadTable[k.argCount]=k}},dl=(v,E,S)=>{a.hasOwnProperty(v)?((S===void 0||a[v].overloadTable!==void 0&&a[v].overloadTable[S]!==void 0)&&ft(`Cannot register public name '${v}' twice`),ei(a,v,v),a[v].overloadTable.hasOwnProperty(S)&&ft(`Cannot register multiple overloads of a function with the same number of arguments (${S})!`),a[v].overloadTable[S]=E):(a[v]=E,a[v].argCount=S)},uo=48,co=57,pl=v=>{v=v.replace(/[^a-zA-Z0-9_]/g,"$");var E=v.charCodeAt(0);return E>=uo&&E<=co?`_${v}`:v};function Gr(v,E,S,k,G,z,$,W){this.name=v,this.constructor=E,this.instancePrototype=S,this.rawDestructor=k,this.baseClass=G,this.getActualType=z,this.upcast=$,this.downcast=W,this.pureVirtualFunctions=[]}var Ji=(v,E,S)=>{for(;E!==S;)E.upcast||ft(`Expected null or instance of ${S.name}, got an instance of ${E.name}`),v=E.upcast(v),E=E.baseClass;return v};function gi(v,E){if(E===null)return this.isReference&&ft(`null is not a valid ${this.name}`),0;E.$$||ft(`Cannot pass "${wr(E)}" as a ${this.name}`),E.$$.ptr||ft(`Cannot pass deleted object as a pointer of type ${this.name}`);var S=E.$$.ptrType.registeredClass,k=Ji(E.$$.ptr,S,this.registeredClass);return k}function Yn(v,E){var S;if(E===null)return this.isReference&&ft(`null is not a valid ${this.name}`),this.isSmartPointer?(S=this.rawConstructor(),v!==null&&v.push(this.rawDestructor,S),S):0;(!E||!E.$$)&&ft(`Cannot pass "${wr(E)}" as a ${this.name}`),E.$$.ptr||ft(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&E.$$.ptrType.isConst&&ft(`Cannot convert argument of type ${E.$$.smartPtrType?E.$$.smartPtrType.name:E.$$.ptrType.name} to parameter type ${this.name}`);var k=E.$$.ptrType.registeredClass;if(S=Ji(E.$$.ptr,k,this.registeredClass),this.isSmartPointer)switch(E.$$.smartPtr===void 0&&ft("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:E.$$.smartPtrType===this?S=E.$$.smartPtr:ft(`Cannot convert argument of type ${E.$$.smartPtrType?E.$$.smartPtrType.name:E.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:S=E.$$.smartPtr;break;case 2:if(E.$$.smartPtrType===this)S=E.$$.smartPtr;else{var G=E.clone();S=this.rawShare(S,vi.toHandle(()=>G.delete())),v!==null&&v.push(this.rawDestructor,S)}break;default:ft("Unsupporting sharing policy")}return S}function ml(v,E){if(E===null)return this.isReference&&ft(`null is not a valid ${this.name}`),0;E.$$||ft(`Cannot pass "${wr(E)}" as a ${this.name}`),E.$$.ptr||ft(`Cannot pass deleted object as a pointer of type ${this.name}`),E.$$.ptrType.isConst&&ft(`Cannot convert argument of type ${E.$$.ptrType.name} to parameter type ${this.name}`);var S=E.$$.ptrType.registeredClass,k=Ji(E.$$.ptr,S,this.registeredClass);return k}var qu=()=>{Object.assign(Xi.prototype,{getPointee(v){return this.rawGetPointee&&(v=this.rawGetPointee(v)),v},destructor(v){var E;(E=this.rawDestructor)===null||E===void 0||E.call(this,v)},argPackAdvance:pn,readValueFromPointer:$n,fromWireType:qt})};function Xi(v,E,S,k,G,z,$,W,le,ge,_e){this.name=v,this.registeredClass=E,this.isReference=S,this.isConst=k,this.isSmartPointer=G,this.pointeeType=z,this.sharingPolicy=$,this.rawGetPointee=W,this.rawConstructor=le,this.rawShare=ge,this.rawDestructor=_e,!G&&E.baseClass===void 0?k?(this.toWireType=gi,this.destructorFunction=null):(this.toWireType=ml,this.destructorFunction=null):this.toWireType=Yn}var $s=(v,E,S)=>{a.hasOwnProperty(v)||pr("Replacing nonexistent public symbol"),a[v].overloadTable!==void 0&&S!==void 0?a[v].overloadTable[S]=E:(a[v]=E,a[v].argCount=S)},ea=(v,E,S)=>{v=v.replace(/p/g,"i");var k=a["dynCall_"+v];return k(E,...S)},yi=[],Gt,We=v=>{var E=yi[v];return E||(v>=yi.length&&(yi.length=v+1),yi[v]=E=Gt.get(v)),E},ms=function(v,E){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(v.includes("j"))return ea(v,E,S);var k=We(E)(...S);return k},ta=(v,E)=>function(){for(var S=arguments.length,k=new Array(S),G=0;G<S;G++)k[G]=arguments[G];return ms(v,E,k)},He=(v,E)=>{v=jt(v);function S(){return v.includes("j")?ta(v,E):We(E)}var k=S();return typeof k!="function"&&ft(`unknown function pointer with signature ${v}: ${E}`),k},gs=(v,E)=>{var S=bn(E,function(k){this.name=E,this.message=k;var G=new Error(k).stack;G!==void 0&&(this.stack=this.toString()+`
`+G.replace(/^Error(:[^\n]*)?\n/,""))});return S.prototype=Object.create(v.prototype),S.prototype.constructor=S,S.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},S},vr,hi=v=>{var E=ca(v),S=jt(E);return Ti(E),S},na=(v,E)=>{var S=[],k={};function G(z){if(!k[z]&&!An[z]){if(Hn[z]){Hn[z].forEach(G);return}S.push(z),k[z]=!0}}throw E.forEach(G),new vr(`${v}: `+S.map(hi).join([", "]))},ho=(v,E,S,k,G,z,$,W,le,ge,_e,Ie,Ze)=>{_e=jt(_e),z=He(G,z),W&&(W=He($,W)),ge&&(ge=He(le,ge)),Ze=He(Ie,Ze);var $e=pl(_e);dl($e,function(){na(`Cannot construct ${_e} due to unbound types`,[k])}),Mi([v,E,S],k?[k]:[],yt=>{yt=yt[0];var kt,zt;k?(kt=yt.registeredClass,zt=kt.instancePrototype):zt=xn.prototype;var Ht=bn(_e,function(){if(Object.getPrototypeOf(this)!==Sr)throw new ci("Use 'new' to construct "+_e);if(St.constructor_body===void 0)throw new ci(_e+" has no accessible constructor");for(var Kr=arguments.length,So=new Array(Kr),Ro=0;Ro<Kr;Ro++)So[Ro]=arguments[Ro];var pa=St.constructor_body[So.length];if(pa===void 0)throw new ci(`Tried to invoke ctor of ${_e} with invalid number of parameters (${So.length}) - expected (${Object.keys(St.constructor_body).toString()}) parameters instead!`);return pa.apply(this,So)}),Sr=Object.create(zt,{constructor:{value:Ht}});Ht.prototype=Sr;var St=new Gr(_e,Ht,Sr,Ze,kt,z,W,ge);if(St.baseClass){var Pt,lt;(lt=(Pt=St.baseClass).__derivedClasses)!==null&&lt!==void 0||(Pt.__derivedClasses=[]),St.baseClass.__derivedClasses.push(St)}var Vi=new Xi(_e,St,!0,!1,!1),Ui=new Xi(_e+"*",St,!1,!1,!1),Ml=new Xi(_e+" const*",St,!1,!0,!1);return Fr[v]={pointerType:Ui,constPointerType:Ml},$s($e,Ht),[Vi,Ui,Ml]})},ia=(v,E)=>{for(var S=[],k=0;k<v;k++)S.push(Y[E+k*4>>2]);return S};function fo(v){for(var E=1;E<v.length;++E)if(v[E]!==null&&v[E].destructorFunction===void 0)return!0;return!1}function po(v,E,S,k,G,z){var $=E.length;$<2&&ft("argTypes array size mismatch! Must at least get return value and 'this' types!");var W=E[1]!==null&&S!==null,le=fo(E),ge=E[0].name!=="void",_e=$-2,Ie=new Array(_e),Ze=[],$e=[],yt=function(){$e.length=0;var kt;Ze.length=W?2:1,Ze[0]=G,W&&(kt=E[1].toWireType($e,this),Ze[1]=kt);for(var zt=0;zt<_e;++zt)Ie[zt]=E[zt+2].toWireType($e,zt<0||arguments.length<=zt?void 0:arguments[zt]),Ze.push(Ie[zt]);var Ht=k(...Ze);function Sr(St){if(le)Ws($e);else for(var Pt=W?1:2;Pt<E.length;Pt++){var lt=Pt===1?kt:Ie[Pt-2];E[Pt].destructorFunction!==null&&E[Pt].destructorFunction(lt)}if(ge)return E[0].fromWireType(St)}return Sr(Ht)};return bn(v,yt)}var Gu=(v,E,S,k,G,z)=>{var $=ia(E,S);G=He(k,G),Mi([],[v],W=>{W=W[0];var le=`constructor ${W.name}`;if(W.registeredClass.constructor_body===void 0&&(W.registeredClass.constructor_body=[]),W.registeredClass.constructor_body[E-1]!==void 0)throw new ci(`Cannot register multiple constructors with identical number of parameters (${E-1}) for class '${W.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return W.registeredClass.constructor_body[E-1]=()=>{na(`Cannot construct ${W.name} due to unbound types`,$)},Mi([],$,ge=>(ge.splice(1,0,null),W.registeredClass.constructor_body[E-1]=po(le,ge,null,G,z),[])),[]})},Pi=v=>{v=v.trim();const E=v.indexOf("(");return E!==-1?v.substr(0,E):v},_i=(v,E,S,k,G,z,$,W,le,ge)=>{var _e=ia(S,k);E=jt(E),E=Pi(E),z=He(G,z),Mi([],[v],Ie=>{Ie=Ie[0];var Ze=`${Ie.name}.${E}`;E.startsWith("@@")&&(E=Symbol[E.substring(2)]),W&&Ie.registeredClass.pureVirtualFunctions.push(E);function $e(){na(`Cannot call ${Ze} due to unbound types`,_e)}var yt=Ie.registeredClass.instancePrototype,kt=yt[E];return kt===void 0||kt.overloadTable===void 0&&kt.className!==Ie.name&&kt.argCount===S-2?($e.argCount=S-2,$e.className=Ie.name,yt[E]=$e):(ei(yt,E,Ze),yt[E].overloadTable[S-2]=$e),Mi([],_e,zt=>{var Ht=po(Ze,zt,Ie,z,$);return yt[E].overloadTable===void 0?(Ht.argCount=S-2,yt[E]=Ht):yt[E].overloadTable[S-2]=Ht,[]}),[]})},jr=[],Sn=[],Li=v=>{v>9&&--Sn[v+1]===0&&(Sn[v]=void 0,jr.push(v))},Er=()=>Sn.length/2-5-jr.length,mo=()=>{Sn.push(0,1,void 0,1,null,1,!0,1,!1,1),a.count_emval_handles=Er},vi={toValue:v=>(v||ft("Cannot use deleted val. handle = "+v),Sn[v]),toHandle:v=>{switch(v){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const E=jr.pop()||Sn.length;return Sn[E]=v,Sn[E+1]=1,E}}}},Hr={name:"emscripten::val",fromWireType:v=>{var E=vi.toValue(v);return Li(v),E},toWireType:(v,E)=>vi.toHandle(E),argPackAdvance:pn,readValueFromPointer:$n,destructorFunction:null},Ei=v=>Cn(v,Hr),wr=v=>{if(v===null)return"null";var E=typeof v;return E==="object"||E==="array"||E==="function"?v.toString():""+v},Zi=(v,E)=>{switch(E){case 4:return function(S){return this.fromWireType(F[S>>2])};case 8:return function(S){return this.fromWireType(Le[S>>3])};default:throw new TypeError(`invalid float width (${E}): ${v}`)}},Yr=(v,E,S)=>{E=jt(E),Cn(v,{name:E,fromWireType:k=>k,toWireType:(k,G)=>G,argPackAdvance:pn,readValueFromPointer:Zi(E,S),destructorFunction:null})},Tr=(v,E,S,k,G,z,$,W)=>{var le=ia(E,S);v=jt(v),v=Pi(v),G=He(k,G),dl(v,function(){na(`Cannot call ${v} due to unbound types`,le)},E-1),Mi([],le,ge=>{var _e=[ge[0],null].concat(ge.slice(1));return $s(v,po(v,_e,null,G,z),E-1),[]})},go=(v,E,S)=>{switch(E){case 1:return S?k=>B[k]:k=>N[k];case 2:return S?k=>M[k>>1]:k=>U[k>>1];case 4:return S?k=>H[k>>2]:k=>Y[k>>2];default:throw new TypeError(`invalid integer width (${E}): ${v}`)}},$i=(v,E,S,k,G)=>{E=jt(E);var z=_e=>_e;if(k===0){var $=32-8*S;z=_e=>_e<<$>>>$}var W=E.includes("unsigned"),le=(_e,Ie)=>{},ge;W?ge=function(_e,Ie){return le(Ie,this.name),Ie>>>0}:ge=function(_e,Ie){return le(Ie,this.name),Ie},Cn(v,{name:E,fromWireType:z,toWireType:ge,argPackAdvance:pn,readValueFromPointer:go(E,S,k!==0),destructorFunction:null})},er=(v,E,S)=>{var k=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],G=k[E];function z($){var W=Y[$>>2],le=Y[$+4>>2];return new G(B.buffer,le,W)}S=jt(S),Cn(v,{name:S,fromWireType:z,argPackAdvance:pn,readValueFromPointer:z},{ignoreDuplicateRegistrations:!0})},yo=Object.assign({optional:!0},Hr),gn=(v,E)=>{Cn(v,yo)},Ct=(v,E,S,k)=>{if(!(k>0))return 0;for(var G=S,z=S+k-1,$=0;$<v.length;++$){var W=v.charCodeAt($);if(W>=55296&&W<=57343){var le=v.charCodeAt(++$);W=65536+((W&1023)<<10)|le&1023}if(W<=127){if(S>=z)break;E[S++]=W}else if(W<=2047){if(S+1>=z)break;E[S++]=192|W>>6,E[S++]=128|W&63}else if(W<=65535){if(S+2>=z)break;E[S++]=224|W>>12,E[S++]=128|W>>6&63,E[S++]=128|W&63}else{if(S+3>=z)break;E[S++]=240|W>>18,E[S++]=128|W>>12&63,E[S++]=128|W>>6&63,E[S++]=128|W&63}}return E[S]=0,S-G},tr=(v,E,S)=>Ct(v,N,E,S),ys=v=>{for(var E=0,S=0;S<v.length;++S){var k=v.charCodeAt(S);k<=127?E++:k<=2047?E+=2:k>=55296&&k<=57343?(E+=4,++S):E+=3}return E},_o=typeof TextDecoder<"u"?new TextDecoder:void 0,_s=function(v){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var k=E+S,G=E;v[G]&&!(G>=k);)++G;if(G-E>16&&v.buffer&&_o)return _o.decode(v.subarray(E,G));for(var z="";E<G;){var $=v[E++];if(!($&128)){z+=String.fromCharCode($);continue}var W=v[E++]&63;if(($&224)==192){z+=String.fromCharCode(($&31)<<6|W);continue}var le=v[E++]&63;if(($&240)==224?$=($&15)<<12|W<<6|le:$=($&7)<<18|W<<12|le<<6|v[E++]&63,$<65536)z+=String.fromCharCode($);else{var ge=$-65536;z+=String.fromCharCode(55296|ge>>10,56320|ge&1023)}}return z},ra=(v,E)=>v?_s(N,v,E):"",nr=(v,E)=>{E=jt(E),Cn(v,{name:E,fromWireType(S){for(var k=Y[S>>2],G=S+4,z,W,$=G,W=0;W<=k;++W){var le=G+W;if(W==k||N[le]==0){var ge=le-$,_e=ra($,ge);z===void 0?z=_e:(z+="\0",z+=_e),$=le+1}}return Ti(S),z},toWireType(S,k){k instanceof ArrayBuffer&&(k=new Uint8Array(k));var G,z=typeof k=="string";z||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int8Array||ft("Cannot pass non-string to std::string"),z?G=ys(k):G=k.length;var $=Rl(4+G+1),W=$+4;if(Y[$>>2]=G,z)tr(k,W,G+1);else if(z)for(var le=0;le<G;++le){var ge=k.charCodeAt(le);ge>255&&(Ti(W),ft("String has UTF-16 code units that do not fit in 8 bits")),N[W+le]=ge}else for(var le=0;le<G;++le)N[W+le]=k[le];return S!==null&&S.push(Ti,$),$},argPackAdvance:pn,readValueFromPointer:$n,destructorFunction(S){Ti(S)}})},zr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,wi=(v,E)=>{for(var S=v,k=S>>1,G=k+E/2;!(k>=G)&&U[k];)++k;if(S=k<<1,S-v>32&&zr)return zr.decode(N.subarray(v,S));for(var z="",$=0;!($>=E/2);++$){var W=M[v+$*2>>1];if(W==0)break;z+=String.fromCharCode(W)}return z},gl=(v,E,S)=>{var k;if((k=S)!==null&&k!==void 0||(S=2147483647),S<2)return 0;S-=2;for(var G=E,z=S<v.length*2?S/2:v.length,$=0;$<z;++$){var W=v.charCodeAt($);M[E>>1]=W,E+=2}return M[E>>1]=0,E-G},ju=v=>v.length*2,vs=(v,E)=>{for(var S=0,k="";!(S>=E/4);){var G=H[v+S*4>>2];if(G==0)break;if(++S,G>=65536){var z=G-65536;k+=String.fromCharCode(55296|z>>10,56320|z&1023)}else k+=String.fromCharCode(G)}return k},sa=(v,E,S)=>{var k;if((k=S)!==null&&k!==void 0||(S=2147483647),S<4)return 0;for(var G=E,z=G+S-4,$=0;$<v.length;++$){var W=v.charCodeAt($);if(W>=55296&&W<=57343){var le=v.charCodeAt(++$);W=65536+((W&1023)<<10)|le&1023}if(H[E>>2]=W,E+=4,E+4>z)break}return H[E>>2]=0,E-G},vo=v=>{for(var E=0,S=0;S<v.length;++S){var k=v.charCodeAt(S);k>=55296&&k<=57343&&++S,E+=4}return E},aa=(v,E,S)=>{S=jt(S);var k,G,z,$;E===2?(k=wi,G=gl,$=ju,z=W=>U[W>>1]):E===4&&(k=vs,G=sa,$=vo,z=W=>Y[W>>2]),Cn(v,{name:S,fromWireType:W=>{for(var le=Y[W>>2],ge,_e=W+4,Ie=0;Ie<=le;++Ie){var Ze=W+4+Ie*E;if(Ie==le||z(Ze)==0){var $e=Ze-_e,yt=k(_e,$e);ge===void 0?ge=yt:(ge+="\0",ge+=yt),_e=Ze+E}}return Ti(W),ge},toWireType:(W,le)=>{typeof le!="string"&&ft(`Cannot pass non-string to C++ string type ${S}`);var ge=$(le),_e=Rl(4+ge+E);return Y[_e>>2]=ge/E,G(le,_e+4,ge+E),W!==null&&W.push(Ti,_e),_e},argPackAdvance:pn,readValueFromPointer:$n,destructorFunction(W){Ti(W)}})},yl=(v,E,S,k,G,z)=>{ds[v]={name:jt(E),rawConstructor:He(S,k),rawDestructor:He(G,z),fields:[]}},oa=(v,E,S,k,G,z,$,W,le,ge)=>{ds[v].fields.push({fieldName:jt(E),getterReturnType:S,getter:He(k,G),getterContext:z,setterArgumentType:$,setter:He(W,le),setterContext:ge})},Hu=(v,E)=>{E=jt(E),Cn(v,{isVoid:!0,name:E,argPackAdvance:0,fromWireType:()=>{},toWireType:(S,k)=>{}})},Eo=(v,E,S)=>N.copyWithin(v,E,E+S),Ar=[],_l=(v,E,S,k)=>(v=Ar[v],E=vi.toValue(E),v(null,E,S,k)),vl={},wo=v=>{var E=vl[v];return E===void 0?jt(v):E},Qr=()=>{if(typeof globalThis=="object")return globalThis;function v(E){E.$$$embind_global$$$=E;var S=typeof $$$embind_global$$$=="object"&&E.$$$embind_global$$$==E;return S||delete E.$$$embind_global$$$,S}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&v(global)?$$$embind_global$$$=global:typeof self=="object"&&v(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},El=v=>v===0?vi.toHandle(Qr()):(v=wo(v),vi.toHandle(Qr()[v])),la=v=>{var E=Ar.length;return Ar.push(v),E},To=(v,E)=>{var S=An[v];return S===void 0&&ft(`${E} has unknown type ${hi(v)}`),S},Ao=(v,E)=>{for(var S=new Array(v),k=0;k<v;++k)S[k]=To(Y[E+k*4>>2],"parameter "+k);return S},Cr=Reflect.construct,wl=(v,E,S)=>{var k=[],G=v.toWireType(k,S);return k.length&&(Y[E>>2]=vi.toHandle(k)),G},Tl=(v,E,S)=>{var k=Ao(v,E),G=k.shift();v--;var z=new Array(v),$=(le,ge,_e,Ie)=>{for(var Ze=0,$e=0;$e<v;++$e)z[$e]=k[$e].readValueFromPointer(Ie+Ze),Ze+=k[$e].argPackAdvance;var yt=S===1?Cr(ge,z):ge.apply(le,z);return wl(G,_e,yt)},W=`methodCaller<(${k.map(le=>le.name).join(", ")}) => ${G.name}>`;return la(bn(W,$))},Al=v=>{v>9&&(Sn[v+1]+=1)},Cl=v=>{var E=vi.toValue(v);Ws(E),Li(v)},ua=(v,E)=>{v=To(v,"_emval_take_value");var S=v.readValueFromPointer(E);return vi.toHandle(S)},zn=(v,E,S,k)=>{var G=new Date().getFullYear(),z=new Date(G,0,1),$=new Date(G,6,1),W=z.getTimezoneOffset(),le=$.getTimezoneOffset(),ge=Math.max(W,le);Y[v>>2]=ge*60,H[E>>2]=+(W!=le);var _e=$e=>{var yt=$e>=0?"-":"+",kt=Math.abs($e),zt=String(Math.floor(kt/60)).padStart(2,"0"),Ht=String(kt%60).padStart(2,"0");return`UTC${yt}${zt}${Ht}`},Ie=_e(W),Ze=_e(le);le<W?(tr(Ie,S,17),tr(Ze,k,17)):(tr(Ie,k,17),tr(Ze,S,17))},bl=()=>2147483648,Sl=(v,E)=>Math.ceil(v/E)*E,ir=v=>{var E=se.buffer,S=(v-E.byteLength+65535)/65536|0;try{return se.grow(S),Ge(),1}catch{}},h=v=>{var E=N.length;v>>>=0;var S=bl();if(v>S)return!1;for(var k=1;k<=4;k*=2){var G=E*(1+.2/k);G=Math.min(G,v+100663296);var z=Math.min(S,Sl(Math.max(v,G),65536)),$=ir(z);if($)return!0}return!1},y={},w=()=>b||"./this.program",D=()=>{if(!D.strings){var v=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:v,_:w()};for(var S in y)y[S]===void 0?delete E[S]:E[S]=y[S];var k=[];for(var S in E)k.push(`${S}=${E[S]}`);D.strings=k}return D.strings},Z=(v,E)=>{for(var S=0;S<v.length;++S)B[E++]=v.charCodeAt(S);B[E]=0},ie=(v,E)=>{var S=0;return D().forEach((k,G)=>{var z=E+S;Y[v+G*4>>2]=z,Z(k,z),S+=k.length+1}),0},Ee=(v,E)=>{var S=D();Y[v>>2]=S.length;var k=0;return S.forEach(G=>k+=G.length+1),Y[E>>2]=k,0},dt=v=>52;function on(v,E,S,k,G){return 70}var pt=[null,[],[]],yn=(v,E)=>{var S=pt[v];E===0||E===10?((v===1?P:j)(_s(S)),S.length=0):S.push(E)},ln=(v,E,S,k)=>{for(var G=0,z=0;z<S;z++){var $=Y[E>>2],W=Y[E+4>>2];E+=8;for(var le=0;le<W;le++)yn(v,N[$+le]);G+=W}return Y[k>>2]=G,0},br=v=>v;dr=a.InternalError=class extends Error{constructor(v){super(v),this.name="InternalError"}},Yt(),ci=a.BindingError=class extends Error{constructor(v){super(v),this.name="BindingError"}},Zs(),qu(),vr=a.UnboundTypeError=gs(Error,"UnboundTypeError"),mo();var Rn={s:cl,w:dn,a:fs,j:Vr,l:On,M:ao,p:Ki,ca:jn,d:hl,Z:oo,sa:Ur,Y:Js,na:mn,qa:ho,pa:Gu,D:_i,la:Ei,Q:Yr,R:Tr,x:$i,t:er,ra:gn,ma:nr,N:aa,J:yl,ta:oa,oa:Hu,fa:Eo,U:_l,ua:Li,wa:El,_:Tl,S:Al,va:Cl,ka:ua,$:zn,da:h,aa:ie,ba:Ee,ea:dt,W:on,P:ln,H:ef,B:nf,T:Jh,O:Bi,q:fa,b:fi,C:ws,ha:$p,c:Kh,ga:em,h:Wh,i:ha,r:Ju,L:$h,v:Xu,G:sf,I:Zu,z:Zp,F:Ai,X:$u,V:Dl,k:Wu,f:Xh,e:Co,g:Wp,K:af,m:Xp,ia:tf,o:bo,u:Zh,ja:Es,A:rf,n:Jp,E:da,y:br},gt;Lr();var ca=v=>(ca=gt.za)(v),Ti=a._free=v=>(Ti=a._free=gt.Aa)(v),Rl=a._malloc=v=>(Rl=a._malloc=gt.Ca)(v),Yu=v=>(Yu=gt.Da)(v),it=(v,E)=>(it=gt.Ea)(v,E),Il=v=>(Il=gt.Fa)(v),zu=v=>(zu=gt.Ga)(v),Qu=()=>(Qu=gt.Ha)(),Ku=v=>(Ku=gt.Ia)(v),Hh=v=>(Hh=gt.Ja)(v),Yh=(v,E,S)=>(Yh=gt.Ka)(v,E,S);a.dynCall_viijii=(v,E,S,k,G,z,$)=>(a.dynCall_viijii=gt.La)(v,E,S,k,G,z,$);var zh=a.dynCall_jiii=(v,E,S,k)=>(zh=a.dynCall_jiii=gt.Ma)(v,E,S,k);a.dynCall_jiji=(v,E,S,k,G)=>(a.dynCall_jiji=gt.Na)(v,E,S,k,G);var Qh=a.dynCall_jiiii=(v,E,S,k,G)=>(Qh=a.dynCall_jiiii=gt.Oa)(v,E,S,k,G);a.dynCall_iiiiij=(v,E,S,k,G,z,$)=>(a.dynCall_iiiiij=gt.Pa)(v,E,S,k,G,z,$),a.dynCall_iiiiijj=(v,E,S,k,G,z,$,W,le)=>(a.dynCall_iiiiijj=gt.Qa)(v,E,S,k,G,z,$,W,le),a.dynCall_iiiiiijj=(v,E,S,k,G,z,$,W,le,ge)=>(a.dynCall_iiiiiijj=gt.Ra)(v,E,S,k,G,z,$,W,le,ge);function Wp(v,E,S,k){var G=nt();try{We(v)(E,S,k)}catch(z){if(Ke(G),z!==z+0)throw z;it(1,0)}}function fi(v,E){var S=nt();try{return We(v)(E)}catch(k){if(Ke(S),k!==k+0)throw k;it(1,0)}}function Co(v,E,S){var k=nt();try{We(v)(E,S)}catch(G){if(Ke(k),G!==G+0)throw G;it(1,0)}}function Kh(v,E,S){var k=nt();try{return We(v)(E,S)}catch(G){if(Ke(k),G!==G+0)throw G;it(1,0)}}function Wh(v,E,S,k){var G=nt();try{return We(v)(E,S,k)}catch(z){if(Ke(G),z!==z+0)throw z;it(1,0)}}function Jh(v,E,S,k,G){var z=nt();try{return We(v)(E,S,k,G)}catch($){if(Ke(z),$!==$+0)throw $;it(1,0)}}function Xh(v,E){var S=nt();try{We(v)(E)}catch(k){if(Ke(S),k!==k+0)throw k;it(1,0)}}function Wu(v){var E=nt();try{We(v)()}catch(S){if(Ke(E),S!==S+0)throw S;it(1,0)}}function Jp(v,E,S,k,G,z,$,W,le,ge,_e){var Ie=nt();try{We(v)(E,S,k,G,z,$,W,le,ge,_e)}catch(Ze){if(Ke(Ie),Ze!==Ze+0)throw Ze;it(1,0)}}function Xp(v,E,S,k,G){var z=nt();try{We(v)(E,S,k,G)}catch($){if(Ke(z),$!==$+0)throw $;it(1,0)}}function ha(v,E,S,k,G){var z=nt();try{return We(v)(E,S,k,G)}catch($){if(Ke(z),$!==$+0)throw $;it(1,0)}}function Ju(v,E,S,k,G,z){var $=nt();try{return We(v)(E,S,k,G,z)}catch(W){if(Ke($),W!==W+0)throw W;it(1,0)}}function bo(v,E,S,k,G,z){var $=nt();try{We(v)(E,S,k,G,z)}catch(W){if(Ke($),W!==W+0)throw W;it(1,0)}}function Xu(v,E,S,k,G,z,$){var W=nt();try{return We(v)(E,S,k,G,z,$)}catch(le){if(Ke(W),le!==le+0)throw le;it(1,0)}}function Zh(v,E,S,k,G,z,$,W){var le=nt();try{We(v)(E,S,k,G,z,$,W)}catch(ge){if(Ke(le),ge!==ge+0)throw ge;it(1,0)}}function Es(v,E,S,k,G,z,$,W,le){var ge=nt();try{We(v)(E,S,k,G,z,$,W,le)}catch(_e){if(Ke(ge),_e!==_e+0)throw _e;it(1,0)}}function fa(v){var E=nt();try{return We(v)()}catch(S){if(Ke(E),S!==S+0)throw S;it(1,0)}}function Zu(v,E,S,k,G,z,$,W,le){var ge=nt();try{return We(v)(E,S,k,G,z,$,W,le)}catch(_e){if(Ke(ge),_e!==_e+0)throw _e;it(1,0)}}function $h(v,E,S,k,G,z,$){var W=nt();try{return We(v)(E,S,k,G,z,$)}catch(le){if(Ke(W),le!==le+0)throw le;it(1,0)}}function ws(v,E,S,k){var G=nt();try{return We(v)(E,S,k)}catch(z){if(Ke(G),z!==z+0)throw z;it(1,0)}}function ef(v,E,S,k){var G=nt();try{return We(v)(E,S,k)}catch(z){if(Ke(G),z!==z+0)throw z;it(1,0)}}function tf(v,E,S,k,G,z,$,W){var le=nt();try{We(v)(E,S,k,G,z,$,W)}catch(ge){if(Ke(le),ge!==ge+0)throw ge;it(1,0)}}function nf(v,E,S,k,G,z){var $=nt();try{return We(v)(E,S,k,G,z)}catch(W){if(Ke($),W!==W+0)throw W;it(1,0)}}function Zp(v,E,S,k,G,z,$,W,le,ge){var _e=nt();try{return We(v)(E,S,k,G,z,$,W,le,ge)}catch(Ie){if(Ke(_e),Ie!==Ie+0)throw Ie;it(1,0)}}function $p(v,E,S){var k=nt();try{return We(v)(E,S)}catch(G){if(Ke(k),G!==G+0)throw G;it(1,0)}}function em(v,E,S,k,G){var z=nt();try{return We(v)(E,S,k,G)}catch($){if(Ke(z),$!==$+0)throw $;it(1,0)}}function rf(v,E,S,k,G,z,$,W,le,ge){var _e=nt();try{We(v)(E,S,k,G,z,$,W,le,ge)}catch(Ie){if(Ke(_e),Ie!==Ie+0)throw Ie;it(1,0)}}function sf(v,E,S,k,G,z,$,W){var le=nt();try{return We(v)(E,S,k,G,z,$,W)}catch(ge){if(Ke(le),ge!==ge+0)throw ge;it(1,0)}}function af(v,E,S,k,G,z,$){var W=nt();try{We(v)(E,S,k,G,z,$)}catch(le){if(Ke(W),le!==le+0)throw le;it(1,0)}}function Bi(v,E,S,k){var G=nt();try{return We(v)(E,S,k)}catch(z){if(Ke(G),z!==z+0)throw z;it(1,0)}}function Ai(v,E,S,k,G,z,$,W,le,ge,_e,Ie){var Ze=nt();try{return We(v)(E,S,k,G,z,$,W,le,ge,_e,Ie)}catch($e){if(Ke(Ze),$e!==$e+0)throw $e;it(1,0)}}function da(v,E,S,k,G,z,$,W,le,ge,_e,Ie,Ze,$e,yt,kt){var zt=nt();try{We(v)(E,S,k,G,z,$,W,le,ge,_e,Ie,Ze,$e,yt,kt)}catch(Ht){if(Ke(zt),Ht!==Ht+0)throw Ht;it(1,0)}}function $u(v,E,S,k){var G=nt();try{return zh(v,E,S,k)}catch(z){if(Ke(G),z!==z+0)throw z;it(1,0)}}function Dl(v,E,S,k,G){var z=nt();try{return Qh(v,E,S,k,G)}catch($){if(Ke(z),$!==$+0)throw $;it(1,0)}}var Ts;me=function v(){Ts||Nl(),Ts||(me=v)};function Nl(){if(Ne>0||(Pe(),Ne>0))return;function v(){var E;Ts||(Ts=!0,a.calledRun=!0,!pe&&(q(),l(a),(E=a.onRuntimeInitialized)===null||E===void 0||E.call(a),ce()))}a.setStatus?(a.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>a.setStatus(""),1),v()},1)):v()}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Nl(),i=f,i}})();function jF(n){return yI(_I,n)}async function HF(n,e){return GF(_I,n,e)}const vI=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],YF=[...vI,["unknown"]].map(n=>n[0]),l_=new Map(vI);function zF(n){for(const[e,t]of l_)if(n===t)return e;return"unknown"}function QF(n){if(EI(n))return{width:n.naturalWidth,height:n.naturalHeight};if(wI(n))return{width:n.width.baseVal.value,height:n.height.baseVal.value};if(TI(n))return{width:n.videoWidth,height:n.videoHeight};if(CI(n))return{width:n.width,height:n.height};if(SI(n))return{width:n.displayWidth,height:n.displayHeight};if(AI(n))return{width:n.width,height:n.height};if(bI(n))return{width:n.width,height:n.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function EI(n){var e,t;try{return n instanceof((t=(e=n==null?void 0:n.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.HTMLImageElement)}catch{return!1}}function wI(n){var e,t;try{return n instanceof((t=(e=n==null?void 0:n.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.SVGImageElement)}catch{return!1}}function TI(n){var e,t;try{return n instanceof((t=(e=n==null?void 0:n.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.HTMLVideoElement)}catch{return!1}}function AI(n){var e,t;try{return n instanceof((t=(e=n==null?void 0:n.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.HTMLCanvasElement)}catch{return!1}}function CI(n){try{return n instanceof ImageBitmap||Object.prototype.toString.call(n)==="[object ImageBitmap]"}catch{return!1}}function bI(n){try{return n instanceof OffscreenCanvas||Object.prototype.toString.call(n)==="[object OffscreenCanvas]"}catch{return!1}}function SI(n){try{return n instanceof VideoFrame||Object.prototype.toString.call(n)==="[object VideoFrame]"}catch{return!1}}function KF(n){try{return n instanceof Blob||Object.prototype.toString.call(n)==="[object Blob]"}catch{return!1}}function WF(n){try{return n instanceof ImageData||Object.prototype.toString.call(n)==="[object ImageData]"}catch{return!1}}function JF(n,e){try{const t=new OffscreenCanvas(n,e);if(t.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return t;throw void 0}catch{const t=document.createElement("canvas");return t.width=n,t.height=e,t}}async function RI(n){if(EI(n)&&!await eq(n))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(wI(n)&&!await tq(n))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(SI(n)&&nq(n))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(TI(n)&&(n.readyState===0||n.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(CI(n)&&rq(n))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:t}=QF(n);if(e===0||t===0)return null;const i=JF(e,t).getContext("2d");i.drawImage(n,0,0);try{return i.getImageData(0,0,e,t)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function XF(n){let e;try{e=await createImageBitmap(n)}catch{try{if(globalThis.Image){e=new Image;let t="";try{t=URL.createObjectURL(n),e.src=t,await e.decode()}finally{URL.revokeObjectURL(t)}}else return n}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await RI(e)}function ZF(n){const{width:e,height:t}=n;if(e===0||t===0)return null;const i=n.getContext("2d");try{return i.getImageData(0,0,e,t)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function $F(n){if(KF(n))return await XF(n);if(WF(n)){if(iq(n))throw new DOMException("The image data has been detached.","InvalidStateError");return n}return AI(n)||bI(n)?ZF(n):await RI(n)}async function eq(n){try{return await n.decode(),!0}catch{return!1}}async function tq(n){var e;try{return await((e=n.decode)==null?void 0:e.call(n)),!0}catch{return!1}}function nq(n){return n.format===null}function iq(n){return n.data.buffer.byteLength===0}function rq(n){return n.width===0&&n.height===0}function aC(n,e){return sq(n)?new DOMException(`${e}: ${n.message}`,n.name):aq(n)?new n.constructor(`${e}: ${n.message}`):new Error(`${e}: ${n}`)}function sq(n){return n instanceof DOMException||Object.prototype.toString.call(n)==="[object DOMException]"}function aq(n){return n instanceof Error||Object.prototype.toString.call(n)==="[object Error]"}var bd;class u_{constructor(e={}){CF(this,bd);var t;try{const i=(t=e==null?void 0:e.formats)==null?void 0:t.filter(a=>a!=="unknown");if((i==null?void 0:i.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const a of i??[])if(!l_.has(a))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${a}' is not a valid enum value of type BarcodeFormat.`);bF(this,bd,i??[]),jF({fireImmediately:!0}).catch(()=>{})}catch(i){throw aC(i,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return YF.filter(e=>e!=="unknown")}async detect(e){try{const t=await $F(e);if(t===null)return[];let i;const a={tryCode39ExtendedMode:!1,textMode:"Plain",formats:AF(this,bd).map(l=>l_.get(l))};try{i=await HF(t,a)}catch(l){throw console.error(l),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return i.map(l=>{const{topLeft:{x:u,y:f},topRight:{x:p,y:m},bottomLeft:{x:_,y:T},bottomRight:{x:b,y:C}}=l.position,I=Math.min(u,p,_,b),L=Math.min(f,m,T,C),O=Math.max(u,p,_,b),x=Math.max(f,m,T,C);return{boundingBox:new DOMRectReadOnly(I,L,O-I,x-L),rawValue:l.text,format:zF(l.format),cornerPoints:[{x:u,y:f},{x:p,y:m},{x:b,y:C},{x:_,y:T}]}})}catch(t){throw aC(t,"Failed to execute 'detect' on 'BarcodeDetector'")}}}bd=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=u_);function oq(n){const{onClick:e,disabled:t,className:i}=n,a={cursor:t?"default":"pointer",stroke:t?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...n.style};return Je.createElement("svg",{onClick:t?void 0:e,className:i,style:a,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Je.createElement("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"}))}function lq(n){const{onClick:e,disabled:t,className:i}=n,a={cursor:t?"default":"pointer",stroke:t?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...n.style};return Je.createElement("svg",{onClick:t?void 0:e,className:i,style:a,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Je.createElement("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),Je.createElement("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"}))}function uq(n){const{scanning:e,startScanning:t,stopScanning:i}=n,[a,l]=X.useState(!1);function u(){l(!0),e?i():t(),setTimeout(()=>l(!1),1e3)}return Je.createElement("div",{style:{bottom:85,right:3,position:"absolute",zIndex:2,cursor:a?"default":"pointer"}},e?Je.createElement(oq,{disabled:a,onClick:u}):Je.createElement(lq,{disabled:a,onClick:u}))}function cq(n){const{onClick:e,className:t,style:i}=n;return Je.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:t,style:i,xmlns:"http://www.w3.org/2000/svg"},Je.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"}))}function hq(n){const{onClick:e,className:t,style:i}=n;return Je.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:t,style:i,xmlns:"http://www.w3.org/2000/svg"},Je.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"}))}function fq(n){const{status:e,scanning:t,torchToggle:i}=n;function a(l){i(l)}return t&&i?Je.createElement("div",{style:{bottom:35,right:3,position:"absolute",zIndex:2,cursor:"pointer"}},e?Je.createElement(hq,{onClick:()=>a(!1)}):Je.createElement(cq,{onClick:()=>a(!0)})):null}function dq(n){const{onClick:e,className:t,disabled:i=!1}=n,a={cursor:i?"default":"pointer",stroke:i?"grey":"yellow",fill:i?"grey":"yellow",...n.style};return Je.createElement("svg",{onClick:i?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:t,style:a,xmlns:"http://www.w3.org/2000/svg"},Je.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"}))}function pq(n){const{onClick:e,className:t,disabled:i=!1}=n,a={cursor:i?"default":"pointer",stroke:i?"grey":"yellow",fill:i?"grey":"yellow",...n.style};return Je.createElement("svg",{onClick:i?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:t,style:a,xmlns:"http://www.w3.org/2000/svg"},Je.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"}))}function mq(n){const{scanning:e,capabilities:t,onZoom:i,value:a}=n;if(!e||!i)return null;const l=(t.max-t.min)/3;return Je.createElement(X.Fragment,null,Je.createElement("div",{style:{bottom:130,right:3,position:"absolute",zIndex:2,cursor:"pointer"}},Je.createElement(pq,{disabled:a<=t.min,onClick:function(){i(Math.max(a-l,t.min))}})),Je.createElement("div",{style:{bottom:180,right:3,position:"absolute",zIndex:2,cursor:"pointer"}},Je.createElement(dq,{disabled:a>=t.max,onClick:function(){i(Math.min(a+l,t.max))}})))}function gq(n){const{scanning:e,loading:t,capabilities:i,border:a=35,onOff:l,torch:u,zoom:f,startScanning:p,stopScanning:m}=n,_="rgba(255, 0, 0, 0.5)";return Je.createElement("div",{style:{position:"relative"}},Je.createElement("svg",{viewBox:"0 0 100 100",style:{top:0,left:0,zIndex:1,boxSizing:"border-box",border:`${a>=35?a:35}px solid rgba(0, 0, 0, 0.2)`}},t&&Je.createElement("text",{x:"50",y:"50",textAnchor:"middle",fill:"black",fontSize:"8",fontFamily:"Arial",fontWeight:"bold"},"Loading ...",Je.createElement("animate",{attributeName:"opacity",values:"0;1;0",dur:"2s",repeatCount:"indefinite"})),Je.createElement("path",{fill:"none",d:"M23,0 L0,0 L0,23",stroke:_,strokeWidth:3}),Je.createElement("path",{fill:"none",d:"M0,77 L0,100 L23,100",stroke:_,strokeWidth:3}),Je.createElement("path",{fill:"none",d:"M77,100 L100,100 L100,77",stroke:_,strokeWidth:3}),Je.createElement("path",{fill:"none",d:"M100,23 L100,0 77,0",stroke:_,strokeWidth:3})),l&&Je.createElement(uq,{scanning:e,startScanning:p,stopScanning:m}),u&&i.torch&&Je.createElement(fq,{scanning:e,status:u.status,torchToggle:u.toggle}),f&&i.zoom&&Je.createElement(mq,{scanning:e,capabilities:i.zoom,value:f.value,onZoom:f.onChange}))}const yq={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},_q={audio:!0,tracker:void 0,onOff:!1,finder:!0,torch:!0,zoom:!1},vq={width:"100%",height:"100%",position:"relative"},Eq={top:0,left:0,width:"100%",height:"100%",display:"block",overflow:"hidden"};var wq=function(n){let e,t=!1;return(...i)=>(t||(e=n(i),t=!0),e)}(()=>{const n=TF.detectBrowser(window);switch(n.browser){case"chrome":yF.shimGetUserMedia(window,n);break;case"firefox":vF.shimGetUserMedia(window,n);break;case"safari":wF.shimGetUserMedia(window,n);break;default:throw new Error("Unsupported browser")}});const Tq="data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";var Xc=n=>n instanceof Date,II=n=>n==null;const DI=n=>typeof n=="object";var oC=n=>!II(n)&&!Array.isArray(n)&&DI(n)&&!Xc(n),lC=n=>II(n)||!DI(n);function NI(n,e){if(lC(n)||lC(e))return n===e;if(Xc(n)&&Xc(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const a of t){const l=n[a];if(!i.includes(a))return!1;if(a!=="ref"){const u=e[a];if(Xc(l)&&Xc(u)||oC(l)&&oC(u)||Array.isArray(l)&&Array.isArray(u)?!NI(l,u):l!==u)return!1}}return!0}function ud(n){if(n===null)throw new Error("Canvas should always be defined when component is mounted.");const e=n.getContext("2d");if(e===null)throw new Error("Canvas 2D context should be non-null");e.clearRect(0,0,n.width,n.height)}function Aq(n){var e;const{onScan:t,constraints:i,formats:a=["qr_code"],paused:l=!1,components:u,children:f,styles:p,classNames:m,allowMultiple:_,scanDelay:T,onError:b}=n,C=X.useRef(null),I=X.useRef(null),L=X.useRef(null),O=X.useMemo(()=>({...yq,...i}),[i]),x=X.useMemo(()=>({..._q,...u}),[u]),[P,j]=X.useState(!1),[ne,se]=X.useState(!0),[pe,B]=X.useState(O),N=function(){const Le=X.useRef(Promise.resolve({type:"stop",data:{}})),Ge=X.useRef(null),oe=X.useRef(null),[Ce,Te]=X.useState({}),[Pe,q]=X.useState({}),ce=X.useCallback(async(me,ke)=>{var Me,je,Qe;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((Me=navigator==null?void 0:navigator.mediaDevices)===null||Me===void 0?void 0:Me.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");wq();const Tt=await navigator.mediaDevices.getUserMedia({audio:!1,video:ke});me.srcObject!==void 0?me.srcObject=Tt:me.mozSrcObject!==void 0?me.mozSrcObject=Tt:window.URL.createObjectURL?me.src=window.URL.createObjectURL(Tt):window.webkitURL?me.src=window.webkitURL.createObjectURL(Tt):me.src=Tt.id,await Promise.race([me.play(),new Promise(xt=>setTimeout(xt,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(xt=>setTimeout(xt,500));const[It]=Tt.getVideoTracks();return q(It.getSettings()),Te((Qe=(je=It==null?void 0:It.getCapabilities)===null||je===void 0?void 0:je.call(It))!==null&&Qe!==void 0?Qe:{}),Ge.current=Tt,oe.current=It,{type:"start",data:{videoEl:me,stream:Tt,constraints:ke}}},[]),Se=X.useCallback(async(me,ke)=>{me.src="",me.srcObject=null,me.load();for(const Me of ke.getTracks())ke.removeTrack(Me),Me.stop();return Ge.current=null,oe.current=null,q({}),{type:"stop",data:{}}},[]),Ae=X.useCallback(async(me,{constraints:ke,restart:Me=!1})=>{if(Le.current=Le.current.then(je=>{if(je.type==="start"){const{data:{videoEl:Qe,stream:Tt,constraints:It}}=je;return Me||me!==Qe||ke!==It?Se(Qe,Tt).then(()=>ce(me,ke)):je}return ce(me,ke)}),(await Le.current).type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[ce,Se]),we=X.useCallback(async()=>{if(Le.current=Le.current.then(me=>{if(me.type==="stop")return me;const{data:{videoEl:ke,stream:Me}}=me;return Se(ke,Me)}),(await Le.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[Se]),Ne=X.useCallback(async me=>{const ke=oe.current;if(!ke)throw new Error("No active video track found.");{me.advanced&&me.advanced[0].zoom&&ke.getCapabilities().torch&&await ke.applyConstraints({advanced:[{torch:!1}]}),await ke.applyConstraints(me);const Me=ke.getCapabilities(),je=ke.getSettings();Te(Me),q(je)}},[]);return X.useEffect(()=>()=>{(async()=>await we())()},[we]),{capabilities:Ce,settings:Pe,startCamera:Ae,stopCamera:we,updateConstraints:Ne}}(),{startScanning:M,stopScanning:U}=function(Le){const{videoElementRef:Ge,onScan:oe,onFound:Ce,retryDelay:Te=100,scanDelay:Pe=0,formats:q=[],audio:ce=!0,allowMultiple:Se=!1}=Le,Ae=X.useRef(new u_({formats:q})),we=X.useRef(null),Ne=X.useRef(null);X.useEffect(()=>{Ae.current=new u_({formats:q})},[q]),X.useEffect(()=>{typeof window<"u"&&ce&&(we.current=new Audio(Tq))},[ce]);const me=X.useCallback(ke=>async Me=>{if(Ge.current!==null&&Ge.current.readyState>1){const{lastScan:je,contentBefore:Qe,lastScanHadContent:Tt}=ke;if(Me-je<Te)Ne.current=window.requestAnimationFrame(me(ke));else{const It=await Ae.current.detect(Ge.current),xt=It.some(Xt=>!Qe.includes(Xt.rawValue)),qn=It.length>0;let Gn=ke.lastOnScan;(xt||Se&&qn&&Me-Gn>=Pe)&&(ce&&we.current&&we.current.paused&&we.current.play().catch(Xt=>console.error("Error playing the sound",Xt)),Gn=Me,oe(It)),qn&&Ce(It),!qn&&Tt&&Ce(It);const fn={lastScan:Me,lastOnScan:Gn,lastScanHadContent:qn,contentBefore:xt?It.map(Xt=>Xt.rawValue):Qe};Ne.current=window.requestAnimationFrame(me(fn))}}},[Ge.current,oe,Ce,Te]);return{startScanning:X.useCallback(()=>{const ke=performance.now(),Me={lastScan:ke,lastOnScan:ke,contentBefore:[],lastScanHadContent:!1};Ne.current=window.requestAnimationFrame(me(Me))},[me]),stopScanning:X.useCallback(()=>{Ne.current!==null&&(window.cancelAnimationFrame(Ne.current),Ne.current=null)},[])}}({videoElementRef:C,onScan:t,onFound:Le=>function(Ge,oe,Ce,Te){const Pe=Ce;if(Pe==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const q=oe;if(q==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(Ge.length===0||Te===void 0)ud(Pe);else{const ce=q.offsetWidth,Se=q.offsetHeight,Ae=q.videoWidth,we=q.videoHeight,Ne=Math.max(ce/Ae,Se/we),me=Ae*Ne,ke=we*Ne,Me=me/Ae,je=ke/we,Qe=(ce-me)/2,Tt=(Se-ke)/2,It=({x:fn,y:Xt})=>({x:Math.floor(fn*Me),y:Math.floor(Xt*je)}),xt=({x:fn,y:Xt})=>({x:Math.floor(fn+Qe),y:Math.floor(Xt+Tt)}),qn=Ge.map(fn=>{const{boundingBox:Xt,cornerPoints:Pr}=fn,{x:Lr,y:Di}=xt(It({x:Xt.x,y:Xt.y})),{x:Ke,y:nt}=It({x:Xt.width,y:Xt.height});return{...fn,cornerPoints:Pr.map(Qi=>xt(It(Qi))),boundingBox:DOMRectReadOnly.fromRect({x:Lr,y:Di,width:Ke,height:nt})}});Pe.width=q.offsetWidth,Pe.height=q.offsetHeight;const Gn=Pe.getContext("2d");if(Gn===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");Te(qn,Gn)}}(Le,C.current,L.current,x.tracker),formats:a,audio:x.audio,allowMultiple:_,retryDelay:x.tracker===void 0?500:10,scanDelay:T});X.useEffect(()=>(j(!0),()=>{j(!1)}),[]),X.useEffect(()=>{P&&(U(),M())},[u==null?void 0:u.tracker]),X.useEffect(()=>{if(!NI(O,pe)){const Le=O;i!=null&&i.deviceId&&delete Le.facingMode,B(Le)}},[i]);const H=X.useMemo(()=>({constraints:pe,shouldStream:P&&!l}),[pe,P,l]),Y=async()=>{const Le=C.current;if(Le==null)throw new Error("Video should be defined when component is mounted.");const Ge=I.current;if(Ge==null)throw new Error("Canvas should be defined when component is mounted.");const oe=Ge.getContext("2d");if(oe==null)throw new Error("Canvas should be defined when component is mounted.");if(H.shouldStream){await N.stopCamera(),se(!1);try{await N.startCamera(Le,H),Le?se(!0):await N.stopCamera()}catch(Ce){b==null||b(Ce),console.error("error",Ce)}}else Ge.width=Le.videoWidth,Ge.height=Le.videoHeight,oe.drawImage(Le,0,0,Le.videoWidth,Le.videoHeight),await N.stopCamera(),se(!1)};X.useEffect(()=>{(async()=>await Y())()},[H]);const F=X.useMemo(()=>H.shouldStream&&ne,[H.shouldStream,ne]);return X.useEffect(()=>{if(F){if(I.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(ud(I.current),L.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(ud(L.current),C.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");M()}},[F]),Je.createElement("div",{style:{...vq,...p==null?void 0:p.container},className:m==null?void 0:m.container},Je.createElement("video",{ref:C,style:{...Eq,...p==null?void 0:p.video,visibility:l?"hidden":"visible"},className:m==null?void 0:m.video,autoPlay:!0,muted:!0,playsInline:!0}),Je.createElement("canvas",{ref:I,style:{display:l?"block":"none",position:"absolute",top:0,left:0,width:"100%"}}),Je.createElement("canvas",{ref:L,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),Je.createElement("div",{style:{top:0,left:0,position:"absolute",width:"100%",height:"100%"}},x.finder&&Je.createElement(gq,{scanning:ne,capabilities:N.capabilities,loading:!1,onOff:x.onOff,zoom:x.zoom&&N.settings.zoom?{value:N.settings.zoom,onChange:async Le=>{const Ge={...pe,advanced:[{zoom:Le}]};await N.updateConstraints(Ge)}}:void 0,torch:x.torch?{status:(e=N.settings.torch)!==null&&e!==void 0&&e,toggle:async Le=>{const Ge={...pe,advanced:[{torch:Le}]};await N.updateConstraints(Ge)}}:void 0,startScanning:async()=>await Y(),stopScanning:async()=>{await N.stopCamera(),ud(L.current),se(!1)},border:p==null?void 0:p.finderBorder}),f))}const Cq=()=>{const n=f_(),[e,t]=X.useState([]),[i,a]=X.useState([]),[l,u]=X.useState([]),[f,p]=X.useState(""),[m,_]=X.useState(""),[T,b]=X.useState(!0),[C,I]=X.useState(null),[L,O]=X.useState(!1),[x,P]=X.useState(null),[j,ne]=X.useState(null),[se,pe]=X.useState(null),[B,N]=X.useState([]),M=kS(),U=Ab();X.useEffect(()=>{const oe=fb(U,async Ce=>{Ce?(await Ce.getIdTokenResult()).claims.admin?I(Ce):(alert("Access Denied: You are not an admin."),n("/")):n("/login"),b(!1)});return()=>oe()},[n]),X.useEffect(()=>{if(!C)return;const oe=qo(jc,"orders/");ty(oe,Te=>{const Pe=Te.val();console.log("DATA===>>",Pe);const q=Object.keys(Pe).map(me=>({id:me,...Pe[me]})),ce=Object.keys(Pe).map(me=>({id:me,...Pe[me].items}));console.log("TEMP=====>>",ce);const Se=[];for(let me=0;me<ce.length;me++){const ke=ce[me];if(Array.isArray(ke))for(let Me=0;Me<ke.length;Me++){const je=ke[Me];je&&je.messId===C.uid&&(console.log("order==>>",je),console.log("Matching orders==>",Se),Se.push(je))}}console.log("Matching orders==>",Se),t(Se);const Ae=q.filter(me=>me.status==="Pending"),we=Ae.filter(me=>me.orderType==="Pickup"),Ne=Ae.filter(me=>me.orderType==="Delivery");t(Ae),a(Ne),u(we)});const Ce=qo(jc,"admins/"+C.uid);ty(Ce,Te=>{const Pe=Te.val();pe(Pe)})},[C]),X.useEffect(()=>{if(!C)return;const oe=qo(jc,"products/");ty(oe,Ce=>{const Te=Ce.val();if(console.log("DATA====>>",Te),Te){const Pe=Object.keys(Te).map(ce=>({id:ce,...Te[ce]})),q=Object.entries(Te).map(([ce])=>({id:ce}));console.log(q),N(Pe)}else N([])})},[C]);const H=(oe,Ce)=>{P(oe),ne(Ce),O(!0)},Y=oe=>{oe[0].rawValue===x&&j?(alert("QR Code Matched!"),HT(qo(M,`/orders/${x}`),{status:"Delivered"}).then(()=>alert("Order delivered successfully!")).catch(Ce=>alert("Error updating order status: "+Ce.message)),HT(qo(M,`/users/${j.uid}/orders/${x}`),{status:"Delivered"}).then(()=>alert("Order delivered successfully!")).catch(Ce=>alert("Error updating order status: "+Ce.message)),O(!1)):alert("Invalid QR Code. Please scan the correct order QR.")},F=async()=>{if(!f||!m||!se){alert("Please fill in all fields.");return}const oe=qo(jc,"/products/"),Ce=E4(oe);await jT(Ce,{productName:f,price:parseFloat(m),messId:C.uid,messName:se.displayName,messAddress:se.address}),p(""),_(""),alert("Product added successfully!")},Le=async oe=>{const Ce=qo(jc,`/products/${oe}`);try{await jT(Ce,null),alert("Product deleted successfully!")}catch(Te){alert("Error deleting product: "+Te.message)}},Ge=async()=>{await ax(U),n("/")};return T?ye.jsx("p",{className:"text-center text-xl",children:"Loading..."}):ye.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center p-6",children:[ye.jsxs("div",{className:"w-full max-w-5xl bg-white shadow-lg rounded-lg p-6",children:[ye.jsxs("div",{className:"flex justify-between items-center mb-6",children:[ye.jsx("h2",{className:"text-2xl font-semibold text-gray-700",children:se==null?void 0:se.displayName}),ye.jsxs("div",{className:"gap-2 flex flex-row",children:[ye.jsx("button",{onClick:()=>t(i),className:"bg-green-500 text-white p-2 rounded-2xl",children:"Delivery"}),ye.jsx("button",{onClick:()=>t(l),className:"bg-green-500 text-white p-2 rounded-2xl",children:"Pickup"})]}),ye.jsx("button",{onClick:Ge,className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition",children:"Logout"})]}),ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ye.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-md h-96",children:[ye.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"View Orders"}),ye.jsx("div",{className:"overflow-y-auto max-h-72 bg-white rounded-lg shadow p-4",children:e.length===0?ye.jsx("p",{className:"text-gray-500 text-center",children:"No orders found"}):ye.jsx("ul",{className:"divide-y divide-gray-200",children:e.map((oe,Ce)=>ye.jsx("li",{onClick:()=>H(oe.id,oe),className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-200",children:ye.jsxs("div",{className:"space-y-2",children:[ye.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Order ID: ",oe.id]}),ye.jsxs("p",{className:"text-sm text-gray-600",children:["Mess Address: ",oe.messAdress]}),ye.jsxs("p",{className:"text-sm text-gray-600",children:["Total Price: ",oe.totalPrice]}),ye.jsx("h4",{className:"text-md font-medium text-gray-700",children:"Items:"}),ye.jsx("ul",{className:"space-y-2",children:oe.items&&oe.items.length>0?oe.items.map((Te,Pe)=>ye.jsxs("li",{className:"bg-gray-100 p-3 rounded-lg",children:[ye.jsxs("p",{className:"text-sm text-gray-700",children:[ye.jsx("span",{className:"font-medium",children:"Product:"})," ",Te.productName]}),ye.jsxs("p",{className:"text-sm text-gray-700",children:[ye.jsx("span",{className:"font-medium",children:"Quantity:"})," ",Te.quantity]}),ye.jsxs("p",{className:"text-sm text-gray-700",children:[ye.jsx("span",{className:"font-medium",children:"Price:"})," ",Te.price]})]},Number(Pe))):ye.jsx("p",{className:"text-sm text-gray-500",children:"No items found in this order."})})]})},String(Ce)))})})]}),ye.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-md h-96",children:[ye.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Add Product"}),ye.jsxs("div",{className:"flex flex-col space-y-3",children:[ye.jsx("input",{type:"text",placeholder:"Product Name",value:f,onChange:oe=>p(oe.target.value),className:"border border-gray-300 rounded-md p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),ye.jsx("input",{type:"number",placeholder:"Price",value:m,onChange:oe=>_(oe.target.value),className:"border border-gray-300 rounded-md p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),ye.jsx("button",{onClick:F,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition",children:"Add Product"})]})]})]}),ye.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-md mt-6",children:[ye.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Products"}),ye.jsx("div",{className:"overflow-y-auto max-h-72 bg-white rounded-lg shadow p-4",children:B.length===0?ye.jsx("p",{className:"text-gray-500 text-center",children:"No products found"}):ye.jsx("ul",{className:"divide-y divide-gray-300",children:B.map(oe=>ye.jsxs("li",{className:"py-3 px-4 flex justify-between items-center bg-gray-50 rounded-md shadow-sm mb-2",children:[ye.jsxs("div",{className:"flex flex-col",children:[ye.jsx("p",{className:"text-gray-700 font-semibold",children:oe.productName}),ye.jsxs("span",{className:"text-sm text-gray-500",children:["",oe.price]})]}),ye.jsx("button",{onClick:()=>Le(oe.id),className:"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600 transition",children:"Delete"})]},oe.id))})})]})]}),L&&ye.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:ye.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg text-center",children:[ye.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Scan QR Code for Order: ",x]}),ye.jsx(Aq,{onScan:Y,onError:oe=>console.error(oe)}),ye.jsx("button",{onClick:()=>O(!1),className:"mt-4 bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Close"})]})})]})};tD.createRoot(document.getElementById("root")).render(ye.jsx(Je.StrictMode,{children:ye.jsx(UV,{children:ye.jsx(mN,{children:ye.jsxs(YD,{children:[ye.jsx(fy,{path:"/",element:ye.jsx(mF,{})}),ye.jsx(fy,{path:"/dashboard",element:ye.jsx(Cq,{})})]})})})}));
