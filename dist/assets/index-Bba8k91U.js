(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function fC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ug={exports:{}},Pc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function W1(){if(ww)return Pc;ww=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Pc.Fragment=e,Pc.jsx=t,Pc.jsxs=t,Pc}var Tw;function J1(){return Tw||(Tw=1,Ug.exports=W1()),Ug.exports}var fe=J1(),Fg={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function X1(){if(Aw)return $e;Aw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function C(q){return q===null||typeof q!="object"?null:(q=T&&q[T]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,B={};function O(q,he,Se){this.props=q,this.context=he,this.refs=B,this.updater=Se||b}O.prototype.isReactComponent={},O.prototype.setState=function(q,he){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,he,"setState")},O.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function x(){}x.prototype=O.prototype;function L(q,he,Se){this.props=q,this.context=he,this.refs=B,this.updater=Se||b}var j=L.prototype=new x;j.constructor=L,R(j,O.prototype),j.isPureReactComponent=!0;var te=Array.isArray,se={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function P(q,he,Se,Te,Ee,Ne){return Se=Ne.ref,{$$typeof:n,type:q,key:he,ref:Se!==void 0?Se:null,props:Ne}}function D(q,he){return P(q.type,he,void 0,void 0,void 0,q.props)}function N(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function V(q){var he={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Se){return he[Se]})}var Y=/\/+/g;function H(q,he){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):he.toString(36)}function F(){}function ke(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(F,F):(q.status="pending",q.then(function(he){q.status==="pending"&&(q.status="fulfilled",q.value=he)},function(he){q.status==="pending"&&(q.status="rejected",q.reason=he)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Ge(q,he,Se,Te,Ee){var Ne=typeof q;(Ne==="undefined"||Ne==="boolean")&&(q=null);var we=!1;if(q===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(q.$$typeof){case n:case e:we=!0;break;case _:return we=q._init,Ge(we(q._payload),he,Se,Te,Ee)}}if(we)return Ee=Ee(q),we=Te===""?"."+H(q,0):Te,te(Ee)?(Se="",we!=null&&(Se=we.replace(Y,"$&/")+"/"),Ge(Ee,he,Se,"",function(tt){return tt})):Ee!=null&&(N(Ee)&&(Ee=D(Ee,Se+(Ee.key==null||q&&q.key===Ee.key?"":(""+Ee.key).replace(Y,"$&/")+"/")+we)),he.push(Ee)),1;we=0;var Pe=Te===""?".":Te+":";if(te(q))for(var Oe=0;Oe<q.length;Oe++)Te=q[Oe],Ne=Pe+H(Te,Oe),we+=Ge(Te,he,Se,Ne,Ee);else if(Oe=C(q),typeof Oe=="function")for(q=Oe.call(q),Oe=0;!(Te=q.next()).done;)Te=Te.value,Ne=Pe+H(Te,Oe++),we+=Ge(Te,he,Se,Ne,Ee);else if(Ne==="object"){if(typeof q.then=="function")return Ge(ke(q),he,Se,Te,Ee);throw he=String(q),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return we}function me(q,he,Se){if(q==null)return q;var Te=[],Ee=0;return Ge(q,Te,"","",function(Ne){return he.call(Se,Ne,Ee++)}),Te}function Ae(q){if(q._status===-1){var he=q._result;he=he(),he.then(function(Se){(q._status===0||q._status===-1)&&(q._status=1,q._result=Se)},function(Se){(q._status===0||q._status===-1)&&(q._status=2,q._result=Se)}),q._status===-1&&(q._status=0,q._result=he)}if(q._status===1)return q._result.default;throw q._result}var be=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function qe(){}return $e.Children={map:me,forEach:function(q,he,Se){me(q,function(){he.apply(this,arguments)},Se)},count:function(q){var he=0;return me(q,function(){he++}),he},toArray:function(q){return me(q,function(he){return he})||[]},only:function(q){if(!N(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},$e.Component=O,$e.Fragment=t,$e.Profiler=a,$e.PureComponent=L,$e.StrictMode=i,$e.Suspense=p,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,$e.act=function(){throw Error("act(...) is not supported in production builds of React.")},$e.cache=function(q){return function(){return q.apply(null,arguments)}},$e.cloneElement=function(q,he,Se){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Te=R({},q.props),Ee=q.key,Ne=void 0;if(he!=null)for(we in he.ref!==void 0&&(Ne=void 0),he.key!==void 0&&(Ee=""+he.key),he)!pe.call(he,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&he.ref===void 0||(Te[we]=he[we]);var we=arguments.length-2;if(we===1)Te.children=Se;else if(1<we){for(var Pe=Array(we),Oe=0;Oe<we;Oe++)Pe[Oe]=arguments[Oe+2];Te.children=Pe}return P(q.type,Ee,void 0,void 0,Ne,Te)},$e.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},$e.createElement=function(q,he,Se){var Te,Ee={},Ne=null;if(he!=null)for(Te in he.key!==void 0&&(Ne=""+he.key),he)pe.call(he,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Ee[Te]=he[Te]);var we=arguments.length-2;if(we===1)Ee.children=Se;else if(1<we){for(var Pe=Array(we),Oe=0;Oe<we;Oe++)Pe[Oe]=arguments[Oe+2];Ee.children=Pe}if(q&&q.defaultProps)for(Te in we=q.defaultProps,we)Ee[Te]===void 0&&(Ee[Te]=we[Te]);return P(q,Ne,void 0,void 0,null,Ee)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(q){return{$$typeof:f,render:q}},$e.isValidElement=N,$e.lazy=function(q){return{$$typeof:_,_payload:{_status:-1,_result:q},_init:Ae}},$e.memo=function(q,he){return{$$typeof:m,type:q,compare:he===void 0?null:he}},$e.startTransition=function(q){var he=se.T,Se={};se.T=Se;try{var Te=q(),Ee=se.S;Ee!==null&&Ee(Se,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(qe,be)}catch(Ne){be(Ne)}finally{se.T=he}},$e.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},$e.use=function(q){return se.H.use(q)},$e.useActionState=function(q,he,Se){return se.H.useActionState(q,he,Se)},$e.useCallback=function(q,he){return se.H.useCallback(q,he)},$e.useContext=function(q){return se.H.useContext(q)},$e.useDebugValue=function(){},$e.useDeferredValue=function(q,he){return se.H.useDeferredValue(q,he)},$e.useEffect=function(q,he){return se.H.useEffect(q,he)},$e.useId=function(){return se.H.useId()},$e.useImperativeHandle=function(q,he,Se){return se.H.useImperativeHandle(q,he,Se)},$e.useInsertionEffect=function(q,he){return se.H.useInsertionEffect(q,he)},$e.useLayoutEffect=function(q,he){return se.H.useLayoutEffect(q,he)},$e.useMemo=function(q,he){return se.H.useMemo(q,he)},$e.useOptimistic=function(q,he){return se.H.useOptimistic(q,he)},$e.useReducer=function(q,he,Se){return se.H.useReducer(q,he,Se)},$e.useRef=function(q){return se.H.useRef(q)},$e.useState=function(q){return se.H.useState(q)},$e.useSyncExternalStore=function(q,he,Se){return se.H.useSyncExternalStore(q,he,Se)},$e.useTransition=function(){return se.H.useTransition()},$e.version="19.0.0",$e}var Cw;function g_(){return Cw||(Cw=1,Fg.exports=X1()),Fg.exports}var J=g_();const We=fC(J);var qg={exports:{}},Lc={},Gg={exports:{}},jg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function Z1(){return bw||(bw=1,function(n){function e(me,Ae){var be=me.length;me.push(Ae);e:for(;0<be;){var qe=be-1>>>1,q=me[qe];if(0<a(q,Ae))me[qe]=Ae,me[be]=q,be=qe;else break e}}function t(me){return me.length===0?null:me[0]}function i(me){if(me.length===0)return null;var Ae=me[0],be=me.pop();if(be!==Ae){me[0]=be;e:for(var qe=0,q=me.length,he=q>>>1;qe<he;){var Se=2*(qe+1)-1,Te=me[Se],Ee=Se+1,Ne=me[Ee];if(0>a(Te,be))Ee<q&&0>a(Ne,Te)?(me[qe]=Ne,me[Ee]=be,qe=Ee):(me[qe]=Te,me[Se]=be,qe=Se);else if(Ee<q&&0>a(Ne,be))me[qe]=Ne,me[Ee]=be,qe=Ee;else break e}}return Ae}function a(me,Ae){var be=me.sortIndex-Ae.sortIndex;return be!==0?be:me.id-Ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var p=[],m=[],_=1,T=null,C=3,b=!1,R=!1,B=!1,O=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function j(me){for(var Ae=t(m);Ae!==null;){if(Ae.callback===null)i(m);else if(Ae.startTime<=me)i(m),Ae.sortIndex=Ae.expirationTime,e(p,Ae);else break;Ae=t(m)}}function te(me){if(B=!1,j(me),!R)if(t(p)!==null)R=!0,ke();else{var Ae=t(m);Ae!==null&&Ge(te,Ae.startTime-me)}}var se=!1,pe=-1,P=5,D=-1;function N(){return!(n.unstable_now()-D<P)}function V(){if(se){var me=n.unstable_now();D=me;var Ae=!0;try{e:{R=!1,B&&(B=!1,x(pe),pe=-1),b=!0;var be=C;try{t:{for(j(me),T=t(p);T!==null&&!(T.expirationTime>me&&N());){var qe=T.callback;if(typeof qe=="function"){T.callback=null,C=T.priorityLevel;var q=qe(T.expirationTime<=me);if(me=n.unstable_now(),typeof q=="function"){T.callback=q,j(me),Ae=!0;break t}T===t(p)&&i(p),j(me)}else i(p);T=t(p)}if(T!==null)Ae=!0;else{var he=t(m);he!==null&&Ge(te,he.startTime-me),Ae=!1}}break e}finally{T=null,C=be,b=!1}Ae=void 0}}finally{Ae?Y():se=!1}}}var Y;if(typeof L=="function")Y=function(){L(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=V,Y=function(){F.postMessage(null)}}else Y=function(){O(V,0)};function ke(){se||(se=!0,Y())}function Ge(me,Ae){pe=O(function(){me(n.unstable_now())},Ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(me){me.callback=null},n.unstable_continueExecution=function(){R||b||(R=!0,ke())},n.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<me?Math.floor(1e3/me):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(me){switch(C){case 1:case 2:case 3:var Ae=3;break;default:Ae=C}var be=C;C=Ae;try{return me()}finally{C=be}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(me,Ae){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var be=C;C=me;try{return Ae()}finally{C=be}},n.unstable_scheduleCallback=function(me,Ae,be){var qe=n.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?qe+be:qe):be=qe,me){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=be+q,me={id:_++,callback:Ae,priorityLevel:me,startTime:be,expirationTime:q,sortIndex:-1},be>qe?(me.sortIndex=be,e(m,me),t(p)===null&&me===t(m)&&(B?(x(pe),pe=-1):B=!0,Ge(te,be-qe))):(me.sortIndex=q,e(p,me),R||b||(R=!0,ke())),me},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(me){var Ae=C;return function(){var be=C;C=Ae;try{return me.apply(this,arguments)}finally{C=be}}}}(jg)),jg}var Sw;function $1(){return Sw||(Sw=1,Gg.exports=Z1()),Gg.exports}var Yg={exports:{}},ii={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function eD(){if(Rw)return ii;Rw=1;var n=g_();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ii.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,_)},ii.flushSync=function(p){var m=u.T,_=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=m,i.p=_,i.d.f()}},ii.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},ii.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},ii.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin),C=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:b}):_==="script"&&i.d.X(p,{crossOrigin:T,integrity:C,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ii.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},ii.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin);i.d.L(p,_,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ii.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},ii.requestFormReset=function(p){i.d.r(p)},ii.unstable_batchedUpdates=function(p,m){return p(m)},ii.useFormState=function(p,m,_){return u.H.useFormState(p,m,_)},ii.useFormStatus=function(){return u.H.useHostTransitionStatus()},ii.version="19.0.0",ii}var Iw;function tD(){if(Iw)return Yg.exports;Iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yg.exports=eD(),Yg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function nD(){if(Dw)return Lc;Dw=1;var n=$1(),e=g_(),t=tD();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),b=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),te=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function D(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case f:return"Portal";case _:return"Profiler";case m:return"StrictMode";case B:return"Suspense";case O:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Provider";case C:return(r._context.displayName||"Context")+".Consumer";case R:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return s=r.displayName||null,s!==null?s:D(r.type)||"Memo";case L:s=r._payload,r=r._init;try{return D(r(s))}catch{}}return null}var N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,Y,H;function F(r){if(Y===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Y=s&&s[1]||"",H=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+r+H}var ke=!1;function Ge(r,s){if(!r||ke)return"";ke=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ae){var ne=ae}Reflect.construct(r,[],de)}else{try{de.call()}catch(ae){ne=ae}r.call(de.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),A=g[0],I=g[1];if(A&&I){var U=A.split(`
`),K=I.split(`
`);for(d=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(c===U.length||d===K.length)for(c=U.length-1,d=K.length-1;1<=c&&0<=d&&U[c]!==K[d];)d--;for(;1<=c&&0<=d;c--,d--)if(U[c]!==K[d]){if(c!==1||d!==1)do if(c--,d--,0>d||U[c]!==K[d]){var le=`
`+U[c].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=c&&0<=d);break}}}finally{ke=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?F(o):""}function me(r){switch(r.tag){case 26:case 27:case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return r=Ge(r.type,!1),r;case 11:return r=Ge(r.type.render,!1),r;case 1:return r=Ge(r.type,!0),r;default:return""}}function Ae(r){try{var s="";do s+=me(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function be(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function qe(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function q(r){if(be(r)!==r)throw Error(i(188))}function he(r){var s=r.alternate;if(!s){if(s=be(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return q(d),r;if(g===c)return q(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=g;else{for(var A=!1,I=d.child;I;){if(I===o){A=!0,o=d,c=g;break}if(I===c){A=!0,c=d,o=g;break}I=I.sibling}if(!A){for(I=g.child;I;){if(I===o){A=!0,o=g,c=d;break}if(I===c){A=!0,c=g,o=d;break}I=I.sibling}if(!A)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function Se(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=Se(r),s!==null)return s;r=r.sibling}return null}var Te=Array.isArray,Ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},we=[],Pe=-1;function Oe(r){return{current:r}}function tt(r){0>Pe||(r.current=we[Pe],we[Pe]=null,Pe--)}function ze(r,s){Pe++,we[Pe]=r.current,r.current=s}var Tt=Oe(null),It=Oe(null),xt=Oe(null),qn=Oe(null);function Gn(r,s){switch(ze(xt,s),ze(It,r),ze(Tt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?J0(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=J0(r),s=X0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}tt(Tt),ze(Tt,s)}function fn(){tt(Tt),tt(It),tt(xt)}function Xt(r){r.memoizedState!==null&&ze(qn,r);var s=Tt.current,o=X0(s,r.type);s!==o&&(ze(It,r),ze(Tt,o))}function Pr(r){It.current===r&&(tt(Tt),tt(It)),qn.current===r&&(tt(qn),Nc._currentValue=Ne)}var Lr=Object.prototype.hasOwnProperty,Di=n.unstable_scheduleCallback,Qe=n.unstable_cancelCallback,nt=n.unstable_shouldYield,Qi=n.unstable_requestPaint,Tn=n.unstable_now,hl=n.unstable_getCurrentPriorityLevel,Dt=n.unstable_ImmediatePriority,dn=n.unstable_UserBlockingPriority,Ni=n.unstable_NormalPriority,fl=n.unstable_LowPriority,Br=n.unstable_IdlePriority,uo=n.log,fs=n.unstable_setDisableYieldValue,Vr=null,kn=null;function co(r){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Vr,r,void 0,(r.current.flags&128)===128)}catch{}}function Ki(r){if(typeof uo=="function"&&fs(r),kn&&typeof kn.setStrictMode=="function")try{kn.setStrictMode(Vr,r)}catch{}}var jn=Math.clz32?Math.clz32:Js,ho=Math.log,ds=Math.LN2;function Js(r){return r>>>=0,r===0?32:31-(ho(r)/ds|0)|0}var ei=128,ui=4194304;function An(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Yn(r,s){var o=r.pendingLanes;if(o===0)return 0;var c=0,d=r.suspendedLanes,g=r.pingedLanes,A=r.warmLanes;r=r.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~d,o!==0?c=An(o):(g&=I,g!==0?c=An(g):r||(A=I&~A,A!==0&&(c=An(A))))):(I=o&~d,I!==0?c=An(I):g!==0?c=An(g):r||(A=o&~A,A!==0&&(c=An(A)))),c===0?0:s!==0&&s!==c&&!(s&d)&&(d=c&-c,A=s&-s,d>=A||d===32&&(A&4194176)!==0)?s:c}function pr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function mr(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mi(){var r=ei;return ei<<=1,!(ei&4194176)&&(ei=128),r}function Ur(){var r=ui;return ui<<=1,!(ui&62914560)&&(ui=4194304),r}function Xs(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Ht(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function fo(r,s,o,c,d,g){var A=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,U=r.expirationTimes,K=r.hiddenUpdates;for(o=A&~o;0<o;){var le=31-jn(o),de=1<<le;I[le]=0,U[le]=-1;var ne=K[le];if(ne!==null)for(K[le]=null,le=0;le<ne.length;le++){var ae=ne[le];ae!==null&&(ae.lane&=-536870913)}o&=~de}c!==0&&jt(r,c,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(A&~s))}function jt(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-jn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194218}function ci(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-jn(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}function ft(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function dl(){var r=Ee.p;return r!==0?r:(r=window.event,r===void 0?32:mw(r.type))}function Cn(r,s){var o=Ee.p;try{return Ee.p=r,s()}finally{Ee.p=o}}var pn=Math.random().toString(36).slice(2),mn="__reactFiber$"+pn,an="__reactProps$"+pn,Oi="__reactContainer$"+pn,gr="__reactEvents$"+pn,ps="__reactListeners$"+pn,Wi="__reactHandles$"+pn,Zs="__reactResources$"+pn,yr="__reactMarker$"+pn;function Fr(r){delete r[mn],delete r[an],delete r[gr],delete r[ps],delete r[Wi]}function xi(r){var s=r[mn];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Oi]||o[mn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=ew(r);r!==null;){if(o=r[mn])return o;r=ew(r)}return s}r=o,o=r.parentNode}return null}function _r(r){if(r=r[mn]||r[Oi]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function qr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ki(r){var s=r[Zs];return s||(s=r[Zs]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qt(r){r[yr]=!0}var vr=new Set,$s={};function Pn(r,s){bn(r,s),bn(r+"Capture",s)}function bn(r,s){for($s[r]=s,r=0;r<s.length;r++)vr.add(s[r])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},mo={};function ml(r){return Lr.call(mo,r)?!0:Lr.call(po,r)?!1:pl.test(r)?mo[r]=!0:(po[r]=!0,!1)}function Gr(r,s,o){if(ml(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ji(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function yi(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function Hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function gl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qu(r){var s=gl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(A){c=""+A,g.call(this,A)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Xi(r){r._valueTracker||(r._valueTracker=qu(r))}function ea(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=gl(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function ta(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var _i=/[\n"\\]/g;function Gt(r){return r.replace(_i,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ke(r,s,o,c,d,g,A,I){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),s!=null?A==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Hn(s)):r.value!==""+Hn(s)&&(r.value=""+Hn(s)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),s!=null?na(r,A,Hn(s)):o!=null?na(r,A,Hn(o)):c!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+Hn(I):r.removeAttribute("name")}function ms(r,s,o,c,d,g,A,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+Hn(o):"",s=s!=null?""+Hn(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=I?r.checked:!!c,r.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function na(r,s,o){s==="number"&&ta(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function je(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Hn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function gs(r,s,o){if(s!=null&&(s=""+Hn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Hn(o):""}function Er(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(Te(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Hn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function hi(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||ia.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ra(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&go(r,d,c)}else for(var g in s)s.hasOwnProperty(g)&&go(r,g,s[g])}function yo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pi(r){return Gu.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var vi=null;function jr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Sn=null,Li=null;function wr(r){var s=_r(r);if(s&&(r=s.stateNode)){var o=r[an]||null;e:switch(r=s.stateNode,s.type){case"input":if(Ke(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Gt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=c[an]||null;if(!d)throw Error(i(90));Ke(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&ea(c)}break e;case"textarea":gs(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&je(r,!!o.multiple,s,!1)}}}var vo=!1;function Ei(r,s,o){if(vo)return r(s,o);vo=!0;try{var c=r(s);return c}finally{if(vo=!1,(Sn!==null||Li!==null)&&(Lf(),Sn&&(s=Sn,r=Li,Li=Sn=null,wr(s),r)))for(s=0;s<r.length;s++)wr(r[s])}}function Yr(r,s){var o=r.stateNode;if(o===null)return null;var c=o[an]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var wi=!1;if(ti)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){wi=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{wi=!1}var Zi=null,Hr=null,Ar=null;function Eo(){if(Ar)return Ar;var r,s=Hr,o=s.length,c,d="value"in Zi?Zi.value:Zi.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var A=o-r;for(c=1;c<=A&&s[o-c]===d[g-c];c++);return Ar=d.slice(r,1<c?1-c:void 0)}function $i(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function er(){return!0}function wo(){return!1}function gn(r){function s(o,c,d,g,A){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?er:wo,this.isPropagationStopped=wo,this}return V(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),s}var Ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=gn(Ct),ys=V({},Ct,{view:0,detail:0}),To=gn(ys),_s,sa,nr,zr=V({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==nr&&(nr&&r.type==="mousemove"?(_s=r.screenX-nr.screenX,sa=r.screenY-nr.screenY):sa=_s=0,nr=r),_s)},movementY:function(r){return"movementY"in r?r.movementY:sa}}),Ti=gn(zr),yl=V({},zr,{dataTransfer:0}),ju=gn(yl),vs=V({},ys,{relatedTarget:0}),aa=gn(vs),Ao=V({},Ct,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=gn(Ao),_l=V({},Ct,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),la=gn(_l),Yu=V({},Ct,{data:0}),Co=gn(Yu),Cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},El={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=El[r])?!!s[r]:!1}function Qr(){return bo}var wl=V({},ys,{key:function(r){if(r.key){var s=Cr[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=$i(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?vl[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(r){return r.type==="keypress"?$i(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$i(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ua=gn(wl),So=V({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=gn(So),br=V({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),Tl=gn(br),Al=V({},Ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cl=gn(Al),bl=V({},zr,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=gn(bl),zn=V({},Ct,{newState:0,oldState:0}),Sl=gn(zn),Rl=[9,13,27,32],ir=ti&&"CompositionEvent"in window,h=null;ti&&"documentMode"in document&&(h=document.documentMode);var y=ti&&"TextEvent"in window&&!h,w=ti&&(!ir||h&&8<h&&11>=h),M=" ",Z=!1;function ie(r,s){switch(r){case"keyup":return Rl.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var dt=!1;function on(r,s){switch(r){case"compositionend":return ve(s);case"keypress":return s.which!==32?null:(Z=!0,M);case"textInput":return r=s.data,r===M&&Z?null:r;default:return null}}function pt(r,s){if(dt)return r==="compositionend"||!ir&&ie(r,s)?(r=Eo(),Ar=Hr=Zi=null,dt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ln(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!yn[r.type]:s==="textarea"}function Sr(r,s,o,c){Sn?Li?Li.push(c):Li=[c]:Sn=c,s=qf(s,"onChange"),0<s.length&&(o=new tr("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Rn=null,gt=null;function ha(r){H0(r,0)}function Ai(r){var s=qr(r);if(ea(s))return r}function Il(r,s){if(r==="change")return s}var Hu=!1;if(ti){var it;if(ti){var Dl="oninput"in document;if(!Dl){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),Dl=typeof zu.oninput=="function"}it=Dl}else it=!1;Hu=it&&(!document.documentMode||9<document.documentMode)}function Qu(){Rn&&(Rn.detachEvent("onpropertychange",Ku),gt=Rn=null)}function Ku(r){if(r.propertyName==="value"&&Ai(gt)){var s=[];Sr(s,gt,r,jr(r)),Ei(ha,s)}}function Kh(r,s,o){r==="focusin"?(Qu(),Rn=s,gt=o,Rn.attachEvent("onpropertychange",Ku)):r==="focusout"&&Qu()}function Wh(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ai(gt)}function Jh(r,s){if(r==="click")return Ai(s)}function Xh(r,s){if(r==="input"||r==="change")return Ai(s)}function tm(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var fi=typeof Object.is=="function"?Object.is:tm;function Io(r,s){if(fi(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Lr.call(s,d)||!fi(r[d],s[d]))return!1}return!0}function Zh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $h(r,s){var o=Zh(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Zh(o)}}function ef(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?ef(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function tf(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ta(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ta(r.document)}return s}function Wu(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function nm(r,s){var o=tf(s);s=r.focusedElem;var c=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&ef(s.ownerDocument.documentElement,s)){if(c!==null&&Wu(s)){if(r=c.start,o=c.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var d=s.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!o.extend&&g>c&&(d=c,c=g,g=d),d=$h(s,g);var A=$h(s,c);d&&A&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==A.node||o.focusOffset!==A.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),o.removeAllRanges(),g>c?(o.addRange(r),o.extend(A.node,A.offset)):(r.setEnd(A.node,A.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var im=ti&&"documentMode"in document&&11>=document.documentMode,fa=null,Ju=null,Do=null,Xu=!1;function nf(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xu||fa==null||fa!==ta(c)||(c=fa,"selectionStart"in c&&Wu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Do&&Io(Do,c)||(Do=c,c=qf(Ju,"onSelect"),0<c.length&&(s=new tr("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=fa)))}function Es(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var da={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Zu={},rf={};ti&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function ws(r){if(Zu[r])return Zu[r];if(!da[r])return r;var s=da[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in rf)return Zu[r]=s[o];return r}var sf=ws("animationend"),af=ws("animationiteration"),of=ws("animationstart"),rm=ws("transitionrun"),sm=ws("transitionstart"),am=ws("transitioncancel"),lf=ws("transitionend"),uf=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bi(r,s){uf.set(r,s),Pn(s,[r])}var Ci=[],pa=0,$u=0;function Nl(){for(var r=pa,s=$u=pa=0;s<r;){var o=Ci[s];Ci[s++]=null;var c=Ci[s];Ci[s++]=null;var d=Ci[s];Ci[s++]=null;var g=Ci[s];if(Ci[s++]=null,c!==null&&d!==null){var A=c.pending;A===null?d.next=d:(d.next=A.next,A.next=d),c.pending=d}g!==0&&E(o,d,g)}}function Ts(r,s,o,c){Ci[pa++]=r,Ci[pa++]=s,Ci[pa++]=o,Ci[pa++]=c,$u|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Ml(r,s,o,c){return Ts(r,s,o,c),S(r)}function v(r,s){return Ts(r,null,null,s),S(r)}function E(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;d&&s!==null&&r.tag===3&&(g=r.stateNode,d=31-jn(o),g=g.hiddenUpdates,r=g[d],r===null?g[d]=[s]:r.push(s),s.lane=o|536870912)}function S(r){if(50<Ac)throw Ac=0,ug=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var k={},G=new WeakMap;function z(r,s){if(typeof r=="object"&&r!==null){var o=G.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ae(s)},G.set(r,s),s)}return{value:r,source:s,stack:Ae(s)}}var $=[],W=0,oe=null,ge=0,ye=[],Ie=0,Xe=null,Ze=1,yt="";function kt(r,s){$[W++]=ge,$[W++]=oe,oe=r,ge=s}function zt(r,s,o){ye[Ie++]=Ze,ye[Ie++]=yt,ye[Ie++]=Xe,Xe=r;var c=Ze;r=yt;var d=32-jn(c)-1;c&=~(1<<d),o+=1;var g=32-jn(s)+d;if(30<g){var A=d-d%5;g=(c&(1<<A)-1).toString(32),c>>=A,d-=A,Ze=1<<32-jn(s)+d|o<<d|c,yt=g+r}else Ze=1<<g|o<<d|c,yt=r}function Yt(r){r.return!==null&&(kt(r,1),zt(r,1,0))}function Rr(r){for(;r===oe;)oe=$[--W],$[W]=null,ge=$[--W],$[W]=null;for(;r===Xe;)Xe=ye[--Ie],ye[Ie]=null,yt=ye[--Ie],ye[Ie]=null,Ze=ye[--Ie],ye[Ie]=null}var Rt=null,Pt=null,lt=!1,Vi=null,Ui=!1,Ol=Error(i(519));function Kr(r){var s=Error(i(418,""));throw tc(z(s,r)),Ol}function No(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[mn]=r,s[an]=c,o){case"dialog":mt("cancel",s),mt("close",s);break;case"iframe":case"object":case"embed":mt("load",s);break;case"video":case"audio":for(o=0;o<bc.length;o++)mt(bc[o],s);break;case"source":mt("error",s);break;case"img":case"image":case"link":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"input":mt("invalid",s),ms(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Xi(s);break;case"select":mt("invalid",s);break;case"textarea":mt("invalid",s),Er(s,c.value,c.defaultValue,c.children),Xi(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||W0(s.textContent,o)?(c.popover!=null&&(mt("beforetoggle",s),mt("toggle",s)),c.onScroll!=null&&mt("scroll",s),c.onScrollEnd!=null&&mt("scrollend",s),c.onClick!=null&&(s.onclick=Gf),s=!0):s=!1,s||Kr(r)}function Mo(r){for(Rt=r.return;Rt;)switch(Rt.tag){case 3:case 27:Ui=!0;return;case 5:case 13:Ui=!1;return;default:Rt=Rt.return}}function ma(r){if(r!==Rt)return!1;if(!lt)return Mo(r),lt=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Sg(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&Pt&&Kr(r),Mo(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Pt=Dr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Pt=null}}else Pt=Rt?Dr(r.stateNode.nextSibling):null;return!0}function ec(){Pt=Rt=null,lt=!1}function tc(r){Vi===null?Vi=[r]:Vi.push(r)}var nc=Error(i(460)),Gv=Error(i(474)),om={then:function(){}};function jv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function hf(){}function Yv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(hf,hf),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===nc?Error(i(483)):r;default:if(typeof s.status=="string")s.then(hf,hf);else{if(r=Bt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===nc?Error(i(483)):r}throw ic=s,nc}}var ic=null;function Hv(){if(ic===null)throw Error(i(459));var r=ic;return ic=null,r}var xl=null,rc=0;function ff(r){var s=rc;return rc+=1,xl===null&&(xl=[]),Yv(xl,r,s)}function sc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function df(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function zv(r){var s=r._init;return s(r._payload)}function Qv(r){function s(X,Q){if(r){var ee=X.deletions;ee===null?(X.deletions=[Q],X.flags|=16):ee.push(Q)}}function o(X,Q){if(!r)return null;for(;Q!==null;)s(X,Q),Q=Q.sibling;return null}function c(X){for(var Q=new Map;X!==null;)X.key!==null?Q.set(X.key,X):Q.set(X.index,X),X=X.sibling;return Q}function d(X,Q){return X=Ra(X,Q),X.index=0,X.sibling=null,X}function g(X,Q,ee){return X.index=ee,r?(ee=X.alternate,ee!==null?(ee=ee.index,ee<Q?(X.flags|=33554434,Q):ee):(X.flags|=33554434,Q)):(X.flags|=1048576,Q)}function A(X){return r&&X.alternate===null&&(X.flags|=33554434),X}function I(X,Q,ee,ue){return Q===null||Q.tag!==6?(Q=tg(ee,X.mode,ue),Q.return=X,Q):(Q=d(Q,ee),Q.return=X,Q)}function U(X,Q,ee,ue){var De=ee.type;return De===p?le(X,Q,ee.props.children,ue,ee.key):Q!==null&&(Q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===L&&zv(De)===Q.type)?(Q=d(Q,ee.props),sc(Q,ee),Q.return=X,Q):(Q=Mf(ee.type,ee.key,ee.props,null,X.mode,ue),sc(Q,ee),Q.return=X,Q)}function K(X,Q,ee,ue){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ee.containerInfo||Q.stateNode.implementation!==ee.implementation?(Q=ng(ee,X.mode,ue),Q.return=X,Q):(Q=d(Q,ee.children||[]),Q.return=X,Q)}function le(X,Q,ee,ue,De){return Q===null||Q.tag!==7?(Q=qo(ee,X.mode,ue,De),Q.return=X,Q):(Q=d(Q,ee),Q.return=X,Q)}function de(X,Q,ee){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=tg(""+Q,X.mode,ee),Q.return=X,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return ee=Mf(Q.type,Q.key,Q.props,null,X.mode,ee),sc(ee,Q),ee.return=X,ee;case f:return Q=ng(Q,X.mode,ee),Q.return=X,Q;case L:var ue=Q._init;return Q=ue(Q._payload),de(X,Q,ee)}if(Te(Q)||pe(Q))return Q=qo(Q,X.mode,ee,null),Q.return=X,Q;if(typeof Q.then=="function")return de(X,ff(Q),ee);if(Q.$$typeof===b)return de(X,If(X,Q),ee);df(X,Q)}return null}function ne(X,Q,ee,ue){var De=Q!==null?Q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return De!==null?null:I(X,Q,""+ee,ue);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:return ee.key===De?U(X,Q,ee,ue):null;case f:return ee.key===De?K(X,Q,ee,ue):null;case L:return De=ee._init,ee=De(ee._payload),ne(X,Q,ee,ue)}if(Te(ee)||pe(ee))return De!==null?null:le(X,Q,ee,ue,null);if(typeof ee.then=="function")return ne(X,Q,ff(ee),ue);if(ee.$$typeof===b)return ne(X,Q,If(X,ee),ue);df(X,ee)}return null}function ae(X,Q,ee,ue,De){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return X=X.get(ee)||null,I(Q,X,""+ue,De);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case u:return X=X.get(ue.key===null?ee:ue.key)||null,U(Q,X,ue,De);case f:return X=X.get(ue.key===null?ee:ue.key)||null,K(Q,X,ue,De);case L:var st=ue._init;return ue=st(ue._payload),ae(X,Q,ee,ue,De)}if(Te(ue)||pe(ue))return X=X.get(ee)||null,le(Q,X,ue,De,null);if(typeof ue.then=="function")return ae(X,Q,ee,ff(ue),De);if(ue.$$typeof===b)return ae(X,Q,ee,If(Q,ue),De);df(Q,ue)}return null}function Me(X,Q,ee,ue){for(var De=null,st=null,xe=Q,Le=Q=0,Vn=null;xe!==null&&Le<ee.length;Le++){xe.index>Le?(Vn=xe,xe=null):Vn=xe.sibling;var bt=ne(X,xe,ee[Le],ue);if(bt===null){xe===null&&(xe=Vn);break}r&&xe&&bt.alternate===null&&s(X,xe),Q=g(bt,Q,Le),st===null?De=bt:st.sibling=bt,st=bt,xe=Vn}if(Le===ee.length)return o(X,xe),lt&&kt(X,Le),De;if(xe===null){for(;Le<ee.length;Le++)xe=de(X,ee[Le],ue),xe!==null&&(Q=g(xe,Q,Le),st===null?De=xe:st.sibling=xe,st=xe);return lt&&kt(X,Le),De}for(xe=c(xe);Le<ee.length;Le++)Vn=ae(xe,X,Le,ee[Le],ue),Vn!==null&&(r&&Vn.alternate!==null&&xe.delete(Vn.key===null?Le:Vn.key),Q=g(Vn,Q,Le),st===null?De=Vn:st.sibling=Vn,st=Vn);return r&&xe.forEach(function(ka){return s(X,ka)}),lt&&kt(X,Le),De}function Ye(X,Q,ee,ue){if(ee==null)throw Error(i(151));for(var De=null,st=null,xe=Q,Le=Q=0,Vn=null,bt=ee.next();xe!==null&&!bt.done;Le++,bt=ee.next()){xe.index>Le?(Vn=xe,xe=null):Vn=xe.sibling;var ka=ne(X,xe,bt.value,ue);if(ka===null){xe===null&&(xe=Vn);break}r&&xe&&ka.alternate===null&&s(X,xe),Q=g(ka,Q,Le),st===null?De=ka:st.sibling=ka,st=ka,xe=Vn}if(bt.done)return o(X,xe),lt&&kt(X,Le),De;if(xe===null){for(;!bt.done;Le++,bt=ee.next())bt=de(X,bt.value,ue),bt!==null&&(Q=g(bt,Q,Le),st===null?De=bt:st.sibling=bt,st=bt);return lt&&kt(X,Le),De}for(xe=c(xe);!bt.done;Le++,bt=ee.next())bt=ae(xe,X,Le,bt.value,ue),bt!==null&&(r&&bt.alternate!==null&&xe.delete(bt.key===null?Le:bt.key),Q=g(bt,Q,Le),st===null?De=bt:st.sibling=bt,st=bt);return r&&xe.forEach(function(K1){return s(X,K1)}),lt&&kt(X,Le),De}function en(X,Q,ee,ue){if(typeof ee=="object"&&ee!==null&&ee.type===p&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:e:{for(var De=ee.key;Q!==null;){if(Q.key===De){if(De=ee.type,De===p){if(Q.tag===7){o(X,Q.sibling),ue=d(Q,ee.props.children),ue.return=X,X=ue;break e}}else if(Q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===L&&zv(De)===Q.type){o(X,Q.sibling),ue=d(Q,ee.props),sc(ue,ee),ue.return=X,X=ue;break e}o(X,Q);break}else s(X,Q);Q=Q.sibling}ee.type===p?(ue=qo(ee.props.children,X.mode,ue,ee.key),ue.return=X,X=ue):(ue=Mf(ee.type,ee.key,ee.props,null,X.mode,ue),sc(ue,ee),ue.return=X,X=ue)}return A(X);case f:e:{for(De=ee.key;Q!==null;){if(Q.key===De)if(Q.tag===4&&Q.stateNode.containerInfo===ee.containerInfo&&Q.stateNode.implementation===ee.implementation){o(X,Q.sibling),ue=d(Q,ee.children||[]),ue.return=X,X=ue;break e}else{o(X,Q);break}else s(X,Q);Q=Q.sibling}ue=ng(ee,X.mode,ue),ue.return=X,X=ue}return A(X);case L:return De=ee._init,ee=De(ee._payload),en(X,Q,ee,ue)}if(Te(ee))return Me(X,Q,ee,ue);if(pe(ee)){if(De=pe(ee),typeof De!="function")throw Error(i(150));return ee=De.call(ee),Ye(X,Q,ee,ue)}if(typeof ee.then=="function")return en(X,Q,ff(ee),ue);if(ee.$$typeof===b)return en(X,Q,If(X,ee),ue);df(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Q!==null&&Q.tag===6?(o(X,Q.sibling),ue=d(Q,ee),ue.return=X,X=ue):(o(X,Q),ue=tg(ee,X.mode,ue),ue.return=X,X=ue),A(X)):o(X,Q)}return function(X,Q,ee,ue){try{rc=0;var De=en(X,Q,ee,ue);return xl=null,De}catch(xe){if(xe===nc)throw xe;var st=or(29,xe,null,X.mode);return st.lanes=ue,st.return=X,st}finally{}}}var Oo=Qv(!0),Kv=Qv(!1),kl=Oe(null),pf=Oe(0);function Wv(r,s){r=xs,ze(pf,r),ze(kl,s),xs=r|s.baseLanes}function lm(){ze(pf,xs),ze(kl,kl.current)}function um(){xs=pf.current,tt(kl),tt(pf)}var rr=Oe(null),Wr=null;function ga(r){var s=r.alternate;ze(In,In.current&1),ze(rr,r),Wr===null&&(s===null||kl.current!==null||s.memoizedState!==null)&&(Wr=r)}function Jv(r){if(r.tag===22){if(ze(In,In.current),ze(rr,r),Wr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Wr=r)}}else ya()}function ya(){ze(In,In.current),ze(rr,rr.current)}function As(r){tt(rr),Wr===r&&(Wr=null),tt(In)}var In=Oe(0);function mf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var PI=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},LI=n.unstable_scheduleCallback,BI=n.unstable_NormalPriority,Dn={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cm(){return{controller:new PI,data:new Map,refCount:0}}function ac(r){r.refCount--,r.refCount===0&&LI(BI,function(){r.controller.abort()})}var oc=null,hm=0,Pl=0,Ll=null;function VI(r,s){if(oc===null){var o=oc=[];hm=0,Pl=yg(),Ll={status:"pending",value:void 0,then:function(c){o.push(c)}}}return hm++,s.then(Xv,Xv),s}function Xv(){if(--hm===0&&oc!==null){Ll!==null&&(Ll.status="fulfilled");var r=oc;oc=null,Pl=0,Ll=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function UI(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Zv=N.S;N.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&VI(r,s),Zv!==null&&Zv(r,s)};var xo=Oe(null);function fm(){var r=xo.current;return r!==null?r:Bt.pooledCache}function gf(r,s){s===null?ze(xo,xo.current):ze(xo,s.pool)}function $v(){var r=fm();return r===null?null:{parent:Dn._currentValue,pool:r}}var _a=0,rt=null,Nt=null,_n=null,yf=!1,Bl=!1,ko=!1,_f=0,lc=0,Vl=null,FI=0;function un(){throw Error(i(321))}function dm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!fi(r[o],s[o]))return!1;return!0}function pm(r,s,o,c,d,g){return _a=g,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,N.H=r===null||r.memoizedState===null?Po:va,ko=!1,g=o(c,d),ko=!1,Bl&&(g=tE(s,o,c,d)),eE(r),g}function eE(r){N.H=Jr;var s=Nt!==null&&Nt.next!==null;if(_a=0,_n=Nt=rt=null,yf=!1,lc=0,Vl=null,s)throw Error(i(300));r===null||Ln||(r=r.dependencies,r!==null&&Rf(r)&&(Ln=!0))}function tE(r,s,o,c){rt=r;var d=0;do{if(Bl&&(Vl=null),lc=0,Bl=!1,25<=d)throw Error(i(301));if(d+=1,_n=Nt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}N.H=Lo,g=s(o,c)}while(Bl);return g}function qI(){var r=N.H,s=r.useState()[0];return s=typeof s.then=="function"?uc(s):s,r=r.useState()[0],(Nt!==null?Nt.memoizedState:null)!==r&&(rt.flags|=1024),s}function mm(){var r=_f!==0;return _f=0,r}function gm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function ym(r){if(yf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yf=!1}_a=0,_n=Nt=rt=null,Bl=!1,lc=_f=0,Vl=null}function bi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?rt.memoizedState=_n=r:_n=_n.next=r,_n}function vn(){if(Nt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=Nt.next;var s=_n===null?rt.memoizedState:_n.next;if(s!==null)_n=s,Nt=r;else{if(r===null)throw rt.alternate===null?Error(i(467)):Error(i(310));Nt=r,r={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},_n===null?rt.memoizedState=_n=r:_n=_n.next=r}return _n}var vf;vf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function uc(r){var s=lc;return lc+=1,Vl===null&&(Vl=[]),r=Yv(Vl,r,s),s=rt,(_n===null?s.memoizedState:_n.next)===null&&(s=s.alternate,N.H=s===null||s.memoizedState===null?Po:va),r}function Ef(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return uc(r);if(r.$$typeof===b)return ni(r)}throw Error(i(438,String(r)))}function _m(r){var s=null,o=rt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=rt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=vf(),rt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=te;return s.index++,o}function Cs(r,s){return typeof s=="function"?s(r):s}function wf(r){var s=vn();return vm(s,Nt,r)}function vm(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=r.baseQueue,g=c.pending;if(g!==null){if(d!==null){var A=d.next;d.next=g.next,g.next=A}s.baseQueue=d=g,c.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var I=A=null,U=null,K=s,le=!1;do{var de=K.lane&-536870913;if(de!==K.lane?(_t&de)===de:(_a&de)===de){var ne=K.revertLane;if(ne===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),de===Pl&&(le=!0);else if((_a&ne)===ne){K=K.next,ne===Pl&&(le=!0);continue}else de={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},U===null?(I=U=de,A=g):U=U.next=de,rt.lanes|=ne,Ia|=ne;de=K.action,ko&&o(g,de),g=K.hasEagerState?K.eagerState:o(g,de)}else ne={lane:de,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},U===null?(I=U=ne,A=g):U=U.next=ne,rt.lanes|=de,Ia|=de;K=K.next}while(K!==null&&K!==s);if(U===null?A=g:U.next=I,!fi(g,r.memoizedState)&&(Ln=!0,le&&(o=Ll,o!==null)))throw o;r.memoizedState=g,r.baseState=A,r.baseQueue=U,c.lastRenderedState=g}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Em(r){var s=vn(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var A=d=d.next;do g=r(g,A.action),A=A.next;while(A!==d);fi(g,s.memoizedState)||(Ln=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function nE(r,s,o){var c=rt,d=vn(),g=lt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var A=!fi((Nt||d).memoizedState,o);if(A&&(d.memoizedState=o,Ln=!0),d=d.queue,Am(sE.bind(null,c,d,r),[r]),d.getSnapshot!==s||A||_n!==null&&_n.memoizedState.tag&1){if(c.flags|=2048,Ul(9,rE.bind(null,c,d,o,s),{destroy:void 0},null),Bt===null)throw Error(i(349));g||_a&60||iE(c,s,o)}return o}function iE(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=rt.updateQueue,s===null?(s=vf(),rt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function rE(r,s,o,c){s.value=o,s.getSnapshot=c,aE(s)&&oE(r)}function sE(r,s,o){return o(function(){aE(s)&&oE(r)})}function aE(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!fi(r,o)}catch{return!0}}function oE(r){var s=v(r,2);s!==null&&di(s,r,2)}function wm(r){var s=bi();if(typeof r=="function"){var o=r;if(r=o(),ko){Ki(!0);try{o()}finally{Ki(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:r},s}function lE(r,s,o,c){return r.baseState=o,vm(r,Nt,typeof c=="function"?c:Cs)}function GI(r,s,o,c,d){if(Cf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};N.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,uE(s,g)):(g.next=o.next,s.pending=o.next=g)}}function uE(r,s){var o=s.action,c=s.payload,d=r.state;if(s.isTransition){var g=N.T,A={};N.T=A;try{var I=o(d,c),U=N.S;U!==null&&U(A,I),cE(r,s,I)}catch(K){Tm(r,s,K)}finally{N.T=g}}else try{g=o(d,c),cE(r,s,g)}catch(K){Tm(r,s,K)}}function cE(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){hE(r,s,c)},function(c){return Tm(r,s,c)}):hE(r,s,o)}function hE(r,s,o){s.status="fulfilled",s.value=o,fE(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,uE(r,o)))}function Tm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,fE(s),s=s.next;while(s!==c)}r.action=null}function fE(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function dE(r,s){return s}function pE(r,s){if(lt){var o=Bt.formState;if(o!==null){e:{var c=rt;if(lt){if(Pt){t:{for(var d=Pt,g=Ui;d.nodeType!==8;){if(!g){d=null;break t}if(d=Dr(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Pt=Dr(d.nextSibling),c=d.data==="F!";break e}}Kr(c)}c=!1}c&&(s=o[0])}}return o=bi(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dE,lastRenderedState:s},o.queue=c,o=OE.bind(null,rt,c),c.dispatch=o,c=wm(!1),g=Im.bind(null,rt,!1,c.queue),c=bi(),d={state:s,dispatch:null,action:r,pending:null},c.queue=d,o=GI.bind(null,rt,d,g,o),d.dispatch=o,c.memoizedState=r,[s,o,!1]}function mE(r){var s=vn();return gE(s,Nt,r)}function gE(r,s,o){s=vm(r,s,dE)[0],r=wf(Cs)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?uc(s):s;var c=vn(),d=c.queue,g=d.dispatch;return o!==c.memoizedState&&(rt.flags|=2048,Ul(9,jI.bind(null,d,o),{destroy:void 0},null)),[s,g,r]}function jI(r,s){r.action=s}function yE(r){var s=vn(),o=Nt;if(o!==null)return gE(s,o,r);vn(),s=s.memoizedState,o=vn();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Ul(r,s,o,c){return r={tag:r,create:s,inst:o,deps:c,next:null},s=rt.updateQueue,s===null&&(s=vf(),rt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function _E(){return vn().memoizedState}function Tf(r,s,o,c){var d=bi();rt.flags|=r,d.memoizedState=Ul(1|s,o,{destroy:void 0},c===void 0?null:c)}function Af(r,s,o,c){var d=vn();c=c===void 0?null:c;var g=d.memoizedState.inst;Nt!==null&&c!==null&&dm(c,Nt.memoizedState.deps)?d.memoizedState=Ul(s,o,g,c):(rt.flags|=r,d.memoizedState=Ul(1|s,o,g,c))}function vE(r,s){Tf(8390656,8,r,s)}function Am(r,s){Af(2048,8,r,s)}function EE(r,s){return Af(4,2,r,s)}function wE(r,s){return Af(4,4,r,s)}function TE(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function AE(r,s,o){o=o!=null?o.concat([r]):null,Af(4,4,TE.bind(null,s,r),o)}function Cm(){}function CE(r,s){var o=vn();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&dm(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function bE(r,s){var o=vn();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&dm(s,c[1]))return c[0];if(c=r(),ko){Ki(!0);try{r()}finally{Ki(!1)}}return o.memoizedState=[c,s],c}function bm(r,s,o){return o===void 0||_a&1073741824?r.memoizedState=s:(r.memoizedState=o,r=R0(),rt.lanes|=r,Ia|=r,o)}function SE(r,s,o,c){return fi(o,s)?o:kl.current!==null?(r=bm(r,o,c),fi(r,s)||(Ln=!0),r):_a&42?(r=R0(),rt.lanes|=r,Ia|=r,s):(Ln=!0,r.memoizedState=o)}function RE(r,s,o,c,d){var g=Ee.p;Ee.p=g!==0&&8>g?g:8;var A=N.T,I={};N.T=I,Im(r,!1,s,o);try{var U=d(),K=N.S;if(K!==null&&K(I,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var le=UI(U,c);cc(r,s,le,ji(r))}else cc(r,s,c,ji(r))}catch(de){cc(r,s,{then:function(){},status:"rejected",reason:de},ji())}finally{Ee.p=g,N.T=A}}function YI(){}function Sm(r,s,o,c){if(r.tag!==5)throw Error(i(476));var d=IE(r).queue;RE(r,d,s,Ne,o===null?YI:function(){return DE(r),o(c)})}function IE(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:Ne},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function DE(r){var s=IE(r).next.queue;cc(r,s,{},ji())}function Rm(){return ni(Nc)}function NE(){return vn().memoizedState}function ME(){return vn().memoizedState}function HI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=ji();r=Ta(o);var c=Aa(s,r,o);c!==null&&(di(c,s,o),dc(c,s,o)),s={cache:cm()},r.payload=s;return}s=s.return}}function zI(r,s,o){var c=ji();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Cf(r)?xE(s,o):(o=Ml(r,s,o,c),o!==null&&(di(o,r,c),kE(o,s,c)))}function OE(r,s,o){var c=ji();cc(r,s,o,c)}function cc(r,s,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Cf(r))xE(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var A=s.lastRenderedState,I=g(A,o);if(d.hasEagerState=!0,d.eagerState=I,fi(I,A))return Ts(r,s,d,0),Bt===null&&Nl(),!1}catch{}finally{}if(o=Ml(r,s,d,c),o!==null)return di(o,r,c),kE(o,s,c),!0}return!1}function Im(r,s,o,c){if(c={lane:2,revertLane:yg(),action:c,hasEagerState:!1,eagerState:null,next:null},Cf(r)){if(s)throw Error(i(479))}else s=Ml(r,o,c,2),s!==null&&di(s,r,2)}function Cf(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function xE(r,s){Bl=yf=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function kE(r,s,o){if(o&4194176){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ci(r,o)}}var Jr={readContext:ni,use:Ef,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un};Jr.useCacheRefresh=un,Jr.useMemoCache=un,Jr.useHostTransitionStatus=un,Jr.useFormState=un,Jr.useActionState=un,Jr.useOptimistic=un;var Po={readContext:ni,use:Ef,useCallback:function(r,s){return bi().memoizedState=[r,s===void 0?null:s],r},useContext:ni,useEffect:vE,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Tf(4194308,4,TE.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Tf(4194308,4,r,s)},useInsertionEffect:function(r,s){Tf(4,2,r,s)},useMemo:function(r,s){var o=bi();s=s===void 0?null:s;var c=r();if(ko){Ki(!0);try{r()}finally{Ki(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=bi();if(o!==void 0){var d=o(s);if(ko){Ki(!0);try{o(s)}finally{Ki(!1)}}}else d=s;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=zI.bind(null,rt,r),[c.memoizedState,r]},useRef:function(r){var s=bi();return r={current:r},s.memoizedState=r},useState:function(r){r=wm(r);var s=r.queue,o=OE.bind(null,rt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Cm,useDeferredValue:function(r,s){var o=bi();return bm(o,r,s)},useTransition:function(){var r=wm(!1);return r=RE.bind(null,rt,r.queue,!0,!1),bi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=rt,d=bi();if(lt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Bt===null)throw Error(i(349));_t&60||iE(c,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,vE(sE.bind(null,c,g,r),[r]),c.flags|=2048,Ul(9,rE.bind(null,c,g,o,s),{destroy:void 0},null),o},useId:function(){var r=bi(),s=Bt.identifierPrefix;if(lt){var o=yt,c=Ze;o=(c&~(1<<32-jn(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=_f++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=FI++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return bi().memoizedState=HI.bind(null,rt)}};Po.useMemoCache=_m,Po.useHostTransitionStatus=Rm,Po.useFormState=pE,Po.useActionState=pE,Po.useOptimistic=function(r){var s=bi();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Im.bind(null,rt,!0,o),o.dispatch=s,[r,s]};var va={readContext:ni,use:Ef,useCallback:CE,useContext:ni,useEffect:Am,useImperativeHandle:AE,useInsertionEffect:EE,useLayoutEffect:wE,useMemo:bE,useReducer:wf,useRef:_E,useState:function(){return wf(Cs)},useDebugValue:Cm,useDeferredValue:function(r,s){var o=vn();return SE(o,Nt.memoizedState,r,s)},useTransition:function(){var r=wf(Cs)[0],s=vn().memoizedState;return[typeof r=="boolean"?r:uc(r),s]},useSyncExternalStore:nE,useId:NE};va.useCacheRefresh=ME,va.useMemoCache=_m,va.useHostTransitionStatus=Rm,va.useFormState=mE,va.useActionState=mE,va.useOptimistic=function(r,s){var o=vn();return lE(o,Nt,r,s)};var Lo={readContext:ni,use:Ef,useCallback:CE,useContext:ni,useEffect:Am,useImperativeHandle:AE,useInsertionEffect:EE,useLayoutEffect:wE,useMemo:bE,useReducer:Em,useRef:_E,useState:function(){return Em(Cs)},useDebugValue:Cm,useDeferredValue:function(r,s){var o=vn();return Nt===null?bm(o,r,s):SE(o,Nt.memoizedState,r,s)},useTransition:function(){var r=Em(Cs)[0],s=vn().memoizedState;return[typeof r=="boolean"?r:uc(r),s]},useSyncExternalStore:nE,useId:NE};Lo.useCacheRefresh=ME,Lo.useMemoCache=_m,Lo.useHostTransitionStatus=Rm,Lo.useFormState=yE,Lo.useActionState=yE,Lo.useOptimistic=function(r,s){var o=vn();return Nt!==null?lE(o,Nt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function Dm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:V({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Nm={isMounted:function(r){return(r=r._reactInternals)?be(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var c=ji(),d=Ta(c);d.payload=s,o!=null&&(d.callback=o),s=Aa(r,d,c),s!==null&&(di(s,r,c),dc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=ji(),d=Ta(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Aa(r,d,c),s!==null&&(di(s,r,c),dc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=ji(),c=Ta(o);c.tag=2,s!=null&&(c.callback=s),s=Aa(r,c,o),s!==null&&(di(s,r,o),dc(s,r,o))}};function PE(r,s,o,c,d,g,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,A):s.prototype&&s.prototype.isPureReactComponent?!Io(o,c)||!Io(d,g):!0}function LE(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Nm.enqueueReplaceState(s,s.state,null)}function Bo(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=V({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var bf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function BE(r){bf(r)}function VE(r){console.error(r)}function UE(r){bf(r)}function Sf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function FE(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Mm(r,s,o){return o=Ta(o),o.tag=3,o.payload={element:null},o.callback=function(){Sf(r,s)},o}function qE(r){return r=Ta(r),r.tag=3,r}function GE(r,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;r.payload=function(){return d(g)},r.callback=function(){FE(s,o,c)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){FE(s,o,c),typeof d!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function QI(r,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&fc(s,o,d,!0),o=rr.current,o!==null){switch(o.tag){case 13:return Wr===null?fg():o.alternate===null&&$t===0&&($t=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===om?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),pg(r,c,d)),!1;case 22:return o.flags|=65536,c===om?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),pg(r,c,d)),!1}throw Error(i(435,o.tag))}return pg(r,c,d),fg(),!1}if(lt)return s=rr.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Ol&&(r=Error(i(422),{cause:c}),tc(z(r,o)))):(c!==Ol&&(s=Error(i(423),{cause:c}),tc(z(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=z(c,o),d=Mm(r.stateNode,c,d),zm(r,d),$t!==4&&($t=2)),!1;var g=Error(i(520),{cause:c});if(g=z(g,o),wc===null?wc=[g]:wc.push(g),$t!==4&&($t=2),s===null)return!0;c=z(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Mm(o.stateNode,c,r),zm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Da===null||!Da.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=qE(d),GE(d,r,o,c),zm(o,d),!1}o=o.return}while(o!==null);return!1}var jE=Error(i(461)),Ln=!1;function Qn(r,s,o,c){s.child=r===null?Kv(s,null,o,c):Oo(s,r.child,o,c)}function YE(r,s,o,c,d){o=o.render;var g=s.ref;if("ref"in c){var A={};for(var I in c)I!=="ref"&&(A[I]=c[I])}else A=c;return Uo(s),c=pm(r,s,o,A,g,d),I=mm(),r!==null&&!Ln?(gm(r,s,d),bs(r,s,d)):(lt&&I&&Yt(s),s.flags|=1,Qn(r,s,c,d),s.child)}function HE(r,s,o,c,d){if(r===null){var g=o.type;return typeof g=="function"&&!eg(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,zE(r,s,g,c,d)):(r=Mf(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Fm(r,d)){var A=g.memoizedProps;if(o=o.compare,o=o!==null?o:Io,o(A,c)&&r.ref===s.ref)return bs(r,s,d)}return s.flags|=1,r=Ra(g,c),r.ref=s.ref,r.return=s,s.child=r}function zE(r,s,o,c,d){if(r!==null){var g=r.memoizedProps;if(Io(g,c)&&r.ref===s.ref)if(Ln=!1,s.pendingProps=c=g,Fm(r,d))r.flags&131072&&(Ln=!0);else return s.lanes=r.lanes,bs(r,s,d)}return Om(r,s,o,c,d)}function QE(r,s,o){var c=s.pendingProps,d=c.children,g=(s.stateNode._pendingVisibility&2)!==0,A=r!==null?r.memoizedState:null;if(hc(r,s),c.mode==="hidden"||g){if(s.flags&128){if(c=A!==null?A.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return KE(r,s,c,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&gf(s,A!==null?A.cachePool:null),A!==null?Wv(s,A):lm(),Jv(s);else return s.lanes=s.childLanes=536870912,KE(r,s,A!==null?A.baseLanes|o:o,o)}else A!==null?(gf(s,A.cachePool),Wv(s,A),ya(),s.memoizedState=null):(r!==null&&gf(s,null),lm(),ya());return Qn(r,s,d,o),s.child}function KE(r,s,o,c){var d=fm();return d=d===null?null:{parent:Dn._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&gf(s,null),lm(),Jv(s),r!==null&&fc(r,s,c,!0),null}function hc(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Om(r,s,o,c,d){return Uo(s),o=pm(r,s,o,c,void 0,d),c=mm(),r!==null&&!Ln?(gm(r,s,d),bs(r,s,d)):(lt&&c&&Yt(s),s.flags|=1,Qn(r,s,o,d),s.child)}function WE(r,s,o,c,d,g){return Uo(s),s.updateQueue=null,o=tE(s,c,o,d),eE(r),c=mm(),r!==null&&!Ln?(gm(r,s,g),bs(r,s,g)):(lt&&c&&Yt(s),s.flags|=1,Qn(r,s,o,g),s.child)}function JE(r,s,o,c,d){if(Uo(s),s.stateNode===null){var g=k,A=o.contextType;typeof A=="object"&&A!==null&&(g=ni(A)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Nm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Ym(s),A=o.contextType,g.context=typeof A=="object"&&A!==null?ni(A):k,g.state=s.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(Dm(s,o,A,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&Nm.enqueueReplaceState(g,g.state,null),mc(s,c,g,d),pc(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var I=s.memoizedProps,U=Bo(o,I);g.props=U;var K=g.context,le=o.contextType;A=k,typeof le=="object"&&le!==null&&(A=ni(le));var de=o.getDerivedStateFromProps;le=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,le||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||K!==A)&&LE(s,g,c,A),wa=!1;var ne=s.memoizedState;g.state=ne,mc(s,c,g,d),pc(),K=s.memoizedState,I||ne!==K||wa?(typeof de=="function"&&(Dm(s,o,de,c),K=s.memoizedState),(U=wa||PE(s,o,U,c,ne,K,A))?(le||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=A,c=U):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Hm(r,s),A=s.memoizedProps,le=Bo(o,A),g.props=le,de=s.pendingProps,ne=g.context,K=o.contextType,U=k,typeof K=="object"&&K!==null&&(U=ni(K)),I=o.getDerivedStateFromProps,(K=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==de||ne!==U)&&LE(s,g,c,U),wa=!1,ne=s.memoizedState,g.state=ne,mc(s,c,g,d),pc();var ae=s.memoizedState;A!==de||ne!==ae||wa||r!==null&&r.dependencies!==null&&Rf(r.dependencies)?(typeof I=="function"&&(Dm(s,o,I,c),ae=s.memoizedState),(le=wa||PE(s,o,le,c,ne,ae,U)||r!==null&&r.dependencies!==null&&Rf(r.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ae,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ae,U)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ae),g.props=c,g.state=ae,g.context=U,c=le):(typeof g.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,hc(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Oo(s,r.child,null,d),s.child=Oo(s,null,o,d)):Qn(r,s,o,d),s.memoizedState=g.state,r=s.child):r=bs(r,s,d),r}function XE(r,s,o,c){return ec(),s.flags|=256,Qn(r,s,o,c),s.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function km(r){return{baseLanes:r,cachePool:$v()}}function Pm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=lr),r}function ZE(r,s,o){var c=s.pendingProps,d=!1,g=(s.flags&128)!==0,A;if((A=g)||(A=r!==null&&r.memoizedState===null?!1:(In.current&2)!==0),A&&(d=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,r===null){if(lt){if(d?ga(s):ya(),lt){var I=Pt,U;if(U=I){e:{for(U=I,I=Ui;U.nodeType!==8;){if(!I){I=null;break e}if(U=Dr(U.nextSibling),U===null){I=null;break e}}I=U}I!==null?(s.memoizedState={dehydrated:I,treeContext:Xe!==null?{id:Ze,overflow:yt}:null,retryLane:536870912},U=or(18,null,null,0),U.stateNode=I,U.return=s,s.child=U,Rt=s,Pt=null,U=!0):U=!1}U||Kr(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?s.lanes=16:s.lanes=536870912,null;As(s)}return I=c.children,c=c.fallback,d?(ya(),d=s.mode,I=Bm({mode:"hidden",children:I},d),c=qo(c,d,o,null),I.return=s,c.return=s,I.sibling=c,s.child=I,d=s.child,d.memoizedState=km(o),d.childLanes=Pm(r,A,o),s.memoizedState=xm,c):(ga(s),Lm(s,I))}if(U=r.memoizedState,U!==null&&(I=U.dehydrated,I!==null)){if(g)s.flags&256?(ga(s),s.flags&=-257,s=Vm(r,s,o)):s.memoizedState!==null?(ya(),s.child=r.child,s.flags|=128,s=null):(ya(),d=c.fallback,I=s.mode,c=Bm({mode:"visible",children:c.children},I),d=qo(d,I,o,null),d.flags|=2,c.return=s,d.return=s,c.sibling=d,s.child=c,Oo(s,r.child,null,o),c=s.child,c.memoizedState=km(o),c.childLanes=Pm(r,A,o),s.memoizedState=xm,s=d);else if(ga(s),I.data==="$!"){if(A=I.nextSibling&&I.nextSibling.dataset,A)var K=A.dgst;A=K,c=Error(i(419)),c.stack="",c.digest=A,tc({value:c,source:null,stack:null}),s=Vm(r,s,o)}else if(Ln||fc(r,s,o,!1),A=(o&r.childLanes)!==0,Ln||A){if(A=Bt,A!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(A.suspendedLanes|o)?0:c,c!==0&&c!==U.retryLane)throw U.retryLane=c,v(r,c),di(A,r,c),jE}I.data==="$?"||fg(),s=Vm(r,s,o)}else I.data==="$?"?(s.flags|=128,s.child=r.child,s=l1.bind(null,r),I._reactRetry=s,s=null):(r=U.treeContext,Pt=Dr(I.nextSibling),Rt=s,lt=!0,Vi=null,Ui=!1,r!==null&&(ye[Ie++]=Ze,ye[Ie++]=yt,ye[Ie++]=Xe,Ze=r.id,yt=r.overflow,Xe=s),s=Lm(s,c.children),s.flags|=4096);return s}return d?(ya(),d=c.fallback,I=s.mode,U=r.child,K=U.sibling,c=Ra(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&31457280,K!==null?d=Ra(K,d):(d=qo(d,I,o,null),d.flags|=2),d.return=s,c.return=s,c.sibling=d,s.child=c,c=d,d=s.child,I=r.child.memoizedState,I===null?I=km(o):(U=I.cachePool,U!==null?(K=Dn._currentValue,U=U.parent!==K?{parent:K,pool:K}:U):U=$v(),I={baseLanes:I.baseLanes|o,cachePool:U}),d.memoizedState=I,d.childLanes=Pm(r,A,o),s.memoizedState=xm,c):(ga(s),o=r.child,r=o.sibling,o=Ra(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(A=s.deletions,A===null?(s.deletions=[r],s.flags|=16):A.push(r)),s.child=o,s.memoizedState=null,o)}function Lm(r,s){return s=Bm({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Bm(r,s){return C0(r,s,0,null)}function Vm(r,s,o){return Oo(s,r.child,null,o),r=Lm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function $E(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Gm(r.return,s,o)}function Um(r,s,o,c,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=d)}function e0(r,s,o){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(Qn(r,s,c.children,o),c=In.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&$E(r,o,s);else if(r.tag===19)$E(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(ze(In,c),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&mf(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Um(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&mf(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Um(s,!0,o,null,g);break;case"together":Um(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function bs(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ia|=s.lanes,!(o&s.childLanes))if(r!==null){if(fc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ra(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ra(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Fm(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&Rf(r)))}function KI(r,s,o){switch(s.tag){case 3:Gn(s,s.stateNode.containerInfo),Ea(s,Dn,r.memoizedState.cache),ec();break;case 27:case 5:Xt(s);break;case 4:Gn(s,s.stateNode.containerInfo);break;case 10:Ea(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ga(s),s.flags|=128,null):o&s.child.childLanes?ZE(r,s,o):(ga(s),r=bs(r,s,o),r!==null?r.sibling:null);ga(s);break;case 19:var d=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(fc(r,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return e0(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ze(In,In.current),c)break;return null;case 22:case 23:return s.lanes=0,QE(r,s,o);case 24:Ea(s,Dn,r.memoizedState.cache)}return bs(r,s,o)}function t0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ln=!0;else{if(!Fm(r,o)&&!(s.flags&128))return Ln=!1,KI(r,s,o);Ln=!!(r.flags&131072)}else Ln=!1,lt&&s.flags&1048576&&zt(s,ge,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,d=c._init;if(c=d(c._payload),s.type=c,typeof c=="function")eg(c)?(r=Bo(c,r),s.tag=1,s=JE(null,s,c,r,o)):(s.tag=0,s=Om(null,s,c,r,o));else{if(c!=null){if(d=c.$$typeof,d===R){s.tag=11,s=YE(null,s,c,r,o);break e}else if(d===x){s.tag=14,s=HE(null,s,c,r,o);break e}}throw s=D(c)||c,Error(i(306,s,""))}}return s;case 0:return Om(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=Bo(c,s.pendingProps),JE(r,s,c,d,o);case 3:e:{if(Gn(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;d=s.memoizedState,c=d.element,Hm(r,s),mc(s,g,null,o);var A=s.memoizedState;if(g=A.cache,Ea(s,Dn,g),g!==d.cache&&jm(s,[Dn],o,!0),pc(),g=A.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=XE(r,s,g,o);break e}else if(g!==c){c=z(Error(i(424)),s),tc(c),s=XE(r,s,g,o);break e}else for(Pt=Dr(s.stateNode.containerInfo.firstChild),Rt=s,lt=!0,Vi=null,Ui=!0,o=Kv(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ec(),g===c){s=bs(r,s,o);break e}Qn(r,s,g,o)}s=s.child}return s;case 26:return hc(r,s),r===null?(o=rw(s.type,null,s.pendingProps,null))?s.memoizedState=o:lt||(o=s.type,r=s.pendingProps,c=jf(xt.current).createElement(o),c[mn]=s,c[an]=r,Kn(c,o,r),qt(c),s.stateNode=c):s.memoizedState=rw(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Xt(s),r===null&&lt&&(c=s.stateNode=tw(s.type,s.pendingProps,xt.current),Rt=s,Ui=!0,Pt=Dr(c.firstChild)),c=s.pendingProps.children,r!==null||lt?Qn(r,s,c,o):s.child=Oo(s,null,c,o),hc(r,s),s.child;case 5:return r===null&&lt&&((d=c=Pt)&&(c=C1(c,s.type,s.pendingProps,Ui),c!==null?(s.stateNode=c,Rt=s,Pt=Dr(c.firstChild),Ui=!1,d=!0):d=!1),d||Kr(s)),Xt(s),d=s.type,g=s.pendingProps,A=r!==null?r.memoizedProps:null,c=g.children,Sg(d,g)?c=null:A!==null&&Sg(d,A)&&(s.flags|=32),s.memoizedState!==null&&(d=pm(r,s,qI,null,null,o),Nc._currentValue=d),hc(r,s),Qn(r,s,c,o),s.child;case 6:return r===null&&lt&&((r=o=Pt)&&(o=b1(o,s.pendingProps,Ui),o!==null?(s.stateNode=o,Rt=s,Pt=null,r=!0):r=!1),r||Kr(s)),null;case 13:return ZE(r,s,o);case 4:return Gn(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Oo(s,null,c,o):Qn(r,s,c,o),s.child;case 11:return YE(r,s,s.type,s.pendingProps,o);case 7:return Qn(r,s,s.pendingProps,o),s.child;case 8:return Qn(r,s,s.pendingProps.children,o),s.child;case 12:return Qn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Ea(s,s.type,c.value),Qn(r,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Uo(s),d=ni(d),c=c(d),s.flags|=1,Qn(r,s,c,o),s.child;case 14:return HE(r,s,s.type,s.pendingProps,o);case 15:return zE(r,s,s.type,s.pendingProps,o);case 19:return e0(r,s,o);case 22:return QE(r,s,o);case 24:return Uo(s),c=ni(Dn),r===null?(d=fm(),d===null&&(d=Bt,g=cm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:c,cache:d},Ym(s),Ea(s,Dn,d)):(r.lanes&o&&(Hm(r,s),mc(s,null,null,o),pc()),d=r.memoizedState,g=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ea(s,Dn,c)):(c=g.cache,Ea(s,Dn,c),c!==d.cache&&jm(s,[Dn],o,!0))),Qn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var qm=Oe(null),Vo=null,Ss=null;function Ea(r,s,o){ze(qm,s._currentValue),s._currentValue=o}function Rs(r){r._currentValue=qm.current,tt(qm)}function Gm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function jm(r,s,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var A=d.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=d;for(var U=0;U<s.length;U++)if(I.context===s[U]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),Gm(g.return,o,r),c||(A=null);break e}g=I.next}}else if(d.tag===18){if(A=d.return,A===null)throw Error(i(341));A.lanes|=o,g=A.alternate,g!==null&&(g.lanes|=o),Gm(A,o,r),A=null}else A=d.child;if(A!==null)A.return=d;else for(A=d;A!==null;){if(A===r){A=null;break}if(d=A.sibling,d!==null){d.return=A.return,A=d;break}A=A.return}d=A}}function fc(r,s,o,c){r=null;for(var d=s,g=!1;d!==null;){if(!g){if(d.flags&524288)g=!0;else if(d.flags&262144)break}if(d.tag===10){var A=d.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var I=d.type;fi(d.pendingProps.value,A.value)||(r!==null?r.push(I):r=[I])}}else if(d===qn.current){if(A=d.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Nc):r=[Nc])}d=d.return}r!==null&&jm(s,r,o,c),s.flags|=262144}function Rf(r){for(r=r.firstContext;r!==null;){if(!fi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Uo(r){Vo=r,Ss=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ni(r){return n0(Vo,r)}function If(r,s){return Vo===null&&Uo(r),n0(r,s)}function n0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ss===null){if(r===null)throw Error(i(308));Ss=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ss=Ss.next=s;return o}var wa=!1;function Ym(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ta(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Aa(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Kt&2){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=S(r),E(r,null,o),s}return Ts(r,c,s,o),S(r)}function dc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ci(r,o)}}function zm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=A:g=g.next=A,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Qm=!1;function pc(){if(Qm){var r=Ll;if(r!==null)throw r}}function mc(r,s,o,c){Qm=!1;var d=r.updateQueue;wa=!1;var g=d.firstBaseUpdate,A=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var U=I,K=U.next;U.next=null,A===null?g=K:A.next=K,A=U;var le=r.alternate;le!==null&&(le=le.updateQueue,I=le.lastBaseUpdate,I!==A&&(I===null?le.firstBaseUpdate=K:I.next=K,le.lastBaseUpdate=U))}if(g!==null){var de=d.baseState;A=0,le=K=U=null,I=g;do{var ne=I.lane&-536870913,ae=ne!==I.lane;if(ae?(_t&ne)===ne:(c&ne)===ne){ne!==0&&ne===Pl&&(Qm=!0),le!==null&&(le=le.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Me=r,Ye=I;ne=s;var en=o;switch(Ye.tag){case 1:if(Me=Ye.payload,typeof Me=="function"){de=Me.call(en,de,ne);break e}de=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ye.payload,ne=typeof Me=="function"?Me.call(en,de,ne):Me,ne==null)break e;de=V({},de,ne);break e;case 2:wa=!0}}ne=I.callback,ne!==null&&(r.flags|=64,ae&&(r.flags|=8192),ae=d.callbacks,ae===null?d.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:I.tag,payload:I.payload,callback:I.callback,next:null},le===null?(K=le=ae,U=de):le=le.next=ae,A|=ne;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,d.lastBaseUpdate=ae,d.shared.pending=null}}while(!0);le===null&&(U=de),d.baseState=U,d.firstBaseUpdate=K,d.lastBaseUpdate=le,g===null&&(d.shared.lanes=0),Ia|=A,r.lanes=A,r.memoizedState=de}}function i0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function r0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)i0(o[r],s)}function gc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var g=o.create,A=o.inst;c=g(),A.destroy=c}o=o.next}while(o!==d)}}catch(I){Lt(s,s.return,I)}}function Ca(r,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){var A=c.inst,I=A.destroy;if(I!==void 0){A.destroy=void 0,d=s;var U=o;try{I()}catch(K){Lt(d,U,K)}}}c=c.next}while(c!==g)}}catch(K){Lt(s,s.return,K)}}function s0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{r0(s,o)}catch(c){Lt(r,r.return,c)}}}function a0(r,s,o){o.props=Bo(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Lt(r,s,c)}}function Fo(r,s){try{var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var d=c;break;default:d=c}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(g){Lt(r,s,g)}}function Fi(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){Lt(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Lt(r,s,d)}else o.current=null}function o0(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){Lt(r,r.return,d)}}function l0(r,s,o){try{var c=r.stateNode;v1(c,r.type,o,s),c[an]=s}catch(d){Lt(r,r.return,d)}}function u0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Km(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||u0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Wm(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Gf));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(Wm(r,s,o),r=r.sibling;r!==null;)Wm(r,s,o),r=r.sibling}function Df(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(Df(r,s,o),r=r.sibling;r!==null;)Df(r,s,o),r=r.sibling}var Is=!1,Zt=!1,Jm=!1,c0=typeof WeakSet=="function"?WeakSet:Set,Bn=null,h0=!1;function WI(r,s){if(r=r.containerInfo,Cg=Wf,r=tf(r),Wu(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var A=0,I=-1,U=-1,K=0,le=0,de=r,ne=null;t:for(;;){for(var ae;de!==o||d!==0&&de.nodeType!==3||(I=A+d),de!==g||c!==0&&de.nodeType!==3||(U=A+c),de.nodeType===3&&(A+=de.nodeValue.length),(ae=de.firstChild)!==null;)ne=de,de=ae;for(;;){if(de===r)break t;if(ne===o&&++K===d&&(I=A),ne===g&&++le===c&&(U=A),(ae=de.nextSibling)!==null)break;de=ne,ne=de.parentNode}de=ae}o=I===-1||U===-1?null:{start:I,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(bg={focusedElem:r,selectionRange:o},Wf=!1,Bn=s;Bn!==null;)if(s=Bn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Bn=r;else for(;Bn!==null;){switch(s=Bn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Me=Bo(o.type,d,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Me,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ye){Lt(o,o.return,Ye)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Dg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Dg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Bn=r;break}Bn=s.return}return Me=h0,h0=!1,Me}function f0(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ns(r,o),c&4&&gc(5,o);break;case 1:if(Ns(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(I){Lt(o,o.return,I)}else{var d=Bo(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(I){Lt(o,o.return,I)}}c&64&&s0(o),c&512&&Fo(o,o.return);break;case 3:if(Ns(r,o),c&64&&(c=o.updateQueue,c!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{r0(c,r)}catch(I){Lt(o,o.return,I)}}break;case 26:Ns(r,o),c&512&&Fo(o,o.return);break;case 27:case 5:Ns(r,o),s===null&&c&4&&o0(o),c&512&&Fo(o,o.return);break;case 12:Ns(r,o);break;case 13:Ns(r,o),c&4&&m0(r,o);break;case 22:if(d=o.memoizedState!==null||Is,!d){s=s!==null&&s.memoizedState!==null||Zt;var g=Is,A=Zt;Is=d,(Zt=s)&&!A?ba(r,o,(o.subtreeFlags&8772)!==0):Ns(r,o),Is=g,Zt=A}c&512&&(o.memoizedProps.mode==="manual"?Fo(o,o.return):Fi(o,o.return));break;default:Ns(r,o)}}function d0(r){var s=r.alternate;s!==null&&(r.alternate=null,d0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Fr(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var En=null,qi=!1;function Ds(r,s,o){for(o=o.child;o!==null;)p0(r,s,o),o=o.sibling}function p0(r,s,o){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Vr,o)}catch{}switch(o.tag){case 26:Zt||Fi(o,s),Ds(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Zt||Fi(o,s);var c=En,d=qi;for(En=o.stateNode,Ds(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Fr(o),En=c,qi=d;break;case 5:Zt||Fi(o,s);case 6:d=En;var g=qi;if(En=null,Ds(r,s,o),En=d,qi=g,En!==null)if(qi)try{r=En,c=o.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(A){Lt(o,s,A)}else try{En.removeChild(o.stateNode)}catch(A){Lt(o,s,A)}break;case 18:En!==null&&(qi?(s=En,o=o.stateNode,s.nodeType===8?Ig(s.parentNode,o):s.nodeType===1&&Ig(s,o),kc(s)):Ig(En,o.stateNode));break;case 4:c=En,d=qi,En=o.stateNode.containerInfo,qi=!0,Ds(r,s,o),En=c,qi=d;break;case 0:case 11:case 14:case 15:Zt||Ca(2,o,s),Zt||Ca(4,o,s),Ds(r,s,o);break;case 1:Zt||(Fi(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&a0(o,s,c)),Ds(r,s,o);break;case 21:Ds(r,s,o);break;case 22:Zt||Fi(o,s),Zt=(c=Zt)||o.memoizedState!==null,Ds(r,s,o),Zt=c;break;default:Ds(r,s,o)}}function m0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{kc(r)}catch(o){Lt(s,s.return,o)}}function JI(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new c0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new c0),s;default:throw Error(i(435,r.tag))}}function Xm(r,s){var o=JI(r);s.forEach(function(c){var d=u1.bind(null,r,c);o.has(c)||(o.add(c),c.then(d,d))})}function sr(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=r,A=s,I=A;e:for(;I!==null;){switch(I.tag){case 27:case 5:En=I.stateNode,qi=!1;break e;case 3:En=I.stateNode.containerInfo,qi=!0;break e;case 4:En=I.stateNode.containerInfo,qi=!0;break e}I=I.return}if(En===null)throw Error(i(160));p0(g,A,d),En=null,qi=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)g0(s,r),s=s.sibling}var Ir=null;function g0(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:sr(s,r),ar(r),c&4&&(Ca(3,r,r.return),gc(3,r),Ca(5,r,r.return));break;case 1:sr(s,r),ar(r),c&512&&(Zt||o===null||Fi(o,o.return)),c&64&&Is&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Ir;if(sr(s,r),ar(r),c&512&&(Zt||o===null||Fi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[yr]||g[mn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),Kn(g,c,o),g[mn]=r,qt(g),c=g;break e;case"link":var A=ow("link","href",d).get(c+(o.href||""));if(A){for(var I=0;I<A.length;I++)if(g=A[I],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(I,1);break t}}g=d.createElement(c),Kn(g,c,o),d.head.appendChild(g);break;case"meta":if(A=ow("meta","content",d).get(c+(o.content||""))){for(I=0;I<A.length;I++)if(g=A[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(I,1);break t}}g=d.createElement(c),Kn(g,c,o),d.head.appendChild(g);break;default:throw Error(i(468,c))}g[mn]=r,qt(g),c=g}r.stateNode=c}else lw(d,r.type,r.stateNode);else r.stateNode=aw(d,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?lw(d,r.type,r.stateNode):aw(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&l0(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){d=r.stateNode,g=r.memoizedProps;try{for(var U=d.firstChild;U;){var K=U.nextSibling,le=U.nodeName;U[yr]||le==="HEAD"||le==="BODY"||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&U.rel.toLowerCase()==="stylesheet"||d.removeChild(U),U=K}for(var de=r.type,ne=d.attributes;ne.length;)d.removeAttributeNode(ne[0]);Kn(d,de,g),d[mn]=r,d[an]=g}catch(Me){Lt(r,r.return,Me)}}case 5:if(sr(s,r),ar(r),c&512&&(Zt||o===null||Fi(o,o.return)),r.flags&32){d=r.stateNode;try{hi(d,"")}catch(Me){Lt(r,r.return,Me)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,l0(r,d,o!==null?o.memoizedProps:d)),c&1024&&(Jm=!0);break;case 6:if(sr(s,r),ar(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(Me){Lt(r,r.return,Me)}}break;case 3:if(zf=null,d=Ir,Ir=Yf(s.containerInfo),sr(s,r),Ir=d,ar(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{kc(s.containerInfo)}catch(Me){Lt(r,r.return,Me)}Jm&&(Jm=!1,y0(r));break;case 4:c=Ir,Ir=Yf(r.stateNode.containerInfo),sr(s,r),ar(r),Ir=c;break;case 12:sr(s,r),ar(r);break;case 13:sr(s,r),ar(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ag=Tn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Xm(r,c)));break;case 22:if(c&512&&(Zt||o===null||Fi(o,o.return)),U=r.memoizedState!==null,K=o!==null&&o.memoizedState!==null,le=Is,de=Zt,Is=le||U,Zt=de||K,sr(s,r),Zt=de,Is=le,ar(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=U?s._visibility&-2:s._visibility|1,U&&(s=Is||Zt,o===null||K||s||Fl(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){K=o=s;try{if(d=K.stateNode,U)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{A=K.stateNode,I=K.memoizedProps.style;var ae=I!=null&&I.hasOwnProperty("display")?I.display:null;A.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Me){Lt(K,K.return,Me)}}}else if(s.tag===6){if(o===null){K=s;try{K.stateNode.nodeValue=U?"":K.memoizedProps}catch(Me){Lt(K,K.return,Me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Xm(r,o))));break;case 19:sr(s,r),ar(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Xm(r,c)));break;case 21:break;default:sr(s,r),ar(r)}}function ar(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(u0(o)){var c=o;break e}o=o.return}throw Error(i(160))}switch(c.tag){case 27:var d=c.stateNode,g=Km(r);Df(r,g,d);break;case 5:var A=c.stateNode;c.flags&32&&(hi(A,""),c.flags&=-33);var I=Km(r);Df(r,I,A);break;case 3:case 4:var U=c.stateNode.containerInfo,K=Km(r);Wm(r,K,U);break;default:throw Error(i(161))}}}catch(le){Lt(r,r.return,le)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function y0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;y0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ns(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)f0(r,s.alternate,s),s=s.sibling}function Fl(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ca(4,s,s.return),Fl(s);break;case 1:Fi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&a0(s,s.return,o),Fl(s);break;case 26:case 27:case 5:Fi(s,s.return),Fl(s);break;case 22:Fi(s,s.return),s.memoizedState===null&&Fl(s);break;default:Fl(s)}r=r.sibling}}function ba(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=r,g=s,A=g.flags;switch(g.tag){case 0:case 11:case 15:ba(d,g,o),gc(4,g);break;case 1:if(ba(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){Lt(c,c.return,K)}if(c=g,d=c.updateQueue,d!==null){var I=c.stateNode;try{var U=d.shared.hiddenCallbacks;if(U!==null)for(d.shared.hiddenCallbacks=null,d=0;d<U.length;d++)i0(U[d],I)}catch(K){Lt(c,c.return,K)}}o&&A&64&&s0(g),Fo(g,g.return);break;case 26:case 27:case 5:ba(d,g,o),o&&c===null&&A&4&&o0(g),Fo(g,g.return);break;case 12:ba(d,g,o);break;case 13:ba(d,g,o),o&&A&4&&m0(d,g);break;case 22:g.memoizedState===null&&ba(d,g,o),Fo(g,g.return);break;default:ba(d,g,o)}s=s.sibling}}function Zm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&ac(o))}function $m(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ac(r))}function Sa(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_0(r,s,o,c),s=s.sibling}function _0(r,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Sa(r,s,o,c),d&2048&&gc(9,s);break;case 3:Sa(r,s,o,c),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ac(r)));break;case 12:if(d&2048){Sa(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,A=g.id,I=g.onPostCommit;typeof I=="function"&&I(A,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Lt(s,s.return,U)}}else Sa(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?Sa(r,s,o,c):yc(r,s):g._visibility&4?Sa(r,s,o,c):(g._visibility|=4,ql(r,s,o,c,(s.subtreeFlags&10256)!==0)),d&2048&&Zm(s.alternate,s);break;case 24:Sa(r,s,o,c),d&2048&&$m(s.alternate,s);break;default:Sa(r,s,o,c)}}function ql(r,s,o,c,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,A=s,I=o,U=c,K=A.flags;switch(A.tag){case 0:case 11:case 15:ql(g,A,I,U,d),gc(8,A);break;case 23:break;case 22:var le=A.stateNode;A.memoizedState!==null?le._visibility&4?ql(g,A,I,U,d):yc(g,A):(le._visibility|=4,ql(g,A,I,U,d)),d&&K&2048&&Zm(A.alternate,A);break;case 24:ql(g,A,I,U,d),d&&K&2048&&$m(A.alternate,A);break;default:ql(g,A,I,U,d)}s=s.sibling}}function yc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,d=c.flags;switch(c.tag){case 22:yc(o,c),d&2048&&Zm(c.alternate,c);break;case 24:yc(o,c),d&2048&&$m(c.alternate,c);break;default:yc(o,c)}s=s.sibling}}var _c=8192;function Gl(r){if(r.subtreeFlags&_c)for(r=r.child;r!==null;)v0(r),r=r.sibling}function v0(r){switch(r.tag){case 26:Gl(r),r.flags&_c&&r.memoizedState!==null&&V1(Ir,r.memoizedState,r.memoizedProps);break;case 5:Gl(r);break;case 3:case 4:var s=Ir;Ir=Yf(r.stateNode.containerInfo),Gl(r),Ir=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=_c,_c=16777216,Gl(r),_c=s):Gl(r));break;default:Gl(r)}}function E0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function vc(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Bn=c,T0(c,r)}E0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)w0(r),r=r.sibling}function w0(r){switch(r.tag){case 0:case 11:case 15:vc(r),r.flags&2048&&Ca(9,r,r.return);break;case 3:vc(r);break;case 12:vc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Nf(r)):vc(r);break;default:vc(r)}}function Nf(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Bn=c,T0(c,r)}E0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ca(8,s,s.return),Nf(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Nf(s));break;default:Nf(s)}r=r.sibling}}function T0(r,s){for(;Bn!==null;){var o=Bn;switch(o.tag){case 0:case 11:case 15:Ca(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ac(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Bn=c;else e:for(o=r;Bn!==null;){c=Bn;var d=c.sibling,g=c.return;if(d0(c),c===o){Bn=null;break e}if(d!==null){d.return=g,Bn=d;break e}Bn=g}}}function XI(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(r,s,o,c){return new XI(r,s,o,c)}function eg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ra(r,s){var o=r.alternate;return o===null?(o=or(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function A0(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Mf(r,s,o,c,d,g){var A=0;if(c=r,typeof r=="function")eg(r)&&(A=1);else if(typeof r=="string")A=L1(r,o,Tt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return qo(o.children,d,g,s);case m:A=8,d|=24;break;case _:return r=or(12,o,s,d|2),r.elementType=_,r.lanes=g,r;case B:return r=or(13,o,s,d),r.elementType=B,r.lanes=g,r;case O:return r=or(19,o,s,d),r.elementType=O,r.lanes=g,r;case j:return C0(o,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case b:A=10;break e;case C:A=9;break e;case R:A=11;break e;case x:A=14;break e;case L:A=16,c=null;break e}A=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=or(A,o,s,d),s.elementType=r,s.type=c,s.lanes=g,s}function qo(r,s,o,c){return r=or(7,r,c,s),r.lanes=o,r}function C0(r,s,o,c){r=or(22,r,c,s),r.elementType=j,r.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(i(456));if(!(d._pendingVisibility&2)){var A=v(g,2);A!==null&&(d._pendingVisibility|=2,di(A,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(i(456));if(d._pendingVisibility&2){var A=v(g,2);A!==null&&(d._pendingVisibility&=-3,di(A,g,2))}}};return r.stateNode=d,r}function tg(r,s,o){return r=or(6,r,null,s),r.lanes=o,r}function ng(r,s,o){return s=or(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Ms(r){r.flags|=4}function b0(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!uw(s)){if(s=rr.current,s!==null&&((_t&4194176)===_t?Wr!==null:(_t&62914560)!==_t&&!(_t&536870912)||s!==Wr))throw ic=om,Gv;r.flags|=8192}}function Of(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ur():536870912,r.lanes|=s,Yl|=s)}function Ec(r,s){if(!lt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Qt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&31457280,c|=d.flags&31457280,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function ZI(r,s,o){var c=s.pendingProps;switch(Rr(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(s),null;case 1:return Qt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Rs(Dn),fn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(ma(s)?Ms(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Vi!==null&&(cg(Vi),Vi=null))),Qt(s),null;case 26:return o=s.memoizedState,r===null?(Ms(s),o!==null?(Qt(s),b0(s,o)):(Qt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ms(s),Qt(s),b0(s,o)):(Qt(s),s.flags&=-16777217):(r.memoizedProps!==c&&Ms(s),Qt(s),s.flags&=-16777217),null;case 27:Pr(s),o=xt.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ms(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Qt(s),null}r=Tt.current,ma(s)?No(s):(r=tw(d,c,o),s.stateNode=r,Ms(s))}return Qt(s),null;case 5:if(Pr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ms(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Qt(s),null}if(r=Tt.current,ma(s))No(s);else{switch(d=jf(xt.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}r[mn]=s,r[an]=c;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(Kn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ms(s)}}return Qt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Ms(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=xt.current,ma(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,d=Rt,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[mn]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||W0(r.nodeValue,o)),r||Kr(s)}else r=jf(r).createTextNode(c),r[mn]=s,s.stateNode=r}return Qt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=ma(s),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[mn]=s}else ec(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Qt(s),d=!1}else Vi!==null&&(cg(Vi),Vi=null),d=!0;if(!d)return s.flags&256?(As(s),s):(As(s),null)}if(As(s),s.flags&128)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Of(s,s.updateQueue),Qt(s),null;case 4:return fn(),r===null&&wg(s.stateNode.containerInfo),Qt(s),null;case 10:return Rs(s.type),Qt(s),null;case 19:if(tt(In),d=s.memoizedState,d===null)return Qt(s),null;if(c=(s.flags&128)!==0,g=d.rendering,g===null)if(c)Ec(d,!1);else{if($t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=mf(r),g!==null){for(s.flags|=128,Ec(d,!1),r=g.updateQueue,s.updateQueue=r,Of(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)A0(o,r),o=o.sibling;return ze(In,In.current&1|2),s.child}r=r.sibling}d.tail!==null&&Tn()>xf&&(s.flags|=128,c=!0,Ec(d,!1),s.lanes=4194304)}else{if(!c)if(r=mf(g),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Of(s,r),Ec(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!lt)return Qt(s),null}else 2*Tn()-d.renderingStartTime>xf&&o!==536870912&&(s.flags|=128,c=!0,Ec(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Tn(),s.sibling=null,r=In.current,ze(In,c?r&1|2:r&1),s):(Qt(s),null);case 22:case 23:return As(s),um(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?o&536870912&&!(s.flags&128)&&(Qt(s),s.subtreeFlags&6&&(s.flags|=8192)):Qt(s),o=s.updateQueue,o!==null&&Of(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&tt(xo),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Rs(Dn),Qt(s),null;case 25:return null}throw Error(i(156,s.tag))}function $I(r,s){switch(Rr(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Rs(Dn),fn(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Pr(s),null;case 13:if(As(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ec()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(In),null;case 4:return fn(),null;case 10:return Rs(s.type),null;case 22:case 23:return As(s),um(),r!==null&&tt(xo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Rs(Dn),null;case 25:return null;default:return null}}function S0(r,s){switch(Rr(s),s.tag){case 3:Rs(Dn),fn();break;case 26:case 27:case 5:Pr(s);break;case 4:fn();break;case 13:As(s);break;case 19:tt(In);break;case 10:Rs(s.type);break;case 22:case 23:As(s),um(),r!==null&&tt(xo);break;case 24:Rs(Dn)}}var e1={getCacheForType:function(r){var s=ni(Dn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},t1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,Bt=null,ut=null,_t=0,Vt=0,Gi=null,Os=!1,jl=!1,ig=!1,xs=0,$t=0,Ia=0,Go=0,rg=0,lr=0,Yl=0,wc=null,Xr=null,sg=!1,ag=0,xf=1/0,kf=null,Da=null,Pf=!1,jo=null,Tc=0,og=0,lg=null,Ac=0,ug=null;function ji(){if(Kt&2&&_t!==0)return _t&-_t;if(N.T!==null){var r=Pl;return r!==0?r:yg()}return dl()}function R0(){lr===0&&(lr=!(_t&536870912)||lt?Mi():536870912);var r=rr.current;return r!==null&&(r.flags|=32),lr}function di(r,s,o){(r===Bt&&Vt===2||r.cancelPendingCommit!==null)&&(Hl(r,0),ks(r,_t,lr,!1)),Ht(r,o),(!(Kt&2)||r!==Bt)&&(r===Bt&&(!(Kt&2)&&(Go|=o),$t===4&&ks(r,_t,lr,!1)),Zr(r))}function I0(r,s,o){if(Kt&6)throw Error(i(327));var c=!o&&(s&60)===0&&(s&r.expiredLanes)===0||pr(r,s),d=c?r1(r,s):dg(r,s,!0),g=c;do{if(d===0){jl&&!c&&ks(r,s,0,!1);break}else if(d===6)ks(r,s,0,!Os);else{if(o=r.current.alternate,g&&!n1(o)){d=dg(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var I=r;d=wc;var U=I.current.memoizedState.isDehydrated;if(U&&(Hl(I,A).flags|=256),A=dg(I,A,!1),A!==2){if(ig&&!U){I.errorRecoveryDisabledLanes|=g,Go|=g,d=4;break e}g=Xr,Xr=d,g!==null&&cg(g)}d=A}if(g=!1,d!==2)continue}}if(d===1){Hl(r,0),ks(r,s,0,!0);break}e:{switch(c=r,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){ks(c,s,lr,!Os);break e}break;case 2:Xr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=o,c.finishedLanes=s,(s&62914560)===s&&(g=ag+300-Tn(),10<g)){if(ks(c,s,lr,!Os),Yn(c,0)!==0)break e;c.timeoutHandle=Z0(D0.bind(null,c,o,Xr,kf,sg,s,lr,Go,Yl,Os,2,-0,0),g);break e}D0(c,o,Xr,kf,sg,s,lr,Go,Yl,Os,0,-0,0)}}break}while(!0);Zr(r)}function cg(r){Xr===null?Xr=r:Xr.push.apply(Xr,r)}function D0(r,s,o,c,d,g,A,I,U,K,le,de,ne){var ae=s.subtreeFlags;if((ae&8192||(ae&16785408)===16785408)&&(Dc={stylesheets:null,count:0,unsuspend:B1},v0(s),s=U1(),s!==null)){r.cancelPendingCommit=s(L0.bind(null,r,o,c,d,A,I,U,1,de,ne)),ks(r,g,A,!K);return}L0(r,o,c,d,A,I,U,le,de,ne)}function n1(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!fi(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(r,s,o,c){s&=~rg,s&=~Go,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var d=s;0<d;){var g=31-jn(d),A=1<<g;c[g]=-1,d&=~A}o!==0&&jt(r,o,s)}function Lf(){return Kt&6?!0:(Cc(0),!1)}function hg(){if(ut!==null){if(Vt===0)var r=ut.return;else r=ut,Ss=Vo=null,ym(r),xl=null,rc=0,r=ut;for(;r!==null;)S0(r.alternate,r),r=r.return;ut=null}}function Hl(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,w1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),hg(),Bt=r,ut=o=Ra(r.current,null),_t=s,Vt=0,Gi=null,Os=!1,jl=pr(r,s),ig=!1,Yl=lr=rg=Go=Ia=$t=0,Xr=wc=null,sg=!1,s&8&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var d=31-jn(c),g=1<<d;s|=r[d],c&=~g}return xs=s,Nl(),o}function N0(r,s){rt=null,N.H=Jr,s===nc?(s=Hv(),Vt=3):s===Gv?(s=Hv(),Vt=4):Vt=s===jE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gi=s,ut===null&&($t=1,Sf(r,z(s,r.current)))}function M0(){var r=N.H;return N.H=Jr,r===null?Jr:r}function O0(){var r=N.A;return N.A=e1,r}function fg(){$t=4,Os||(_t&4194176)!==_t&&rr.current!==null||(jl=!0),!(Ia&134217727)&&!(Go&134217727)||Bt===null||ks(Bt,_t,lr,!1)}function dg(r,s,o){var c=Kt;Kt|=2;var d=M0(),g=O0();(Bt!==r||_t!==s)&&(kf=null,Hl(r,s)),s=!1;var A=$t;e:do try{if(Vt!==0&&ut!==null){var I=ut,U=Gi;switch(Vt){case 8:hg(),A=6;break e;case 3:case 2:case 6:rr.current===null&&(s=!0);var K=Vt;if(Vt=0,Gi=null,zl(r,I,U,K),o&&jl){A=0;break e}break;default:K=Vt,Vt=0,Gi=null,zl(r,I,U,K)}}i1(),A=$t;break}catch(le){N0(r,le)}while(!0);return s&&r.shellSuspendCounter++,Ss=Vo=null,Kt=c,N.H=d,N.A=g,ut===null&&(Bt=null,_t=0,Nl()),A}function i1(){for(;ut!==null;)x0(ut)}function r1(r,s){var o=Kt;Kt|=2;var c=M0(),d=O0();Bt!==r||_t!==s?(kf=null,xf=Tn()+500,Hl(r,s)):jl=pr(r,s);e:do try{if(Vt!==0&&ut!==null){s=ut;var g=Gi;t:switch(Vt){case 1:Vt=0,Gi=null,zl(r,s,g,1);break;case 2:if(jv(g)){Vt=0,Gi=null,k0(s);break}s=function(){Vt===2&&Bt===r&&(Vt=7),Zr(r)},g.then(s,s);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:jv(g)?(Vt=0,Gi=null,k0(s)):(Vt=0,Gi=null,zl(r,s,g,7));break;case 5:var A=null;switch(ut.tag){case 26:A=ut.memoizedState;case 5:case 27:var I=ut;if(!A||uw(A)){Vt=0,Gi=null;var U=I.sibling;if(U!==null)ut=U;else{var K=I.return;K!==null?(ut=K,Bf(K)):ut=null}break t}}Vt=0,Gi=null,zl(r,s,g,5);break;case 6:Vt=0,Gi=null,zl(r,s,g,6);break;case 8:hg(),$t=6;break e;default:throw Error(i(462))}}s1();break}catch(le){N0(r,le)}while(!0);return Ss=Vo=null,N.H=c,N.A=d,Kt=o,ut!==null?0:(Bt=null,_t=0,Nl(),$t)}function s1(){for(;ut!==null&&!nt();)x0(ut)}function x0(r){var s=t0(r.alternate,r,xs);r.memoizedProps=r.pendingProps,s===null?Bf(r):ut=s}function k0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=WE(o,s,s.pendingProps,s.type,void 0,_t);break;case 11:s=WE(o,s,s.pendingProps,s.type.render,s.ref,_t);break;case 5:ym(s);default:S0(o,s),s=ut=A0(s,xs),s=t0(o,s,xs)}r.memoizedProps=r.pendingProps,s===null?Bf(r):ut=s}function zl(r,s,o,c){Ss=Vo=null,ym(s),xl=null,rc=0;var d=s.return;try{if(QI(r,d,s,o,_t)){$t=1,Sf(r,z(o,r.current)),ut=null;return}}catch(g){if(d!==null)throw ut=d,g;$t=1,Sf(r,z(o,r.current)),ut=null;return}s.flags&32768?(lt||c===1?r=!0:jl||_t&536870912?r=!1:(Os=r=!0,(c===2||c===3||c===6)&&(c=rr.current,c!==null&&c.tag===13&&(c.flags|=16384))),P0(s,r)):Bf(s)}function Bf(r){var s=r;do{if(s.flags&32768){P0(s,Os);return}r=s.return;var o=ZI(s.alternate,s,xs);if(o!==null){ut=o;return}if(s=s.sibling,s!==null){ut=s;return}ut=s=r}while(s!==null);$t===0&&($t=5)}function P0(r,s){do{var o=$I(r.alternate,r);if(o!==null){o.flags&=32767,ut=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){ut=r;return}ut=r=o}while(r!==null);$t=6,ut=null}function L0(r,s,o,c,d,g,A,I,U,K){var le=N.T,de=Ee.p;try{Ee.p=2,N.T=null,a1(r,s,o,c,de,d,g,A,I,U,K)}finally{N.T=le,Ee.p=de}}function a1(r,s,o,c,d,g,A,I){do Ql();while(jo!==null);if(Kt&6)throw Error(i(327));var U=r.finishedWork;if(c=r.finishedLanes,U===null)return null;if(r.finishedWork=null,r.finishedLanes=0,U===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var K=U.lanes|U.childLanes;if(K|=$u,fo(r,c,K,g,A,I),r===Bt&&(ut=Bt=null,_t=0),!(U.subtreeFlags&10256)&&!(U.flags&10256)||Pf||(Pf=!0,og=K,lg=o,c1(Ni,function(){return Ql(),null})),o=(U.flags&15990)!==0,U.subtreeFlags&15990||o?(o=N.T,N.T=null,g=Ee.p,Ee.p=2,A=Kt,Kt|=4,WI(r,U),g0(U,r),nm(bg,r.containerInfo),Wf=!!Cg,bg=Cg=null,r.current=U,f0(r,U.alternate,U),Qi(),Kt=A,Ee.p=g,N.T=o):r.current=U,Pf?(Pf=!1,jo=r,Tc=c):B0(r,K),K=r.pendingLanes,K===0&&(Da=null),co(U.stateNode),Zr(r),s!==null)for(d=r.onRecoverableError,U=0;U<s.length;U++)K=s[U],d(K.value,{componentStack:K.stack});return Tc&3&&Ql(),K=r.pendingLanes,c&4194218&&K&42?r===ug?Ac++:(Ac=0,ug=r):Ac=0,Cc(0),null}function B0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,ac(s)))}function Ql(){if(jo!==null){var r=jo,s=og;og=0;var o=ft(Tc),c=N.T,d=Ee.p;try{if(Ee.p=32>o?32:o,N.T=null,jo===null)var g=!1;else{o=lg,lg=null;var A=jo,I=Tc;if(jo=null,Tc=0,Kt&6)throw Error(i(331));var U=Kt;if(Kt|=4,w0(A.current),_0(A,A.current,I,o),Kt=U,Cc(0,!1),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Vr,A)}catch{}g=!0}return g}finally{Ee.p=d,N.T=c,B0(r,s)}}return!1}function V0(r,s,o){s=z(o,s),s=Mm(r.stateNode,s,2),r=Aa(r,s,2),r!==null&&(Ht(r,2),Zr(r))}function Lt(r,s,o){if(r.tag===3)V0(r,r,o);else for(;s!==null;){if(s.tag===3){V0(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Da===null||!Da.has(c))){r=z(o,r),o=qE(2),c=Aa(s,o,2),c!==null&&(GE(o,c,s,r),Ht(c,2),Zr(c));break}}s=s.return}}function pg(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new t1;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(ig=!0,d.add(o),r=o1.bind(null,r,s,o),s.then(r,r))}function o1(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Bt===r&&(_t&o)===o&&($t===4||$t===3&&(_t&62914560)===_t&&300>Tn()-ag?!(Kt&2)&&Hl(r,0):rg|=o,Yl===_t&&(Yl=0)),Zr(r)}function U0(r,s){s===0&&(s=Ur()),r=v(r,s),r!==null&&(Ht(r,s),Zr(r))}function l1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),U0(r,o)}function u1(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),U0(r,o)}function c1(r,s){return Di(r,s)}var Vf=null,Kl=null,mg=!1,Uf=!1,gg=!1,Yo=0;function Zr(r){r!==Kl&&r.next===null&&(Kl===null?Vf=Kl=r:Kl=Kl.next=r),Uf=!0,mg||(mg=!0,f1(h1))}function Cc(r,s){if(!gg&&Uf){gg=!0;do for(var o=!1,c=Vf;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var A=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-jn(42|r)+1)-1,g&=d&~(A&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,G0(c,g))}else g=_t,g=Yn(c,c===Bt?g:0),!(g&3)||pr(c,g)||(o=!0,G0(c,g));c=c.next}while(o);gg=!1}}function h1(){Uf=mg=!1;var r=0;Yo!==0&&(E1()&&(r=Yo),Yo=0);for(var s=Tn(),o=null,c=Vf;c!==null;){var d=c.next,g=F0(c,s);g===0?(c.next=null,o===null?Vf=d:o.next=d,d===null&&(Kl=o)):(o=c,(r!==0||g&3)&&(Uf=!0)),c=d}Cc(r)}function F0(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var A=31-jn(g),I=1<<A,U=d[A];U===-1?(!(I&o)||I&c)&&(d[A]=mr(I,s)):U<=s&&(r.expiredLanes|=I),g&=~I}if(s=Bt,o=_t,o=Yn(r,r===s?o:0),c=r.callbackNode,o===0||r===s&&Vt===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Qe(c),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||pr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Qe(c),ft(o)){case 2:case 8:o=dn;break;case 32:o=Ni;break;case 268435456:o=Br;break;default:o=Ni}return c=q0.bind(null,r),o=Di(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Qe(c),r.callbackPriority=2,r.callbackNode=null,2}function q0(r,s){var o=r.callbackNode;if(Ql()&&r.callbackNode!==o)return null;var c=_t;return c=Yn(r,r===Bt?c:0),c===0?null:(I0(r,c,s),F0(r,Tn()),r.callbackNode!=null&&r.callbackNode===o?q0.bind(null,r):null)}function G0(r,s){if(Ql())return null;I0(r,s,!0)}function f1(r){T1(function(){Kt&6?Di(Dt,r):r()})}function yg(){return Yo===0&&(Yo=Mi()),Yo}function j0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Pi(""+r)}function Y0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function d1(r,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var g=j0((d[an]||null).action),A=c.submitter;A&&(s=(s=A[an]||null)?j0(s.formAction):A.getAttribute("formAction"),s!==null&&(g=s,A=null));var I=new tr("action","action",null,c,d);r.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Yo!==0){var U=A?Y0(d,A):new FormData(d);Sm(o,{pending:!0,data:U,method:d.method,action:g},null,U)}}else typeof g=="function"&&(I.preventDefault(),U=A?Y0(d,A):new FormData(d),Sm(o,{pending:!0,data:U,method:d.method,action:g},g,U))},currentTarget:d}]})}}for(var _g=0;_g<cf.length;_g++){var vg=cf[_g],p1=vg.toLowerCase(),m1=vg[0].toUpperCase()+vg.slice(1);Bi(p1,"on"+m1)}Bi(sf,"onAnimationEnd"),Bi(af,"onAnimationIteration"),Bi(of,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(rm,"onTransitionRun"),Bi(sm,"onTransitionStart"),Bi(am,"onTransitionCancel"),Bi(lf,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bc));function H0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var A=c.length-1;0<=A;A--){var I=c[A],U=I.instance,K=I.currentTarget;if(I=I.listener,U!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=K;try{g(d)}catch(le){bf(le)}d.currentTarget=null,g=U}else for(A=0;A<c.length;A++){if(I=c[A],U=I.instance,K=I.currentTarget,I=I.listener,U!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=K;try{g(d)}catch(le){bf(le)}d.currentTarget=null,g=U}}}}function mt(r,s){var o=s[gr];o===void 0&&(o=s[gr]=new Set);var c=r+"__bubble";o.has(c)||(z0(s,r,2,!1),o.add(c))}function Eg(r,s,o){var c=0;s&&(c|=4),z0(o,r,c,s)}var Ff="_reactListening"+Math.random().toString(36).slice(2);function wg(r){if(!r[Ff]){r[Ff]=!0,vr.forEach(function(o){o!=="selectionchange"&&(g1.has(o)||Eg(o,!1,r),Eg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ff]||(s[Ff]=!0,Eg("selectionchange",!1,s))}}function z0(r,s,o,c){switch(mw(s)){case 2:var d=G1;break;case 8:d=j1;break;default:d=kg}o=d.bind(null,s,o,r),d=void 0,!wi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function Tg(r,s,o,c,d){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(A===4)for(A=c.return;A!==null;){var U=A.tag;if((U===3||U===4)&&(U=A.stateNode.containerInfo,U===d||U.nodeType===8&&U.parentNode===d))return;A=A.return}for(;I!==null;){if(A=xi(I),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){c=g=A;continue e}I=I.parentNode}}c=c.return}Ei(function(){var K=g,le=jr(o),de=[];e:{var ne=uf.get(r);if(ne!==void 0){var ae=tr,Me=r;switch(r){case"keypress":if($i(o)===0)break e;case"keydown":case"keyup":ae=ua;break;case"focusin":Me="focus",ae=aa;break;case"focusout":Me="blur",ae=aa;break;case"beforeblur":case"afterblur":ae=aa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ti;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Tl;break;case sf:case af:case of:ae=oa;break;case lf:ae=Cl;break;case"scroll":case"scrollend":ae=To;break;case"wheel":ae=ca;break;case"copy":case"cut":case"paste":ae=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ro;break;case"toggle":case"beforetoggle":ae=Sl}var Ye=(s&4)!==0,en=!Ye&&(r==="scroll"||r==="scrollend"),X=Ye?ne!==null?ne+"Capture":null:ne;Ye=[];for(var Q=K,ee;Q!==null;){var ue=Q;if(ee=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ee===null||X===null||(ue=Yr(Q,X),ue!=null&&Ye.push(Sc(Q,ue,ee))),en)break;Q=Q.return}0<Ye.length&&(ne=new ae(ne,Me,null,o,le),de.push({event:ne,listeners:Ye}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",ne&&o!==vi&&(Me=o.relatedTarget||o.fromElement)&&(xi(Me)||Me[Oi]))break e;if((ae||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Me=o.relatedTarget||o.toElement,ae=K,Me=Me?xi(Me):null,Me!==null&&(en=be(Me),Ye=Me.tag,Me!==en||Ye!==5&&Ye!==27&&Ye!==6)&&(Me=null)):(ae=null,Me=K),ae!==Me)){if(Ye=Ti,ue="onMouseLeave",X="onMouseEnter",Q="mouse",(r==="pointerout"||r==="pointerover")&&(Ye=Ro,ue="onPointerLeave",X="onPointerEnter",Q="pointer"),en=ae==null?ne:qr(ae),ee=Me==null?ne:qr(Me),ne=new Ye(ue,Q+"leave",ae,o,le),ne.target=en,ne.relatedTarget=ee,ue=null,xi(le)===K&&(Ye=new Ye(X,Q+"enter",Me,o,le),Ye.target=ee,Ye.relatedTarget=en,ue=Ye),en=ue,ae&&Me)t:{for(Ye=ae,X=Me,Q=0,ee=Ye;ee;ee=Wl(ee))Q++;for(ee=0,ue=X;ue;ue=Wl(ue))ee++;for(;0<Q-ee;)Ye=Wl(Ye),Q--;for(;0<ee-Q;)X=Wl(X),ee--;for(;Q--;){if(Ye===X||X!==null&&Ye===X.alternate)break t;Ye=Wl(Ye),X=Wl(X)}Ye=null}else Ye=null;ae!==null&&Q0(de,ne,ae,Ye,!1),Me!==null&&en!==null&&Q0(de,en,Me,Ye,!0)}}e:{if(ne=K?qr(K):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var De=Il;else if(ln(ne))if(Hu)De=Xh;else{De=Wh;var st=Kh}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?K&&yo(K.elementType)&&(De=Il):De=Jh;if(De&&(De=De(r,K))){Sr(de,De,o,le);break e}st&&st(r,ne,K),r==="focusout"&&K&&ne.type==="number"&&K.memoizedProps.value!=null&&na(ne,"number",ne.value)}switch(st=K?qr(K):window,r){case"focusin":(ln(st)||st.contentEditable==="true")&&(fa=st,Ju=K,Do=null);break;case"focusout":Do=Ju=fa=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,nf(de,o,le);break;case"selectionchange":if(im)break;case"keydown":case"keyup":nf(de,o,le)}var xe;if(ir)e:{switch(r){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else dt?ie(r,o)&&(Le="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(w&&o.locale!=="ko"&&(dt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&dt&&(xe=Eo()):(Zi=le,Hr="value"in Zi?Zi.value:Zi.textContent,dt=!0)),st=qf(K,Le),0<st.length&&(Le=new Co(Le,r,null,o,le),de.push({event:Le,listeners:st}),xe?Le.data=xe:(xe=ve(o),xe!==null&&(Le.data=xe)))),(xe=y?on(r,o):pt(r,o))&&(Le=qf(K,"onBeforeInput"),0<Le.length&&(st=new Co("onBeforeInput","beforeinput",null,o,le),de.push({event:st,listeners:Le}),st.data=xe)),d1(de,r,K,o,le)}H0(de,s)})}function Sc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function qf(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Yr(r,o),d!=null&&c.unshift(Sc(r,d,g)),d=Yr(r,s),d!=null&&c.push(Sc(r,d,g))),r=r.return}return c}function Wl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Q0(r,s,o,c,d){for(var g=s._reactName,A=[];o!==null&&o!==c;){var I=o,U=I.alternate,K=I.stateNode;if(I=I.tag,U!==null&&U===c)break;I!==5&&I!==26&&I!==27||K===null||(U=K,d?(K=Yr(o,g),K!=null&&A.unshift(Sc(o,K,U))):d||(K=Yr(o,g),K!=null&&A.push(Sc(o,K,U)))),o=o.return}A.length!==0&&r.push({event:s,listeners:A})}var y1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function K0(r){return(typeof r=="string"?r:""+r).replace(y1,`
`).replace(_1,"")}function W0(r,s){return s=K0(s),K0(r)===s}function Gf(){}function Mt(r,s,o,c,d,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||hi(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&hi(r,""+c);break;case"className":Ji(r,"class",c);break;case"tabIndex":Ji(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(r,o,c);break;case"style":ra(r,c,g);break;case"data":if(s!=="object"){Ji(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Pi(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Mt(r,s,"name",d.name,d,null),Mt(r,s,"formEncType",d.formEncType,d,null),Mt(r,s,"formMethod",d.formMethod,d,null),Mt(r,s,"formTarget",d.formTarget,d,null)):(Mt(r,s,"encType",d.encType,d,null),Mt(r,s,"method",d.method,d,null),Mt(r,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Pi(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Gf);break;case"onScroll":c!=null&&mt("scroll",r);break;case"onScrollEnd":c!=null&&mt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Pi(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":mt("beforetoggle",r),mt("toggle",r),Gr(r,"popover",c);break;case"xlinkActuate":yi(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":yi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":yi(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":yi(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":yi(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":yi(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":yi(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":yi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":yi(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Gr(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=_o.get(o)||o,Gr(r,o,c))}}function Ag(r,s,o,c,d,g){switch(o){case"style":ra(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?hi(r,c):(typeof c=="number"||typeof c=="bigint")&&hi(r,""+c);break;case"onScroll":c!=null&&mt("scroll",r);break;case"onScrollEnd":c!=null&&mt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$s.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[an]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,d);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Gr(r,o,c)}}}function Kn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",r),mt("load",r);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var A=o[g];if(A!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Mt(r,s,g,A,o,null)}}d&&Mt(r,s,"srcSet",o.srcSet,o,null),c&&Mt(r,s,"src",o.src,o,null);return;case"input":mt("invalid",r);var I=g=A=d=null,U=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var le=o[c];if(le!=null)switch(c){case"name":d=le;break;case"type":A=le;break;case"checked":U=le;break;case"defaultChecked":K=le;break;case"value":g=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:Mt(r,s,c,le,o,null)}}ms(r,g,I,U,K,A,d,!1),Xi(r);return;case"select":mt("invalid",r),c=A=g=null;for(d in o)if(o.hasOwnProperty(d)&&(I=o[d],I!=null))switch(d){case"value":g=I;break;case"defaultValue":A=I;break;case"multiple":c=I;default:Mt(r,s,d,I,o,null)}s=g,o=A,r.multiple=!!c,s!=null?je(r,!!c,s,!1):o!=null&&je(r,!!c,o,!0);return;case"textarea":mt("invalid",r),g=d=c=null;for(A in o)if(o.hasOwnProperty(A)&&(I=o[A],I!=null))switch(A){case"value":c=I;break;case"defaultValue":d=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:Mt(r,s,A,I,o,null)}Er(r,c,d,g),Xi(r);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(c=o[U],c!=null))switch(U){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Mt(r,s,U,c,o,null)}return;case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":mt("load",r);break;case"video":case"audio":for(c=0;c<bc.length;c++)mt(bc[c],r);break;case"image":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"embed":case"source":case"link":mt("error",r),mt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Mt(r,s,K,c,o,null)}return;default:if(yo(s)){for(le in o)o.hasOwnProperty(le)&&(c=o[le],c!==void 0&&Ag(r,s,le,c,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!=null&&Mt(r,s,I,c,o,null))}function v1(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,A=null,I=null,U=null,K=null,le=null;for(ae in o){var de=o[ae];if(o.hasOwnProperty(ae)&&de!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":U=de;default:c.hasOwnProperty(ae)||Mt(r,s,ae,null,c,de)}}for(var ne in c){var ae=c[ne];if(de=o[ne],c.hasOwnProperty(ne)&&(ae!=null||de!=null))switch(ne){case"type":g=ae;break;case"name":d=ae;break;case"checked":K=ae;break;case"defaultChecked":le=ae;break;case"value":A=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:ae!==de&&Mt(r,s,ne,ae,c,de)}}Ke(r,A,I,U,K,le,g,d);return;case"select":ae=A=I=ne=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":ae=U;default:c.hasOwnProperty(g)||Mt(r,s,g,null,c,U)}for(d in c)if(g=c[d],U=o[d],c.hasOwnProperty(d)&&(g!=null||U!=null))switch(d){case"value":ne=g;break;case"defaultValue":I=g;break;case"multiple":A=g;default:g!==U&&Mt(r,s,d,g,c,U)}s=I,o=A,c=ae,ne!=null?je(r,!!o,ne,!1):!!c!=!!o&&(s!=null?je(r,!!o,s,!0):je(r,!!o,o?[]:"",!1));return;case"textarea":ae=ne=null;for(I in o)if(d=o[I],o.hasOwnProperty(I)&&d!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Mt(r,s,I,null,c,d)}for(A in c)if(d=c[A],g=o[A],c.hasOwnProperty(A)&&(d!=null||g!=null))switch(A){case"value":ne=d;break;case"defaultValue":ae=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&Mt(r,s,A,d,c,g)}gs(r,ne,ae);return;case"option":for(var Me in o)if(ne=o[Me],o.hasOwnProperty(Me)&&ne!=null&&!c.hasOwnProperty(Me))switch(Me){case"selected":r.selected=!1;break;default:Mt(r,s,Me,null,c,ne)}for(U in c)if(ne=c[U],ae=o[U],c.hasOwnProperty(U)&&ne!==ae&&(ne!=null||ae!=null))switch(U){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Mt(r,s,U,ne,c,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in o)ne=o[Ye],o.hasOwnProperty(Ye)&&ne!=null&&!c.hasOwnProperty(Ye)&&Mt(r,s,Ye,null,c,ne);for(K in c)if(ne=c[K],ae=o[K],c.hasOwnProperty(K)&&ne!==ae&&(ne!=null||ae!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:Mt(r,s,K,ne,c,ae)}return;default:if(yo(s)){for(var en in o)ne=o[en],o.hasOwnProperty(en)&&ne!==void 0&&!c.hasOwnProperty(en)&&Ag(r,s,en,void 0,c,ne);for(le in c)ne=c[le],ae=o[le],!c.hasOwnProperty(le)||ne===ae||ne===void 0&&ae===void 0||Ag(r,s,le,ne,c,ae);return}}for(var X in o)ne=o[X],o.hasOwnProperty(X)&&ne!=null&&!c.hasOwnProperty(X)&&Mt(r,s,X,null,c,ne);for(de in c)ne=c[de],ae=o[de],!c.hasOwnProperty(de)||ne===ae||ne==null&&ae==null||Mt(r,s,de,ne,c,ae)}var Cg=null,bg=null;function jf(r){return r.nodeType===9?r:r.ownerDocument}function J0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Sg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rg=null;function E1(){var r=window.event;return r&&r.type==="popstate"?r===Rg?!1:(Rg=r,!0):(Rg=null,!1)}var Z0=typeof setTimeout=="function"?setTimeout:void 0,w1=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(r){return $0.resolve(null).then(r).catch(A1)}:Z0;function A1(r){setTimeout(function(){throw r})}function Ig(r,s){var o=s,c=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){r.removeChild(d),kc(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);kc(s)}function Dg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dg(o),Fr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function C1(r,s,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[yr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Dr(r.nextSibling),r===null)break}return null}function b1(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Dr(r.nextSibling),r===null))return null;return r}function Dr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function ew(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function tw(r,s,o){switch(s=jf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var ur=new Map,nw=new Set;function Yf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ps=Ee.d;Ee.d={f:S1,r:R1,D:I1,C:D1,L:N1,m:M1,X:x1,S:O1,M:k1};function S1(){var r=Ps.f(),s=Lf();return r||s}function R1(r){var s=_r(r);s!==null&&s.tag===5&&s.type==="form"?DE(s):Ps.r(r)}var Jl=typeof document>"u"?null:document;function iw(r,s,o){var c=Jl;if(c&&typeof s=="string"&&s){var d=Gt(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),nw.has(d)||(nw.add(d),r={rel:r,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),Kn(s,"link",r),qt(s),c.head.appendChild(s)))}}function I1(r){Ps.D(r),iw("dns-prefetch",r,null)}function D1(r,s){Ps.C(r,s),iw("preconnect",r,s)}function N1(r,s,o){Ps.L(r,s,o);var c=Jl;if(c&&r&&s){var d='link[rel="preload"][as="'+Gt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Gt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Gt(o.imageSizes)+'"]')):d+='[href="'+Gt(r)+'"]';var g=d;switch(s){case"style":g=Xl(r);break;case"script":g=Zl(r)}ur.has(g)||(r=V({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ur.set(g,r),c.querySelector(d)!==null||s==="style"&&c.querySelector(Rc(g))||s==="script"&&c.querySelector(Ic(g))||(s=c.createElement("link"),Kn(s,"link",r),qt(s),c.head.appendChild(s)))}}function M1(r,s){Ps.m(r,s);var o=Jl;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Gt(c)+'"][href="'+Gt(r)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Zl(r)}if(!ur.has(g)&&(r=V({rel:"modulepreload",href:r},s),ur.set(g,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ic(g)))return}c=o.createElement("link"),Kn(c,"link",r),qt(c),o.head.appendChild(c)}}}function O1(r,s,o){Ps.S(r,s,o);var c=Jl;if(c&&r){var d=ki(c).hoistableStyles,g=Xl(r);s=s||"default";var A=d.get(g);if(!A){var I={loading:0,preload:null};if(A=c.querySelector(Rc(g)))I.loading=5;else{r=V({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ur.get(g))&&Ng(r,o);var U=A=c.createElement("link");qt(U),Kn(U,"link",r),U._p=new Promise(function(K,le){U.onload=K,U.onerror=le}),U.addEventListener("load",function(){I.loading|=1}),U.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Hf(A,s,c)}A={type:"stylesheet",instance:A,count:1,state:I},d.set(g,A)}}}function x1(r,s){Ps.X(r,s);var o=Jl;if(o&&r){var c=ki(o).hoistableScripts,d=Zl(r),g=c.get(d);g||(g=o.querySelector(Ic(d)),g||(r=V({src:r,async:!0},s),(s=ur.get(d))&&Mg(r,s),g=o.createElement("script"),qt(g),Kn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function k1(r,s){Ps.M(r,s);var o=Jl;if(o&&r){var c=ki(o).hoistableScripts,d=Zl(r),g=c.get(d);g||(g=o.querySelector(Ic(d)),g||(r=V({src:r,async:!0,type:"module"},s),(s=ur.get(d))&&Mg(r,s),g=o.createElement("script"),qt(g),Kn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function rw(r,s,o,c){var d=(d=xt.current)?Yf(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Xl(o.href),o=ki(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Xl(o.href);var g=ki(d).hoistableStyles,A=g.get(r);if(A||(d=d.ownerDocument||d,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,A),(g=d.querySelector(Rc(r)))&&!g._p&&(A.instance=g,A.state.loading=5),ur.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ur.set(r,o),g||P1(d,r,o,A.state))),s&&c===null)throw Error(i(528,""));return A}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zl(o),o=ki(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Xl(r){return'href="'+Gt(r)+'"'}function Rc(r){return'link[rel="stylesheet"]['+r+"]"}function sw(r){return V({},r,{"data-precedence":r.precedence,precedence:null})}function P1(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Kn(s,"link",o),qt(s),r.head.appendChild(s))}function Zl(r){return'[src="'+Gt(r)+'"]'}function Ic(r){return"script[async]"+r}function aw(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Gt(o.href)+'"]');if(c)return s.instance=c,qt(c),c;var d=V({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),qt(c),Kn(c,"style",d),Hf(c,o.precedence,r),s.instance=c;case"stylesheet":d=Xl(o.href);var g=r.querySelector(Rc(d));if(g)return s.state.loading|=4,s.instance=g,qt(g),g;c=sw(o),(d=ur.get(d))&&Ng(c,d),g=(r.ownerDocument||r).createElement("link"),qt(g);var A=g;return A._p=new Promise(function(I,U){A.onload=I,A.onerror=U}),Kn(g,"link",c),s.state.loading|=4,Hf(g,o.precedence,r),s.instance=g;case"script":return g=Zl(o.src),(d=r.querySelector(Ic(g)))?(s.instance=d,qt(d),d):(c=o,(d=ur.get(g))&&(c=V({},o),Mg(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),qt(d),Kn(d,"link",c),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(c=s.instance,s.state.loading|=4,Hf(c,o.precedence,r));return s.instance}function Hf(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,A=0;A<c.length;A++){var I=c[A];if(I.dataset.precedence===s)g=I;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Ng(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Mg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var zf=null;function ow(r,s,o){if(zf===null){var c=new Map,d=zf=new Map;d.set(o,c)}else d=zf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[yr]||g[mn]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(s)||"";A=r+A;var I=c.get(A);I?I.push(g):c.set(A,[g])}}return c}function lw(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function L1(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function uw(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Dc=null;function B1(){}function V1(r,s,o){if(Dc===null)throw Error(i(475));var c=Dc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var d=Xl(o.href),g=r.querySelector(Rc(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Qf.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=g,qt(g);return}g=r.ownerDocument||r,o=sw(o),(d=ur.get(d))&&Ng(o,d),g=g.createElement("link"),qt(g);var A=g;A._p=new Promise(function(I,U){A.onload=I,A.onerror=U}),Kn(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(c.count++,s=Qf.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function U1(){if(Dc===null)throw Error(i(475));var r=Dc;return r.stylesheets&&r.count===0&&Og(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Og(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Qf(){if(this.count--,this.count===0){if(this.stylesheets)Og(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Kf=null;function Og(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Kf=new Map,s.forEach(F1,r),Kf=null,Qf.call(r))}function F1(r,s){if(!(s.state.loading&4)){var o=Kf.get(r);if(o)var c=o.get(null);else{o=new Map,Kf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var A=d[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),c=A)}c&&o.set(null,c)}d=s.instance,A=d.getAttribute("data-precedence"),g=o.get(A)||c,g===c&&o.set(null,d),o.set(A,d),this.count++,c=Qf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Nc={$$typeof:b,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function q1(r,s,o,c,d,g,A,I){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.hiddenUpdates=Xs(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function cw(r,s,o,c,d,g,A,I,U,K,le,de){return r=new q1(r,s,o,A,I,U,K,de),s=1,g===!0&&(s|=24),g=or(3,null,null,s),r.current=g,g.stateNode=r,s=cm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Ym(g),r}function hw(r){return r?(r=k,r):k}function fw(r,s,o,c,d,g){d=hw(d),c.context===null?c.context=d:c.pendingContext=d,c=Ta(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Aa(r,c,s),o!==null&&(di(o,r,s),dc(o,r,s))}function dw(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function xg(r,s){dw(r,s),(r=r.alternate)&&dw(r,s)}function pw(r){if(r.tag===13){var s=v(r,67108864);s!==null&&di(s,r,67108864),xg(r,67108864)}}var Wf=!0;function G1(r,s,o,c){var d=N.T;N.T=null;var g=Ee.p;try{Ee.p=2,kg(r,s,o,c)}finally{Ee.p=g,N.T=d}}function j1(r,s,o,c){var d=N.T;N.T=null;var g=Ee.p;try{Ee.p=8,kg(r,s,o,c)}finally{Ee.p=g,N.T=d}}function kg(r,s,o,c){if(Wf){var d=Pg(c);if(d===null)Tg(r,s,c,Jf,o),gw(r,c);else if(H1(d,r,s,o,c))c.stopPropagation();else if(gw(r,c),s&4&&-1<Y1.indexOf(r)){for(;d!==null;){var g=_r(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=An(g.pendingLanes);if(A!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;A;){var U=1<<31-jn(A);I.entanglements[1]|=U,A&=~U}Zr(g),!(Kt&6)&&(xf=Tn()+500,Cc(0))}}break;case 13:I=v(g,2),I!==null&&di(I,g,2),Lf(),xg(g,2)}if(g=Pg(c),g===null&&Tg(r,s,c,Jf,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Tg(r,s,c,null,o)}}function Pg(r){return r=jr(r),Lg(r)}var Jf=null;function Lg(r){if(Jf=null,r=xi(r),r!==null){var s=be(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=qe(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Jf=r,null}function mw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hl()){case Dt:return 2;case dn:return 8;case Ni:case fl:return 32;case Br:return 268435456;default:return 32}default:return 32}}var Bg=!1,Na=null,Ma=null,Oa=null,Mc=new Map,Oc=new Map,xa=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gw(r,s){switch(r){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":Mc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(s.pointerId)}}function xc(r,s,o,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=_r(s),s!==null&&pw(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function H1(r,s,o,c,d){switch(s){case"focusin":return Na=xc(Na,r,s,o,c,d),!0;case"dragenter":return Ma=xc(Ma,r,s,o,c,d),!0;case"mouseover":return Oa=xc(Oa,r,s,o,c,d),!0;case"pointerover":var g=d.pointerId;return Mc.set(g,xc(Mc.get(g)||null,r,s,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Oc.set(g,xc(Oc.get(g)||null,r,s,o,c,d)),!0}return!1}function yw(r){var s=xi(r.target);if(s!==null){var o=be(s);if(o!==null){if(s=o.tag,s===13){if(s=qe(o),s!==null){r.blockedOn=s,Cn(r.priority,function(){if(o.tag===13){var c=ji(),d=v(o,c);d!==null&&di(d,o,c),xg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Pg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);vi=c,o.target.dispatchEvent(c),vi=null}else return s=_r(o),s!==null&&pw(s),r.blockedOn=o,!1;s.shift()}return!0}function _w(r,s,o){Xf(r)&&o.delete(s)}function z1(){Bg=!1,Na!==null&&Xf(Na)&&(Na=null),Ma!==null&&Xf(Ma)&&(Ma=null),Oa!==null&&Xf(Oa)&&(Oa=null),Mc.forEach(_w),Oc.forEach(_w)}function Zf(r,s){r.blockedOn===s&&(r.blockedOn=null,Bg||(Bg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,z1)))}var $f=null;function vw(r){$f!==r&&($f=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$f===r&&($f=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],d=r[s+2];if(typeof c!="function"){if(Lg(c||o)===null)continue;break}var g=_r(o);g!==null&&(r.splice(s,3),s-=3,Sm(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function kc(r){function s(U){return Zf(U,r)}Na!==null&&Zf(Na,r),Ma!==null&&Zf(Ma,r),Oa!==null&&Zf(Oa,r),Mc.forEach(s),Oc.forEach(s);for(var o=0;o<xa.length;o++){var c=xa[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<xa.length&&(o=xa[0],o.blockedOn===null);)yw(o),o.blockedOn===null&&xa.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],A=d[an]||null;if(typeof g=="function")A||vw(o);else if(A){var I=null;if(g&&g.hasAttribute("formAction")){if(d=g,A=g[an]||null)I=A.formAction;else if(Lg(d)!==null)continue}else I=A.action;typeof I=="function"?o[c+1]=I:(o.splice(c,3),c-=3),vw(o)}}}function Vg(r){this._internalRoot=r}ed.prototype.render=Vg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=ji();fw(o,c,r,s,null,null)},ed.prototype.unmount=Vg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&Ql(),fw(r.current,2,null,r,null,null),Lf(),s[Oi]=null}};function ed(r){this._internalRoot=r}ed.prototype.unstable_scheduleHydration=function(r){if(r){var s=dl();r={blockedOn:null,target:r,priority:s};for(var o=0;o<xa.length&&s!==0&&s<xa[o].priority;o++);xa.splice(o,0,r),o===0&&yw(r)}};var Ew=e.version;if(Ew!=="19.0.0")throw Error(i(527,Ew,"19.0.0"));Ee.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=he(s),r=r!==null?Se(r):null,r=r===null?null:r.stateNode,r};var Q1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:xi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{Vr=td.inject(Q1),kn=td}catch{}}return Lc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",d=BE,g=VE,A=UE,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=cw(r,1,!1,null,null,o,c,d,g,A,I,null),r[Oi]=s.current,wg(r.nodeType===8?r.parentNode:r),new Vg(s)},Lc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,d="",g=BE,A=VE,I=UE,U=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),s=cw(r,1,!0,s,o??null,c,d,g,A,I,U,K),s.context=hw(null),o=s.current,c=ji(),d=Ta(c),d.callback=null,Aa(o,d,c),s.current.lanes=c,Ht(s,c),Zr(s),r[Oi]=s.current,wg(r),new ed(s)},Lc.version="19.0.0",Lc}var Nw;function iD(){if(Nw)return qg.exports;Nw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qg.exports=nD(),qg.exports}var rD=iD();const sD=fC(rD);var Bc={},Mw;function aD(){if(Mw)return Bc;Mw=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.parse=u,Bc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function u(C,b){const R=new l,B=C.length;if(B<2)return R;const O=(b==null?void 0:b.decode)||_;let x=0;do{const L=C.indexOf("=",x);if(L===-1)break;const j=C.indexOf(";",x),te=j===-1?B:j;if(L>te){x=C.lastIndexOf(";",L-1)+1;continue}const se=f(C,x,L),pe=p(C,L,se),P=C.slice(se,pe);if(R[P]===void 0){let D=f(C,L+1,te),N=p(C,te,D);const V=O(C.slice(D,N));R[P]=V}x=te+1}while(x<B);return R}function f(C,b,R){do{const B=C.charCodeAt(b);if(B!==32&&B!==9)return b}while(++b<R);return R}function p(C,b,R){for(;b>R;){const B=C.charCodeAt(--b);if(B!==32&&B!==9)return b+1}return R}function m(C,b,R){const B=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(C))throw new TypeError(`argument name is invalid: ${C}`);const O=B(b);if(!e.test(O))throw new TypeError(`argument val is invalid: ${b}`);let x=C+"="+O;if(!R)return x;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);x+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);x+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);x+="; Path="+R.path}if(R.expires){if(!T(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);x+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(x+="; HttpOnly"),R.secure&&(x+="; Secure"),R.partitioned&&(x+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return x}function _(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function T(C){return a.call(C)==="[object Date]"}return Bc}aD();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ow="popstate";function oD(n={}){function e(i,a){let{pathname:l,search:u,hash:f}=i.location;return yy("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:lh(a)}return uD(e,t,null,n)}function Wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function os(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lD(){return Math.random().toString(36).substring(2,10)}function xw(n,e){return{usr:n.state,key:n.key,idx:e}}function yy(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ru(e):e,state:t,key:e&&e.key||i||lD()}}function lh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ru(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function uD(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,f="POP",p=null,m=_();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function _(){return(u.state||{idx:null}).idx}function T(){f="POP";let O=_(),x=O==null?null:O-m;m=O,p&&p({action:f,location:B.location,delta:x})}function C(O,x){f="PUSH";let L=yy(B.location,O,x);m=_()+1;let j=xw(L,m),te=B.createHref(L);try{u.pushState(j,"",te)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(te)}l&&p&&p({action:f,location:B.location,delta:1})}function b(O,x){f="REPLACE";let L=yy(B.location,O,x);m=_();let j=xw(L,m),te=B.createHref(L);u.replaceState(j,"",te),l&&p&&p({action:f,location:B.location,delta:0})}function R(O){let x=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof O=="string"?O:lh(O);return L=L.replace(/ $/,"%20"),Wt(x,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,x)}let B={get action(){return f},get location(){return n(a,u)},listen(O){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Ow,T),p=O,()=>{a.removeEventListener(Ow,T),p=null}},createHref(O){return e(a,O)},createURL:R,encodeLocation(O){let x=R(O);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:C,replace:b,go(O){return u.go(O)}};return B}function dC(n,e,t="/"){return cD(n,e,t,!1)}function cD(n,e,t,i){let a=typeof e=="string"?Ru(e):e,l=Ja(a.pathname||"/",t);if(l==null)return null;let u=pC(n);hD(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let m=TD(l);f=ED(u[p],m,i)}return f}function pC(n,e=[],t=[],i=""){let a=(l,u,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(Wt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Fs([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(Wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),pC(l.children,e,_,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:_D(m,l.index),routesMeta:_})};return n.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,u);else for(let p of mC(l.path))a(l,u,p)}),e}function mC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=mC(i.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function hD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:vD(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var fD=/^:[\w-]+$/,dD=3,pD=2,mD=1,gD=10,yD=-2,kw=n=>n==="*";function _D(n,e){let t=n.split("/"),i=t.length;return t.some(kw)&&(i+=yD),e&&(i+=pD),t.filter(a=>!kw(a)).reduce((a,l)=>a+(fD.test(l)?dD:l===""?mD:gD),i)}function vD(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function ED(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",u=[];for(let f=0;f<i.length;++f){let p=i[f],m=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=Md({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),C=p.route;if(!T&&m&&t&&!i[i.length-1].route.index&&(T=Md({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),u.push({params:a,pathname:Fs([l,T.pathname]),pathnameBase:SD(Fs([l,T.pathnameBase])),route:C}),T.pathnameBase!=="/"&&(l=Fs([l,T.pathnameBase]))}return u}function Md(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=wD(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((m,{paramName:_,isOptional:T},C)=>{if(_==="*"){let R=f[C]||"";u=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const b=f[C];return T&&!b?m[_]=void 0:m[_]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:n}}function wD(n,e=!1,t=!0){os(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function TD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return os(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ja(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function AD(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Ru(n):n;return{pathname:t?t.startsWith("/")?t:CD(t,e):e,search:RD(i),hash:ID(a)}}function CD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Hg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gC(n){let e=bD(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function yC(n,e,t,i=!1){let a;typeof n=="string"?a=Ru(n):(a={...n},Wt(!a.pathname||!a.pathname.includes("?"),Hg("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),Hg("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),Hg("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=t;else{let T=e.length-1;if(!i&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),T-=1;a.pathname=C.join("/")}f=T>=0?e[T]:"/"}let p=AD(a,f),m=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Fs=n=>n.join("/").replace(/\/\/+/g,"/"),SD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ID=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function DD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var _C=["POST","PUT","PATCH","DELETE"];new Set(_C);var ND=["GET",..._C];new Set(ND);var Iu=J.createContext(null);Iu.displayName="DataRouter";var fp=J.createContext(null);fp.displayName="DataRouterState";var vC=J.createContext({isTransitioning:!1});vC.displayName="ViewTransition";var MD=J.createContext(new Map);MD.displayName="Fetchers";var OD=J.createContext(null);OD.displayName="Await";var cs=J.createContext(null);cs.displayName="Navigation";var Ih=J.createContext(null);Ih.displayName="Location";var Qs=J.createContext({outlet:null,matches:[],isDataRoute:!1});Qs.displayName="Route";var y_=J.createContext(null);y_.displayName="RouteError";function xD(n,{relative:e}={}){Wt(Dh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=J.useContext(cs),{hash:a,pathname:l,search:u}=Nh(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Fs([t,l])),i.createHref({pathname:f,search:u,hash:a})}function Dh(){return J.useContext(Ih)!=null}function oo(){return Wt(Dh(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(Ih).location}var EC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wC(n){J.useContext(cs).static||J.useLayoutEffect(n)}function dp(){let{isDataRoute:n}=J.useContext(Qs);return n?zD():kD()}function kD(){Wt(Dh(),"useNavigate() may be used only in the context of a <Router> component.");let n=J.useContext(Iu),{basename:e,navigator:t}=J.useContext(cs),{matches:i}=J.useContext(Qs),{pathname:a}=oo(),l=JSON.stringify(gC(i)),u=J.useRef(!1);return wC(()=>{u.current=!0}),J.useCallback((p,m={})=>{if(os(u.current,EC),!u.current)return;if(typeof p=="number"){t.go(p);return}let _=yC(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Fs([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,l,a,n])}J.createContext(null);function Nh(n,{relative:e}={}){let{matches:t}=J.useContext(Qs),{pathname:i}=oo(),a=JSON.stringify(gC(t));return J.useMemo(()=>yC(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function PD(n,e){return TC(n,e)}function TC(n,e,t,i){var L;Wt(Dh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=J.useContext(cs),{matches:u}=J.useContext(Qs),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",_=f?f.pathnameBase:"/",T=f&&f.route;{let j=T&&T.path||"";AC(m,!T||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let C=oo(),b;if(e){let j=typeof e=="string"?Ru(e):e;Wt(_==="/"||((L=j.pathname)==null?void 0:L.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=C;let R=b.pathname||"/",B=R;if(_!=="/"){let j=_.replace(/^\//,"").split("/");B="/"+R.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=!l&&t&&t.matches&&t.matches.length>0?t.matches:dC(n,{pathname:B});os(T||O!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),os(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=FD(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Fs([_,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?_:Fs([_,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,t,i);return e&&x?J.createElement(Ih.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},x):x}function LD(){let n=HD(),e=DD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=J.createElement(J.Fragment,null,J.createElement("p",null,"💿 Hey developer 👋"),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:l},"ErrorBoundary")," or"," ",J.createElement("code",{style:l},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:a},t):null,u)}var BD=J.createElement(LD,null),VD=class extends J.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?J.createElement(Qs.Provider,{value:this.props.routeContext},J.createElement(y_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UD({routeContext:n,match:e,children:t}){let i=J.useContext(Iu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),J.createElement(Qs.Provider,{value:n},t)}function FD(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Wt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:_,errors:T}=t,C=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||C){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,m,_)=>{let T,C=!1,b=null,R=null;t&&(T=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||BD,u&&(f<0&&_===0?(AC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):f===_&&(C=!0,R=m.route.hydrateFallbackElement||null)));let B=e.concat(a.slice(0,_+1)),O=()=>{let x;return T?x=b:C?x=R:m.route.Component?x=J.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=p,J.createElement(UD,{match:m,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:x})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?J.createElement(VD,{location:t.location,revalidation:t.revalidation,component:b,error:T,children:O(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):O()},null)}function __(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qD(n){let e=J.useContext(Iu);return Wt(e,__(n)),e}function GD(n){let e=J.useContext(fp);return Wt(e,__(n)),e}function jD(n){let e=J.useContext(Qs);return Wt(e,__(n)),e}function v_(n){let e=jD(n),t=e.matches[e.matches.length-1];return Wt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function YD(){return v_("useRouteId")}function HD(){var i;let n=J.useContext(y_),e=GD("useRouteError"),t=v_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function zD(){let{router:n}=qD("useNavigate"),e=v_("useNavigate"),t=J.useRef(!1);return wC(()=>{t.current=!0}),J.useCallback(async(a,l={})=>{os(t.current,EC),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Pw={};function AC(n,e,t){!e&&!Pw[n]&&(Pw[n]=!0,os(!1,t))}J.memo(QD);function QD({routes:n,future:e,state:t}){return TC(n,void 0,t,e)}function pd(n){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KD({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){Wt(!Dh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=J.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=Ru(t));let{pathname:p="/",search:m="",hash:_="",state:T=null,key:C="default"}=t,b=J.useMemo(()=>{let R=Ja(p,u);return R==null?null:{location:{pathname:R,search:m,hash:_,state:T,key:C},navigationType:i}},[u,p,m,_,T,C,i]);return os(b!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:J.createElement(cs.Provider,{value:f},J.createElement(Ih.Provider,{children:e,value:b}))}function WD({children:n,location:e}){return PD(_y(n),e)}function _y(n,e=[]){let t=[];return J.Children.forEach(n,(i,a)=>{if(!J.isValidElement(i))return;let l=[...e,a];if(i.type===J.Fragment){t.push.apply(t,_y(i.props.children,l));return}Wt(i.type===pd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=_y(i.props.children,l)),t.push(u)}),t}var md="get",gd="application/x-www-form-urlencoded";function pp(n){return n!=null&&typeof n.tagName=="string"}function JD(n){return pp(n)&&n.tagName.toLowerCase()==="button"}function XD(n){return pp(n)&&n.tagName.toLowerCase()==="form"}function ZD(n){return pp(n)&&n.tagName.toLowerCase()==="input"}function $D(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function eN(n,e){return n.button===0&&(!e||e==="_self")&&!$D(n)}var nd=null;function tN(){if(nd===null)try{new FormData(document.createElement("form"),0),nd=!1}catch{nd=!0}return nd}var nN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zg(n){return n!=null&&!nN.has(n)?(os(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gd}"`),null):n}function iN(n,e){let t,i,a,l,u;if(XD(n)){let f=n.getAttribute("action");i=f?Ja(f,e):null,t=n.getAttribute("method")||md,a=zg(n.getAttribute("enctype"))||gd,l=new FormData(n)}else if(JD(n)||ZD(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?Ja(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||md,a=zg(n.getAttribute("formenctype"))||zg(f.getAttribute("enctype"))||gd,l=new FormData(f,n),!tN()){let{name:m,type:_,value:T}=n;if(_==="image"){let C=m?`${m}.`:"";l.append(`${C}x`,"0"),l.append(`${C}y`,"0")}else m&&l.append(m,T)}}else{if(pp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=md,i=null,a=gd,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:u}}function E_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function rN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function aN(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await rN(l,t);return u.links?u.links():[]}return[]}));return cN(i.flat(1).filter(sN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Lw(n,e,t,i,a,l){let u=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>{var _;return t[m].pathname!==p.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>u(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{var T;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(u(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function oN(n,e){return lN(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let a=[i.module];return i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function lN(n){return[...new Set(n)]}function uN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function cN(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(uN(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function hN(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function fN(){let n=J.useContext(Iu);return E_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function dN(){let n=J.useContext(fp);return E_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var w_=J.createContext(void 0);w_.displayName="FrameworkContext";function CC(){let n=J.useContext(w_);return E_(n,"You must render this element inside a <HydratedRouter> element"),n}function pN(n,e){let t=J.useContext(w_),[i,a]=J.useState(!1),[l,u]=J.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:T}=e,C=J.useRef(null);J.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let B=x=>{x.forEach(L=>{u(L.isIntersecting)})},O=new IntersectionObserver(B,{threshold:.5});return C.current&&O.observe(C.current),()=>{O.disconnect()}}},[n]),J.useEffect(()=>{if(i){let B=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(B)}}},[i]);let b=()=>{a(!0)},R=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,C,{}]:[l,C,{onFocus:Vc(f,b),onBlur:Vc(p,R),onMouseEnter:Vc(m,b),onMouseLeave:Vc(_,R),onTouchStart:Vc(T,b)}]:[!1,C,{}]}function Vc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function mN({page:n,...e}){let{router:t}=fN(),i=J.useMemo(()=>dC(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?J.createElement(yN,{page:n,matches:i,...e}):null}function gN(n){let{manifest:e,routeModules:t}=CC(),[i,a]=J.useState([]);return J.useEffect(()=>{let l=!1;return aN(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),i}function yN({page:n,matches:e,...t}){let i=oo(),{manifest:a,routeModules:l}=CC(),{loaderData:u,matches:f}=dN(),p=J.useMemo(()=>Lw(n,e,f,a,i,"data"),[n,e,f,a,i]),m=J.useMemo(()=>Lw(n,e,f,a,i,"assets"),[n,e,f,a,i]),_=J.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,R=!1;if(e.forEach(O=>{var L;let x=a.routes[O.route.id];!x||!x.hasLoader||(!p.some(j=>j.route.id===O.route.id)&&O.route.id in u&&((L=l[O.route.id])!=null&&L.shouldRevalidate)||x.hasClientLoader?R=!0:b.add(O.route.id))}),b.size===0)return[];let B=hN(n);return R&&b.size>0&&B.searchParams.set("_routes",e.filter(O=>b.has(O.route.id)).map(O=>O.route.id).join(",")),[B.pathname+B.search]},[u,i,a,p,e,n,l]),T=J.useMemo(()=>oN(m,a),[m,a]),C=gN(m);return J.createElement(J.Fragment,null,_.map(b=>J.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),T.map(b=>J.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),C.map(({key:b,link:R})=>J.createElement("link",{key:b,...R})))}function _N(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bC&&(window.__reactRouterVersion="7.1.5")}catch{}function vN({basename:n,children:e,window:t}){let i=J.useRef();i.current==null&&(i.current=oD({window:t,v5Compat:!0}));let a=i.current,[l,u]=J.useState({action:a.action,location:a.location}),f=J.useCallback(p=>{J.startTransition(()=>u(p))},[u]);return J.useLayoutEffect(()=>a.listen(f),[a,f]),J.createElement(KD,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var SC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RC=J.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:m,preventScrollReset:_,viewTransition:T,...C},b){let{basename:R}=J.useContext(cs),B=typeof m=="string"&&SC.test(m),O,x=!1;if(typeof m=="string"&&B&&(O=m,bC))try{let N=new URL(window.location.href),V=m.startsWith("//")?new URL(N.protocol+m):new URL(m),Y=Ja(V.pathname,R);V.origin===N.origin&&Y!=null?m=Y+V.search+V.hash:x=!0}catch{os(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=xD(m,{relative:a}),[j,te,se]=pN(i,C),pe=AN(m,{replace:u,state:f,target:p,preventScrollReset:_,relative:a,viewTransition:T});function P(N){e&&e(N),N.defaultPrevented||pe(N)}let D=J.createElement("a",{...C,...se,href:O||L,onClick:x||l?e:P,ref:_N(b,te),target:p,"data-discover":!B&&t==="render"?"true":void 0});return j&&!B?J.createElement(J.Fragment,null,D,J.createElement(mN,{page:L})):D});RC.displayName="Link";var EN=J.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...m},_){let T=Nh(u,{relative:m.relative}),C=oo(),b=J.useContext(fp),{navigator:R,basename:B}=J.useContext(cs),O=b!=null&&IN(T)&&f===!0,x=R.encodeLocation?R.encodeLocation(T).pathname:T.pathname,L=C.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(L=L.toLowerCase(),j=j?j.toLowerCase():null,x=x.toLowerCase()),j&&B&&(j=Ja(j,B)||j);const te=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let se=L===x||!a&&L.startsWith(x)&&L.charAt(te)==="/",pe=j!=null&&(j===x||!a&&j.startsWith(x)&&j.charAt(x.length)==="/"),P={isActive:se,isPending:pe,isTransitioning:O},D=se?e:void 0,N;typeof i=="function"?N=i(P):N=[i,se?"active":null,pe?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(P):l;return J.createElement(RC,{...m,"aria-current":D,className:N,ref:_,style:V,to:u,viewTransition:f},typeof p=="function"?p(P):p)});EN.displayName="NavLink";var wN=J.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:u=md,action:f,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:T,...C},b)=>{let R=SN(),B=RN(f,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",x=typeof f=="string"&&SC.test(f),L=j=>{if(p&&p(j),j.defaultPrevented)return;j.preventDefault();let te=j.nativeEvent.submitter,se=(te==null?void 0:te.getAttribute("formmethod"))||u;R(te||j.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:a,state:l,relative:m,preventScrollReset:_,viewTransition:T})};return J.createElement("form",{ref:b,method:O,action:B,onSubmit:i?p:L,...C,"data-discover":!x&&n==="render"?"true":void 0})});wN.displayName="Form";function TN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IC(n){let e=J.useContext(Iu);return Wt(e,TN(n)),e}function AN(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=dp(),p=oo(),m=Nh(n,{relative:l});return J.useCallback(_=>{if(eN(_,e)){_.preventDefault();let T=t!==void 0?t:lh(p)===lh(m);f(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,f,m,t,i,e,n,a,l,u])}var CN=0,bN=()=>`__${String(++CN)}__`;function SN(){let{router:n}=IC("useSubmit"),{basename:e}=J.useContext(cs),t=YD();return J.useCallback(async(i,a={})=>{let{action:l,method:u,encType:f,formData:p,body:m}=iN(i,e);if(a.navigate===!1){let _=a.fetcherKey||bN();await n.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function RN(n,{relative:e}={}){let{basename:t}=J.useContext(cs),i=J.useContext(Qs);Wt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Nh(n||".",{relative:e})},u=oo();if(n==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(T=>T).forEach(T=>f.append("index",T));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Fs([t,l.pathname])),lh(l)}function IN(n,e={}){let t=J.useContext(vC);Wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=IC("useViewTransitionState"),a=Nh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ja(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Ja(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Md(a.pathname,u)!=null||Md(a.pathname,l)!=null}new TextEncoder;var Bw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e=function(n,e){if(!n)throw Du(e)},Du=function(n){return new Error("Firebase Database ("+DC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},DN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],f=n[t++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},T_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,_=l>>2,T=(l&3)<<4|f>>4;let C=(f&15)<<2|m>>6,b=m&63;p||(b=64,u||(C=64)),i.push(t[_],t[T],t[C],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(NC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||m==null||T==null)throw new NN;const C=l<<2|f>>4;if(i.push(C),m!==64){const b=f<<4&240|m>>2;if(i.push(b),T!==64){const R=m<<6&192|T;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MC=function(n){const e=NC(n);return T_.encodeByteArray(e,!0)},Od=function(n){return MC(n).replace(/\./g,"")},xd=function(n){try{return T_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){return OC(void 0,n)}function OC(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!ON(t)||(n[t]=OC(n[t],e[t]));return n}function ON(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=()=>xN().__FIREBASE_DEFAULTS__,PN=()=>{if(typeof process>"u"||typeof Bw>"u")return;const n=Bw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xd(n[1]);return e&&JSON.parse(e)},mp=()=>{try{return kN()||PN()||LN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xC=n=>{var e,t;return(t=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kC=n=>{const e=xC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},PC=()=>{var n;return(n=mp())===null||n===void 0?void 0:n.config},LC=n=>{var e;return(e=mp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Od(JSON.stringify(t)),Od(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(li())}function BN(){var n;const e=(n=mp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FN(){const n=li();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qN(){return DC.NODE_ADMIN===!0}function GN(){return!BN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jN(){try{return typeof indexedDB=="object"}catch{return!1}}function YN(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="FirebaseError";class Ks extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=HN,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oh.prototype.create)}}class Oh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?zN(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Ks(a,f,i)}}function zN(n,e){return n.replace(QN,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const QN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(n){return JSON.parse(n)}function Mn(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=function(n){let e={},t={},i={},a="";try{const l=n.split(".");e=uh(xd(l[0])||""),t=uh(xd(l[1])||""),a=l[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:a}},KN=function(n){const e=UC(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},WN=function(n){const e=UC(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function du(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function vy(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function kd(n,e,t){const i={};for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=e.call(t,n[a],a,n));return i}function Pd(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],u=e[a];if(Vw(l)&&Vw(u)){if(!Pd(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function Vw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Hc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function zc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let T=0;T<16;T++)i[T]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let T=0;T<16;T++)i[T]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let T=16;T<80;T++){const C=i[T-3]^i[T-8]^i[T-14]^i[T-16];i[T]=(C<<1|C>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],f=this.chain_[3],p=this.chain_[4],m,_;for(let T=0;T<80;T++){T<40?T<20?(m=f^l&(u^f),_=1518500249):(m=l^u^f,_=1859775393):T<60?(m=l&u|f&(l|u),_=2400959708):(m=l^u^f,_=3395469782);const C=(a<<5|a>>>27)+m+p+_+i[T]&4294967295;p=f,f=u,u=(l<<30|l>>>2)&4294967295,l=a,a=C}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let a=0;const l=this.buf_;let u=this.inbuf_;for(;a<t;){if(u===0)for(;a<=i;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<t;)if(l[u]=e.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}else for(;a<t;)if(l[u]=e[a],++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[a]>>l&255,++i;return e}}function XN(n,e){const t=new ZN(n,e);return t.subscribe.bind(t)}class ZN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");$N(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Qg),a.error===void 0&&(a.error=Qg),a.complete===void 0&&(a.complete=Qg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $N(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qg(){}function gp(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);if(a>=55296&&a<=56319){const l=a-55296;i++,_e(i<n.length,"Surrogate pair missing trail surrogate.");const u=n.charCodeAt(i)-56320;a=65536+(l<<10)+u}a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):a<65536?(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},yp=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(n){return n&&n._delegate?n._delegate:n}class Xa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Mh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iM(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nM(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nM(n){return n===Ho?void 0:n}function iM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ct||(ct={}));const sM={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},aM=ct.INFO,oM={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},lM=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=oM[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=aM,this._logHandler=lM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const uM=(n,e)=>e.some(t=>n instanceof t);let Uw,Fw;function cM(){return Uw||(Uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hM(){return Fw||(Fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FC=new WeakMap,Ey=new WeakMap,qC=new WeakMap,Kg=new WeakMap,C_=new WeakMap;function fM(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Ya(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&FC.set(t,n)}).catch(()=>{}),C_.set(e,n),e}function dM(n){if(Ey.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Ey.set(n,e)}let wy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ey.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ya(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pM(n){wy=n(wy)}function mM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Wg(this),e,...t);return qC.set(i,e.sort?e.sort():[e]),Ya(i)}:hM().includes(n)?function(...e){return n.apply(Wg(this),e),Ya(FC.get(this))}:function(...e){return Ya(n.apply(Wg(this),e))}}function gM(n){return typeof n=="function"?mM(n):(n instanceof IDBTransaction&&dM(n),uM(n,cM())?new Proxy(n,wy):n)}function Ya(n){if(n instanceof IDBRequest)return fM(n);if(Kg.has(n))return Kg.get(n);const e=gM(n);return e!==n&&(Kg.set(n,e),C_.set(e,n)),e}const Wg=n=>C_.get(n);function yM(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),f=Ya(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Ya(u.result),p.oldVersion,p.newVersion,Ya(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const _M=["get","getKey","getAll","getAllKeys","count"],vM=["put","add","delete","clear"],Jg=new Map;function qw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=vM.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||_M.includes(t)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),a&&p.done]))[0]};return Jg.set(e,l),l}pM(n=>({...n,get:(e,t,i)=>qw(e,t)||n.get(e,t,i),has:(e,t)=>!!qw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wM(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function wM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ty="@firebase/app",Gw="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new _p("@firebase/app"),TM="@firebase/app-compat",AM="@firebase/analytics-compat",CM="@firebase/analytics",bM="@firebase/app-check-compat",SM="@firebase/app-check",RM="@firebase/auth",IM="@firebase/auth-compat",DM="@firebase/database",NM="@firebase/data-connect",MM="@firebase/database-compat",OM="@firebase/functions",xM="@firebase/functions-compat",kM="@firebase/installations",PM="@firebase/installations-compat",LM="@firebase/messaging",BM="@firebase/messaging-compat",VM="@firebase/performance",UM="@firebase/performance-compat",FM="@firebase/remote-config",qM="@firebase/remote-config-compat",GM="@firebase/storage",jM="@firebase/storage-compat",YM="@firebase/firestore",HM="@firebase/vertexai",zM="@firebase/firestore-compat",QM="firebase",KM="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="[DEFAULT]",WM={[Ty]:"fire-core",[TM]:"fire-core-compat",[CM]:"fire-analytics",[AM]:"fire-analytics-compat",[SM]:"fire-app-check",[bM]:"fire-app-check-compat",[RM]:"fire-auth",[IM]:"fire-auth-compat",[DM]:"fire-rtdb",[NM]:"fire-data-connect",[MM]:"fire-rtdb-compat",[OM]:"fire-fn",[xM]:"fire-fn-compat",[kM]:"fire-iid",[PM]:"fire-iid-compat",[LM]:"fire-fcm",[BM]:"fire-fcm-compat",[VM]:"fire-perf",[UM]:"fire-perf-compat",[FM]:"fire-rc",[qM]:"fire-rc-compat",[GM]:"fire-gcs",[jM]:"fire-gcs-compat",[YM]:"fire-fst",[zM]:"fire-fst-compat",[HM]:"fire-vertex","fire-js":"fire-js",[QM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Map,JM=new Map,Cy=new Map;function jw(n,e){try{n.container.addComponent(e)}catch(t){js.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $o(n){const e=n.name;if(Cy.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;Cy.set(e,n);for(const t of Ld.values())jw(t,n);for(const t of JM.values())jw(t,n);return!0}function vp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new Oh("app","Firebase",XM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=KM;function GC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ay,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Ha.create("bad-app-name",{appName:String(a)});if(t||(t=PC()),!t)throw Ha.create("no-options");const l=Ld.get(a);if(l){if(Pd(t,l.options)&&Pd(i,l.config))return l;throw Ha.create("duplicate-app",{appName:a})}const u=new rM(a);for(const p of Cy.values())u.addComponent(p);const f=new ZM(t,i,u);return Ld.set(a,f),f}function b_(n=Ay){const e=Ld.get(n);if(!e&&n===Ay&&PC())return GC();if(!e)throw Ha.create("no-app",{appName:n});return e}function is(n,e,t){var i;let a=(i=WM[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(f.join(" "));return}$o(new Xa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="firebase-heartbeat-database",eO=1,ch="firebase-heartbeat-store";let Xg=null;function jC(){return Xg||(Xg=yM($M,eO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ch)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ha.create("idb-open",{originalErrorMessage:n.message})})),Xg}async function tO(n){try{const t=(await jC()).transaction(ch),i=await t.objectStore(ch).get(YC(n));return await t.done,i}catch(e){if(e instanceof Ks)js.warn(e.message);else{const t=Ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});js.warn(t.message)}}}async function Yw(n,e){try{const i=(await jC()).transaction(ch,"readwrite");await i.objectStore(ch).put(e,YC(n)),await i.done}catch(t){if(t instanceof Ks)js.warn(t.message);else{const i=Ha.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});js.warn(i.message)}}}function YC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=1024,iO=30;class rO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aO(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Hw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>iO){const u=oO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){js.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hw(),{heartbeatsToSend:i,unsentEntries:a}=sO(this._heartbeatsCache.heartbeats),l=Od(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return js.warn(t),""}}}function Hw(){return new Date().toISOString().substring(0,10)}function sO(n,e=nO){const t=[];let i=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),zw(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),zw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class aO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jN()?YN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Yw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Yw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function zw(n){return Od(JSON.stringify({version:2,heartbeats:n})).length}function oO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(n){$o(new Xa("platform-logger",e=>new EM(e),"PRIVATE")),$o(new Xa("heartbeat",e=>new rO(e),"PRIVATE")),is(Ty,Gw,n),is(Ty,Gw,"esm2017"),is("fire-js","")}lO("");var uO="firebase",cO="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(uO,cO,"app");function S_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function HC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hO=HC,zC=new Oh("auth","Firebase",HC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new _p("@firebase/auth");function fO(n,...e){Bd.logLevel<=ct.WARN&&Bd.warn(`Auth (${al}): ${n}`,...e)}function yd(n,...e){Bd.logLevel<=ct.ERROR&&Bd.error(`Auth (${al}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(n,...e){throw R_(n,...e)}function rs(n,...e){return R_(n,...e)}function QC(n,e,t){const i=Object.assign(Object.assign({},hO()),{[e]:t});return new Oh("auth","Firebase",i).create(e,{appName:n.name})}function za(n){return QC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return zC.create(n,...e)}function Fe(n,e,...t){if(!n)throw R_(e,...t)}function Ls(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yd(e),new Error(e)}function Ys(n,e){n||Ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function dO(){return Qw()==="http:"||Qw()==="https:"}function Qw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dO()||UN()||"connection"in navigator)?navigator.onLine:!0}function mO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ys(t>e,"Short delay should be less than long delay!"),this.isMobile=A_()||VC()}get(){return pO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(n,e){Ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new xh(3e4,6e4);function ol(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function lo(n,e,t,i,a={}){return WC(n,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=Nu(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},l);return VN()||(m.referrerPolicy="no-referrer"),KC.fetch()(JC(n,n.config.apiHost,t,f),m)})}async function WC(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},gO),e);try{const a=new vO(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw id(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw id(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw id(n,"user-disabled",u);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw QC(n,_,m);xr(n,_)}}catch(a){if(a instanceof Ks)throw a;xr(n,"network-request-failed",{message:String(a)})}}async function Ep(n,e,t,i,a={}){const l=await lo(n,e,t,i,a);return"mfaPendingCredential"in l&&xr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function JC(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?I_(n.config,a):`${n.config.apiScheme}://${a}`}function _O(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(rs(this.auth,"network-request-failed")),yO.get())})}}function id(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=rs(n,e,i);return a.customData._tokenResponse=t,a}function Kw(n){return n!==void 0&&n.enterprise!==void 0}class EO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _O(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wO(n,e){return lo(n,"GET","/v2/recaptchaConfig",ol(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(n,e){return lo(n,"POST","/v1/accounts:delete",e)}async function XC(n,e){return lo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AO(n,e=!1){const t=$n(n),i=await t.getIdToken(e),a=D_(i);Fe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Zc(Zg(a.auth_time)),issuedAtTime:Zc(Zg(a.iat)),expirationTime:Zc(Zg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Zg(n){return Number(n)*1e3}function D_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const a=xd(t);return a?JSON.parse(a):(yd("Failed to decode base64 JWT payload"),null)}catch(a){return yd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Ww(n){const e=D_(n);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ks&&CO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function CO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(n){var e;const t=n.auth,i=await n.getIdToken(),a=await hh(n,XC(t,{idToken:i}));Fe(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ZC(l.providerUserInfo):[],f=RO(n.providerData,u),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?m:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Sy(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function SO(n){const e=$n(n);await Vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RO(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function ZC(n){return n.map(e=>{var{providerId:t}=e,i=S_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(n,e){const t=await WC(n,{},async()=>{const i=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=JC(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",KC.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function DO(n,e){return lo(n,"POST","/v2/accounts:revokeToken",ol(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ww(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const t=Ww(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await IO(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,u=new au;return i&&(Fe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Fe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Fe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new au,this.toJSON())}_performRefresh(){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(n,e){Fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Bs{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=S_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sy(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await hh(this,this.stsTokenManager.getToken(this.auth,e));return Fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AO(this,e)}reload(){return SO(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Vd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await hh(this,TO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,u,f,p,m,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,C=(a=t.email)!==null&&a!==void 0?a:void 0,b=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,B=(f=t.tenantId)!==null&&f!==void 0?f:void 0,O=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,x=(m=t.createdAt)!==null&&m!==void 0?m:void 0,L=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:j,emailVerified:te,isAnonymous:se,providerData:pe,stsTokenManager:P}=t;Fe(j&&P,e,"internal-error");const D=au.fromJSON(this.name,P);Fe(typeof j=="string",e,"internal-error"),Pa(T,e.name),Pa(C,e.name),Fe(typeof te=="boolean",e,"internal-error"),Fe(typeof se=="boolean",e,"internal-error"),Pa(b,e.name),Pa(R,e.name),Pa(B,e.name),Pa(O,e.name),Pa(x,e.name),Pa(L,e.name);const N=new Bs({uid:j,auth:e,email:C,emailVerified:te,displayName:T,isAnonymous:se,photoURL:R,phoneNumber:b,tenantId:B,stsTokenManager:D,createdAt:x,lastLoginAt:L});return pe&&Array.isArray(pe)&&(N.providerData=pe.map(V=>Object.assign({},V))),O&&(N._redirectEventId=O),N}static async _fromIdTokenResponse(e,t,i=!1){const a=new au;a.updateFromServerResponse(t);const l=new Bs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Vd(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Fe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ZC(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new au;f.updateFromIdToken(i);const p=new Bs({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Sy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;function Vs(n){Ys(n instanceof Function,"Expected a class definition");let e=Jw.get(n);return e?(Ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Jw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$C.type="NONE";const Xw=$C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(n,e,t){return`firebase:${n}:${e}:${t}`}class ou{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=_d(this.userKey,a.apiKey,l),this.fullPersistenceKey=_d("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ou(Vs(Xw),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Vs(Xw);const u=_d(i,e.config.apiKey,e.name);let f=null;for(const m of t)try{const _=await m._get(u);if(_){const T=Bs._fromJSON(e,_);m!==l&&(f=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ou(l,e,i):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new ou(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sb(e))return"Blackberry";if(ab(e))return"Webos";if(tb(e))return"Safari";if((e.includes("chrome/")||nb(e))&&!e.includes("edge/"))return"Chrome";if(rb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function eb(n=li()){return/firefox\//i.test(n)}function tb(n=li()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nb(n=li()){return/crios\//i.test(n)}function ib(n=li()){return/iemobile/i.test(n)}function rb(n=li()){return/android/i.test(n)}function sb(n=li()){return/blackberry/i.test(n)}function ab(n=li()){return/webos/i.test(n)}function N_(n=li()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function NO(n=li()){var e;return N_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MO(){return FN()&&document.documentMode===10}function ob(n=li()){return N_(n)||rb(n)||ab(n)||sb(n)||/windows phone/i.test(n)||ib(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(n,e=[]){let t;switch(n){case"Browser":t=Zw(li());break;case"Worker":t=`${Zw(li())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${al}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n,e={}){return lo(n,"GET","/v2/passwordPolicy",ol(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=6;class PO{constructor(e){var t,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:kO,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,u,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $w(this),this.idTokenSubscription=new $w(this),this.beforeStateQueue=new OO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vs(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await ou.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await XC(this,{idToken:e}),i=await Bs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(za(this));const t=e?$n(e):null;return t&&Fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xO(this),t=new PO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await DO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vs(e)||this._popupRedirectResolver;Fe(t,this,"argument-error"),this.redirectPersistenceManager=await ou.create(this,[Vs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&fO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mu(n){return $n(n)}class $w{constructor(e){this.auth=e,this.observer=null,this.addObserver=XN(t=>this.observer=t)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BO(n){wp=n}function ub(n){return wp.loadJS(n)}function VO(){return wp.recaptchaEnterpriseScript}function UO(){return wp.gapiScript}function FO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class qO{constructor(){this.enterprise=new GO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class GO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jO="recaptcha-enterprise",cb="NO_RECAPTCHA";class YO{constructor(e){this.type=jO,this.auth=Mu(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{wO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new EO(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(p=>{f(p)})})}function a(l,u,f){const p=window.grecaptcha;Kw(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(cb)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qO().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!t&&Kw(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VO();p.length!==0&&(p+=f),ub(p).then(()=>{a(f,l,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function eT(n,e,t,i=!1,a=!1){const l=new YO(n);let u;if(a)u=cb;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function tT(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await eT(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await eT(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n,e){const t=vp(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Pd(l,e??{}))return a;xr(a,"already-initialized")}return t.initialize({options:e})}function zO(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Vs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function QO(n,e,t){const i=Mu(n);Fe(i._canInitEmulator,i,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=hb(e),{host:u,port:f}=KO(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${u}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),WO()}function hb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KO(n){const e=hb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:nT(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:nT(u)}}}function nT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function WO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ls("not implemented")}_getIdTokenResponse(e){return Ls("not implemented")}_linkToIdToken(e,t){return Ls("not implemented")}_getReauthenticationResolver(e){return Ls("not implemented")}}async function JO(n,e){return lo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(n,e){return Ep(n,"POST","/v1/accounts:signInWithPassword",ol(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(n,e){return Ep(n,"POST","/v1/accounts:signInWithEmailLink",ol(n,e))}async function $O(n,e){return Ep(n,"POST","/v1/accounts:signInWithEmailLink",ol(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends M_{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new fh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new fh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tT(e,t,"signInWithPassword",XO);case"emailLink":return ZO(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tT(e,i,"signUpPassword",JO);case"emailLink":return $O(e,{idToken:t,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(n,e){return Ep(n,"POST","/v1/accounts:signInWithIdp",ol(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="http://localhost";class el extends M_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new el(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=S_(t,["providerId","signInMethod"]);if(!i||!a)return null;const u=new el(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return lu(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,lu(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,lu(e,t)}buildRequest(){const e={requestUri:ex,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nx(n){const e=Hc(zc(n)).link,t=e?Hc(zc(e)).deep_link_id:null,i=Hc(zc(n)).deep_link_id;return(i?Hc(zc(i)).link:null)||i||t||e||n}class O_{constructor(e){var t,i,a,l,u,f;const p=Hc(zc(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,T=tx((a=p.mode)!==null&&a!==void 0?a:null);Fe(m&&_&&T,"argument-error"),this.apiKey=m,this.operation=T,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=p.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=nx(e);try{return new O_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.providerId=Ou.PROVIDER_ID}static credential(e,t){return fh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=O_.parseLink(t);return Fe(i,"argument-error"),fh._fromEmailAndCode(e,i.code,i.tenantId)}}Ou.PROVIDER_ID="password";Ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends fb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends kh{constructor(){super("facebook.com")}static credential(e){return el._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return La.credential(e.oauthAccessToken)}catch{return null}}}La.FACEBOOK_SIGN_IN_METHOD="facebook.com";La.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return el._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ba.credential(t,i)}catch{return null}}}Ba.GOOGLE_SIGN_IN_METHOD="google.com";Ba.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends kh{constructor(){super("github.com")}static credential(e){return el._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Va.credential(e.oauthAccessToken)}catch{return null}}}Va.GITHUB_SIGN_IN_METHOD="github.com";Va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends kh{constructor(){super("twitter.com")}static credential(e,t){return el._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ua.credential(t,i)}catch{return null}}}Ua.TWITTER_SIGN_IN_METHOD="twitter.com";Ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Bs._fromIdTokenResponse(e,i,a),u=iT(i);return new pu({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=iT(i);return new pu({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function iT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Ks{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Ud.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Ud(e,t,i,a)}}function db(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ud._fromErrorAndOperation(n,l,e,i):l})}async function ix(n,e,t=!1){const i=await hh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pu._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(n,e,t=!1){const{auth:i}=n;if(hr(i.app))return Promise.reject(za(i));const a="reauthenticate";try{const l=await hh(n,db(i,a,e,n),t);Fe(l.idToken,i,"internal-error");const u=D_(l.idToken);Fe(u,i,"internal-error");const{sub:f}=u;return Fe(n.uid===f,i,"user-mismatch"),pu._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&xr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(n,e,t=!1){if(hr(n.app))return Promise.reject(za(n));const i="signIn",a=await db(n,i,e),l=await pu._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function sx(n,e){return pb(Mu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(n){const e=Mu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ox(n,e,t){return hr(n.app)?Promise.reject(za(n)):sx($n(n),Ou.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ax(n),i})}function lx(n,e,t,i){return $n(n).onIdTokenChanged(e,t,i)}function ux(n,e,t){return $n(n).beforeAuthStateChanged(e,t)}function x_(n,e,t,i){return $n(n).onAuthStateChanged(e,t,i)}function cx(n){return $n(n).signOut()}const Fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=1e3,fx=10;class gb extends mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ob(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);MO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,fx):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},hx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gb.type="LOCAL";const dx=gb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yb.type="SESSION";const _b=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Tp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async m=>m(t.origin,l)),p=await px(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const m=k_("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(T){const C=T;if(C.data.eventId===m)switch(C.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(C.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function gx(n){ss().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function yx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _x(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function vx(){return vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebaseLocalStorageDb",Ex=1,qd="firebaseLocalStorage",wb="fbase_key";class Ph{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ap(n,e){return n.transaction([qd],e?"readwrite":"readonly").objectStore(qd)}function wx(){const n=indexedDB.deleteDatabase(Eb);return new Ph(n).toPromise()}function Ry(){const n=indexedDB.open(Eb,Ex);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(qd,{keyPath:wb})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(qd)?e(i):(i.close(),await wx(),e(await Ry()))})})}async function rT(n,e,t){const i=Ap(n,!0).put({[wb]:e,value:t});return new Ph(i).toPromise()}async function Tx(n,e){const t=Ap(n,!1).get(e),i=await new Ph(t).toPromise();return i===void 0?null:i.value}function sT(n,e){const t=Ap(n,!0).delete(e);return new Ph(t).toPromise()}const Ax=800,Cx=3;class Tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ry(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Cx)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tp._getInstance(vx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yx(),!this.activeServiceWorker)return;this.sender=new mx(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_x()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ry();return await rT(e,Fd,"1"),await sT(e,Fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Tx(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ap(a,!1).getAll();return new Ph(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ax)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tb.type="LOCAL";const bx=Tb;new xh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n,e){return e?Vs(e):(Fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_ extends M_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return lu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return lu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Rx(n){return pb(n.auth,new P_(n),n.bypassAuthState)}function Ix(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),rx(t,new P_(n),n.bypassAuthState)}async function Dx(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),ix(t,new P_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rx;case"linkViaPopup":case"linkViaRedirect":return Dx;case"reauthViaPopup":case"reauthViaRedirect":return Ix;default:xr(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new xh(2e3,1e4);class ru extends Ab{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,ru.currentPopupAction&&ru.currentPopupAction.cancel(),ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=k_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nx.get())};e()}}ru.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="pendingRedirect",vd=new Map;class Ox extends Ab{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const i=await xx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xx(n,e){const t=Lx(e),i=Px(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function kx(n,e){vd.set(n._key(),e)}function Px(n){return Vs(n._redirectPersistence)}function Lx(n){return _d(Mx,n.config.apiKey,n.name)}async function Bx(n,e,t=!1){if(hr(n.app))return Promise.reject(za(n));const i=Mu(n),a=Sx(i,e),u=await new Ox(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=10*60*1e3;class Ux{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Fx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Cb(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(rs(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Vx&&this.cachedEventUids.clear(),this.cachedEventUids.has(aT(e))}saveEventToCache(e){this.cachedEventUids.add(aT(e)),this.lastProcessedEventTime=Date.now()}}function aT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Cb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Fx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(n,e={}){return lo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jx=/^https?/;async function Yx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qx(n);for(const t of e)try{if(Hx(t))return}catch{}xr(n,"unauthorized-domain")}function Hx(n){const e=by(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!jx.test(t))return!1;if(Gx.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new xh(3e4,6e4);function oT(){const n=ss().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Qx(n){return new Promise((e,t)=>{var i,a,l;function u(){oT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oT(),t(rs(n,"network-request-failed"))},timeout:zx.get()})}if(!((a=(i=ss().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ss().gapi)===null||l===void 0)&&l.load)u();else{const f=FO("iframefcb");return ss()[f]=()=>{gapi.load?u():t(rs(n,"network-request-failed"))},ub(`${UO()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Ed=null,e})}let Ed=null;function Kx(n){return Ed=Ed||Qx(n),Ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new xh(5e3,15e3),Jx="__/auth/iframe",Xx="emulator/auth/iframe",Zx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$x=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ek(n){const e=n.config;Fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?I_(e,Xx):`https://${n.config.authDomain}/${Jx}`,i={apiKey:e.apiKey,appName:n.name,v:al},a=$x.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Nu(i).slice(1)}`}async function tk(n){const e=await Kx(n),t=ss().gapi;return Fe(t,n,"internal-error"),e.open({where:document.body,url:ek(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zx,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=rs(n,"network-request-failed"),f=ss().setTimeout(()=>{l(u)},Wx.get());function p(){ss().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ik=500,rk=600,sk="_blank",ak="http://localhost";class lT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ok(n,e,t,i=ik,a=rk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},nk),{width:i.toString(),height:a.toString(),top:l,left:u}),m=li().toLowerCase();t&&(f=nb(m)?sk:t),eb(m)&&(e=e||ak,p.scrollbars="yes");const _=Object.entries(p).reduce((C,[b,R])=>`${C}${b}=${R},`,"");if(NO(m)&&f!=="_self")return lk(e||"",f),new lT(null);const T=window.open(e||"",f,_);Fe(T,n,"popup-blocked");try{T.focus()}catch{}return new lT(T)}function lk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="__/auth/handler",ck="emulator/auth/handler",hk=encodeURIComponent("fac");async function uT(n,e,t,i,a,l){Fe(n.config.authDomain,n,"auth-domain-config-required"),Fe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:al,eventId:a};if(e instanceof fb){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",vy(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))u[_]=T}if(e instanceof kh){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await n._getAppCheckToken(),m=p?`#${hk}=${encodeURIComponent(p)}`:"";return`${fk(n)}?${Nu(f).slice(1)}${m}`}function fk({config:n}){return n.emulator?I_(n,ck):`https://${n.authDomain}/${uk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="webStorageSupport";class dk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_b,this._completeRedirectFn=Bx,this._overrideRedirectResult=kx}async _openPopup(e,t,i,a){var l;Ys((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await uT(e,t,i,by(),a);return ok(e,u,k_())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await uT(e,t,i,by(),a);return gx(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Ys(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await tk(e),i=new Ux(e);return t.register("authEvent",a=>(Fe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($g,{type:$g},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[$g];u!==void 0&&t(!!u),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Yx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ob()||tb()||N_()}}const pk=dk;var cT="@firebase/auth",hT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yk(n){$o(new Xa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Fe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lb(n)},m=new LO(i,a,l,p);return zO(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),$o(new Xa("auth-internal",e=>{const t=Mu(e.getProvider("auth").getImmediate());return(i=>new mk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(cT,hT,gk(n)),is(cT,hT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=5*60,vk=LC("authIdTokenMaxAge")||_k;let fT=null;const Ek=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>vk)return;const a=t==null?void 0:t.token;fT!==a&&(fT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function L_(n=b_()){const e=vp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=HO(n,{popupRedirectResolver:pk,persistence:[bx,dx,_b]}),i=LC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=Ek(l.toString());ux(t,u,()=>u(t.currentUser)),lx(t,f=>u(f))}}const a=xC("auth");return a&&QO(t,`http://${a}`),t}function wk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}BO({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=rs("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",wk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yk("Browser");var dT={};const pT="@firebase/database",mT="1.0.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bb="";function Tk(n){bb=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:uh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return hs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ak(e)}}catch{}return new Ck},Qo=Sb("localStorage"),bk=Sb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new _p("@firebase/database"),Sk=function(){let n=1;return function(){return n++}}(),Rb=function(n){const e=eM(n),t=new JN;t.update(e);const i=t.digest();return T_.encodeByteArray(i)},Lh=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Lh.apply(null,i):typeof i=="object"?e+=Mn(i):e+=i,e+=" "}return e};let $c=null,gT=!0;const Rk=function(n,e){_e(!0,"Can't turn on custom loggers persistently."),uu.logLevel=ct.VERBOSE,$c=uu.log.bind(uu)},Jn=function(...n){if(gT===!0&&(gT=!1,$c===null&&bk.get("logging_enabled")===!0&&Rk()),$c){const e=Lh.apply(null,n);$c(e)}},Bh=function(n){return function(...e){Jn(n,...e)}},Iy=function(...n){const e="FIREBASE INTERNAL ERROR: "+Lh(...n);uu.error(e)},Hs=function(...n){const e=`FIREBASE FATAL ERROR: ${Lh(...n)}`;throw uu.error(e),new Error(e)},gi=function(...n){const e="FIREBASE WARNING: "+Lh(...n);uu.warn(e)},Ik=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},B_=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Dk=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},mu="[MIN_NAME]",tl="[MAX_NAME]",ll=function(n,e){if(n===e)return 0;if(n===mu||e===tl)return-1;if(e===mu||n===tl)return 1;{const t=yT(n),i=yT(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},Nk=function(n,e){return n===e?0:n<e?-1:1},Uc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Mn(e))},V_=function(n){if(typeof n!="object"||n===null)return Mn(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Mn(e[i]),t+=":",t+=V_(n[e[i]]);return t+="}",t},Ib=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let a=0;a<t;a+=e)a+e>t?i.push(n.substring(a,t)):i.push(n.substring(a,a+e));return i};function Xn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Db=function(n){_e(!B_(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let a,l,u,f,p;n===0?(l=0,u=0,a=1/n===-1/0?1:0):(a=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=f+i,u=Math.round(n*Math.pow(2,t-f)-Math.pow(2,t))):(l=0,u=Math.round(n/Math.pow(2,1-i-t))));const m=[];for(p=t;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(p=e;p;p-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(a?1:0),m.reverse();const _=m.join("");let T="";for(p=0;p<64;p+=8){let C=parseInt(_.substr(p,8),2).toString(16);C.length===1&&(C="0"+C),T=T+C}return T.toLowerCase()},Mk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ok=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xk(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const kk=new RegExp("^-?(0*)\\d{1,10}$"),Pk=-2147483648,Lk=2147483647,yT=function(n){if(kk.test(n)){const e=Number(n);if(e>=Pk&&e<=Lk)return e}return null},xu=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw gi("Exception was thrown by user callback.",t),e},Math.floor(0))}},Bk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},eh=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,hr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){gi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Jn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gi(e)}}class wd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}wd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="5",Nb="v",Mb="s",Ob="r",xb="f",kb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Pb="ls",Lb="p",Dy="ac",Bb="websocket",Vb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t,i,a,l=!1,u="",f=!1,p=!1){this.secure=t,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Fk(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Fb(n,e,t){_e(typeof e=="string","typeof type must == string"),_e(typeof t=="object","typeof params must == object");let i;if(e===Bb)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Vb)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Fk(n)&&(t.ns=n.namespace);const a=[];return Xn(t,(l,u)=>{a.push(l+"="+u)}),i+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.counters_={}}incrementCounter(e,t=1){hs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return MN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey={},ty={};function F_(n){const e=n.toString();return ey[e]||(ey[e]=new qk),ey[e]}function Gk(n,e){const t=n.toString();return ty[t]||(ty[t]=e()),ty[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&xu(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="start",Yk="close",Hk="pLPCommand",zk="pRTLPCB",qb="id",Gb="pw",jb="ser",Qk="cb",Kk="seg",Wk="ts",Jk="d",Xk="dframe",Yb=1870,Hb=30,Zk=Yb-Hb,$k=25e3,e2=3e4;class su{constructor(e,t,i,a,l,u,f){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bh(e),this.stats_=F_(t),this.urlFn=p=>(this.appCheckToken&&(p[Dy]=this.appCheckToken),Fb(t,Vb,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new jk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(e2)),Dk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new q_((...l)=>{const[u,f,p,m,_]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===_T)this.id=f,this.password=p;else if(u===Yk)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const i={};i[_T]="t",i[jb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Qk]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Nb]=U_,this.transportSessionId&&(i[Mb]=this.transportSessionId),this.lastSessionId&&(i[Pb]=this.lastSessionId),this.applicationId&&(i[Lb]=this.applicationId),this.appCheckToken&&(i[Dy]=this.appCheckToken),typeof location<"u"&&location.hostname&&kb.test(location.hostname)&&(i[Ob]=xb);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){su.forceAllow_=!0}static forceDisallow(){su.forceDisallow_=!0}static isAvailable(){return su.forceAllow_?!0:!su.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Mk()&&!Ok()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Mn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=MC(t),a=Ib(i,Zk);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[Xk]="t",i[qb]=e,i[Gb]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Mn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class q_{constructor(e,t,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Sk(),window[Hk+this.uniqueCallbackIdentifier]=e,window[zk+this.uniqueCallbackIdentifier]=t,this.myIFrame=q_.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Jn("frame writing exception"),f.stack&&Jn(f.stack),Jn(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Jn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[qb]=this.myID,e[Gb]=this.myPW,e[jb]=this.currentSerial;let t=this.urlFn(e),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Hb+i.length<=Yb;){const u=this.pendingSegs.shift();i=i+"&"+Kk+a+"="+u.seg+"&"+Wk+a+"="+u.ts+"&"+Jk+a+"="+u.d,a++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},a=setTimeout(i,Math.floor($k)),l=()=>{clearTimeout(a),i()};this.addTag(e,l)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Jn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=16384,n2=45e3;let Gd=null;typeof MozWebSocket<"u"?Gd=MozWebSocket:typeof WebSocket<"u"&&(Gd=WebSocket);class Nr{constructor(e,t,i,a,l,u,f){this.connId=e,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bh(this.connId),this.stats_=F_(t),this.connURL=Nr.connectionURL_(t,u,f,a,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,a,l){const u={};return u[Nb]=U_,typeof location<"u"&&location.hostname&&kb.test(location.hostname)&&(u[Ob]=xb),t&&(u[Mb]=t),i&&(u[Pb]=i),a&&(u[Dy]=a),l&&(u[Lb]=l),Fb(e,Bb,u)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qo.set("previous_websocket_failure",!0);try{let i;qN(),this.mySock=new Gd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Nr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Gd!==null&&!Nr.forceDisallow_}static previouslyFailed(){return Qo.isInMemoryStorage||Qo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=uh(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(_e(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Mn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=Ib(t,t2);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(n2))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nr.responsesRequiredToBeHealthy=2;Nr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{static get ALL_TRANSPORTS(){return[su,Nr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Nr&&Nr.isAvailable();let i=t&&!Nr.previouslyFailed();if(e.webSocketOnly&&(t||gi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Nr];else{const a=this.transports_=[];for(const l of dh.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);dh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}dh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=6e4,r2=5e3,s2=10*1024,a2=100*1024,ny="t",vT="d",o2="s",ET="r",l2="e",wT="o",TT="a",AT="n",CT="p",u2="h";class c2{constructor(e,t,i,a,l,u,f,p,m,_){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bh("c:"+this.id+":"),this.transportManager_=new dh(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=eh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>a2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>s2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ny in e){const t=e[ny];t===TT?this.upgradeIfSecondaryHealthy_():t===ET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===wT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Uc("t",e),i=Uc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:CT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:TT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:AT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Uc("t",e),i=Uc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Uc(ny,e);if(vT in e){const i=e[vT];if(t===u2){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(t===AT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===o2?this.onConnectionShutdown_(i):t===ET?this.onReset_(i):t===l2?Iy("Server Error: "+i):t===wT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Iy("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),U_!==i&&gi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),eh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(i2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):eh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(r2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:CT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{put(e,t,i,a){}merge(e,t,i,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.allowedEvents_=e,this.listeners_={},_e(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const a=this.getInitialEvent(e);a&&t.apply(i,a)}off(e,t,i){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===t&&(!i||i===a[l].context)){a.splice(l,1);return}}validateEventType_(e){_e(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Qb{static getInstance(){return new jd}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!A_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return _e(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=32,ST=768;class Ot{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function St(){return new Ot("")}function at(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Za(n){return n.pieces_.length-n.pieceNum_}function Ft(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ot(n.pieces_,e)}function G_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function h2(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function ph(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Kb(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ot(e,0)}function nn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ot)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&t.push(i[a])}return new Ot(t,0)}function ht(n){return n.pieceNum_>=n.pieces_.length}function mi(n,e){const t=at(n),i=at(e);if(t===null)return e;if(t===i)return mi(Ft(n),Ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function f2(n,e){const t=ph(n,0),i=ph(e,0);for(let a=0;a<t.length&&a<i.length;a++){const l=ll(t[a],i[a]);if(l!==0)return l}return t.length===i.length?0:t.length<i.length?-1:1}function j_(n,e){if(Za(n)!==Za(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function fr(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Za(n)>Za(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class d2{constructor(e,t){this.errorPrefix_=t,this.parts_=ph(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=yp(this.parts_[i]);Wb(this)}}function p2(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=yp(e),Wb(n)}function m2(n){const e=n.parts_.pop();n.byteLength_-=yp(e),n.parts_.length>0&&(n.byteLength_-=1)}function Wb(n){if(n.byteLength_>ST)throw new Error(n.errorPrefix_+"has a key path longer than "+ST+" bytes ("+n.byteLength_+").");if(n.parts_.length>bT)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bT+") or object contains a cycle "+zo(n))}function zo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends Qb{static getInstance(){return new Y_}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return _e(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=1e3,g2=60*5*1e3,RT=30*1e3,y2=1.3,_2=3e4,v2="server_kill",IT=3;class qs extends zb{constructor(e,t,i,a,l,u,f,p){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=qs.nextPersistentConnectionId_++,this.log_=Bh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fc,this.maxReconnectDelay_=g2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Y_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&jd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const a=++this.requestNumber_,l={r:a,a:e,b:t};this.log_(Mn(l)),_e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(e){this.initConnection_();const t=new Mh,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;u.s==="ok"?t.resolve(f):t.reject(f)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),t.promise}listen(e,t,i,a){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_e(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:a,hashFn:t,query:e,tag:i};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),a=t._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i},u="q";e.tag&&(l.q=t._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,f=>{const p=f.d,m=f.s;qs.warnOnListenWarnings_(p,t),(this.listens.get(i)&&this.listens.get(i).get(a))===e&&(this.log_("listen response",f),m!=="ok"&&this.removeListen_(i,a),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&hs(e,"w")){const i=du(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+t._queryParams.getIndex().toString()+'"',l=t._path.toString();gi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||WN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=KN(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,a=>{const l=a.s,u=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,e._queryObject,t)}sendUnlisten_(e,t,i,a){this.log_("Unlisten on "+e+" for "+t);const l={p:e},u="n";a&&(l.q=i,l.t=a),this.sendRequest(u,l)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,a){const l={p:t,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(e,t,i,a){this.putInternal("p",e,t,i,a)}merge(e,t,i,a){this.putInternal("m",e,t,i,a)}putInternal(e,t,i,a,l){this.initConnection_();const u={p:t,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:a}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,l=>{this.log_(t+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Mn(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Iy("Unrecognized action received from server: "+Mn(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){_e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_2&&(this.reconnectDelay_=Fc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*y2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+qs.nextConnectionId_++,l=this.lastSessionId;let u=!1,f=null;const p=function(){f?f.close():(u=!0,i())},m=function(T){_e(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(T)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[T,C]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);u?Jn("getToken() completed but was canceled"):(Jn("getToken() completed. Creating connection."),this.authToken_=T&&T.accessToken,this.appCheckToken_=C&&C.token,f=new c2(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,b=>{gi(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(v2)},l))}catch(T){this.log_("Failed to get token: "+T),u||(this.repoInfo_.nodeAdmin&&gi(T),p())}}}interrupt(e){Jn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Jn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],vy(this.interruptReasons_)&&(this.reconnectDelay_=Fc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(l=>V_(l)).join("$"):i="default";const a=this.removeListen_(e,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,t){const i=new Ot(e).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(t),l.delete(t),l.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(e,t){Jn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=IT&&(this.reconnectDelay_=RT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Jn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=IT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+bb.replace(/\./g,"-")]=1,A_()?e["framework.cordova"]=1:VC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jd.getInstance().currentlyOnline();return vy(this.interruptReasons_)&&e}}qs.nextPersistentConnectionId_=0;qs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ot(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new ot(mu,e),a=new ot(mu,t);return this.compare(i,a)!==0}minPost(){return ot.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd;class Jb extends Cp{static get __EMPTY_NODE(){return rd}static set __EMPTY_NODE(e){rd=e}compare(e,t){return ll(e.name,t.name)}isDefinedOn(e){throw Du("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ot.MIN}maxPost(){return new ot(tl,rd)}makePost(e,t){return _e(typeof e=="string","KeyIndex indexValue must always be a string."),new ot(e,rd)}toString(){return".key"}}const cu=new Jb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd=class{constructor(e,t,i,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=t?i(e.key,t):1,a&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Hi=class Qc{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Qc.RED,this.left=a??ns.EMPTY_NODE,this.right=l??ns.EMPTY_NODE}copy(e,t,i,a,l){return new Qc(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a=a.copy(null,t,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return ns.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,a;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return ns.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Hi.RED=!0;Hi.BLACK=!1;class E2{copy(e,t,i,a,l){return this}insert(e,t,i){return new Hi(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let ns=class Td{constructor(e,t=Td.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Td(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Hi.BLACK,null,null))}remove(e){return new Td(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Hi.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,a=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new sd(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new sd(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new sd(this.root_,null,this.comparator_,!0,e)}};ns.EMPTY_NODE=new E2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n,e){return ll(n.name,e.name)}function H_(n,e){return ll(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny;function T2(n){Ny=n}const Xb=function(n){return typeof n=="number"?"number:"+Db(n):"string:"+n},Zb=function(n){if(n.isLeafNode()){const e=n.val();_e(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hs(e,".sv"),"Priority must be a string or number.")}else _e(n===Ny||n.isEmpty(),"priority of unexpected type.");_e(n===Ny||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DT;class Un{static set __childrenNodeConstructor(e){DT=e}static get __childrenNodeConstructor(){return DT}constructor(e,t=Un.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,_e(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Zb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Un(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ht(e)?this:at(e)===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Un.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=at(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(_e(i!==".priority"||Za(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Un.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ft(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xb(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=Db(this.value_):e+=this.value_,this.lazyHash_=Rb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Un.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Un.__childrenNodeConstructor?-1:(_e(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,a=Un.VALUE_TYPE_ORDER.indexOf(t),l=Un.VALUE_TYPE_ORDER.indexOf(i);return _e(a>=0,"Unknown leaf type: "+t),_e(l>=0,"Unknown leaf type: "+i),a===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Un.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $b,eS;function A2(n){$b=n}function C2(n){eS=n}class b2 extends Cp{compare(e,t){const i=e.node.getPriority(),a=t.node.getPriority(),l=i.compareTo(a);return l===0?ll(e.name,t.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ot.MIN}maxPost(){return new ot(tl,new Un("[PRIORITY-POST]",eS))}makePost(e,t){const i=$b(e);return new ot(t,new Un("[PRIORITY-POST]",i))}toString(){return".priority"}}const rn=new b2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=Math.log(2);class R2{constructor(e){const t=l=>parseInt(Math.log(l)/S2,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const a=i(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Yd=function(n,e,t,i){n.sort(e);const a=function(p,m){const _=m-p;let T,C;if(_===0)return null;if(_===1)return T=n[p],C=t?t(T):T,new Hi(C,T.node,Hi.BLACK,null,null);{const b=parseInt(_/2,10)+p,R=a(p,b),B=a(b+1,m);return T=n[b],C=t?t(T):T,new Hi(C,T.node,Hi.BLACK,R,B)}},l=function(p){let m=null,_=null,T=n.length;const C=function(R,B){const O=T-R,x=T;T-=R;const L=a(O+1,x),j=n[O],te=t?t(j):j;b(new Hi(te,j.node,B,null,L))},b=function(R){m?(m.left=R,m=R):(_=R,m=R)};for(let R=0;R<p.count;++R){const B=p.nextBitIsOne(),O=Math.pow(2,p.count-(R+1));B?C(O,Hi.BLACK):(C(O,Hi.BLACK),C(O,Hi.RED))}return _},u=new R2(n.length),f=l(u);return new ns(i||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iy;const $l={};class Us{static get Default(){return _e($l&&rn,"ChildrenNode.ts has not been loaded"),iy=iy||new Us({".priority":$l},{".priority":rn}),iy}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=du(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ns?t:null}hasIndex(e){return hs(this.indexSet_,e.toString())}addIndex(e,t){_e(e!==cu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const l=t.getIterator(ot.Wrap);let u=l.getNext();for(;u;)a=a||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let f;a?f=Yd(i,e.getCompare()):f=$l;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const _=Object.assign({},this.indexes_);return _[p]=f,new Us(_,m)}addToIndexes(e,t){const i=kd(this.indexes_,(a,l)=>{const u=du(this.indexSet_,l);if(_e(u,"Missing index implementation for "+l),a===$l)if(u.isDefinedOn(e.node)){const f=[],p=t.getIterator(ot.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&f.push(m),m=p.getNext();return f.push(e),Yd(f,u.getCompare())}else return $l;else{const f=t.get(e.name);let p=a;return f&&(p=p.remove(new ot(e.name,f))),p.insert(e,e.node)}});return new Us(i,this.indexSet_)}removeFromIndexes(e,t){const i=kd(this.indexes_,a=>{if(a===$l)return a;{const l=t.get(e.name);return l?a.remove(new ot(e.name,l)):a}});return new Us(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;class Ue{static get EMPTY_NODE(){return qc||(qc=new Ue(new ns(H_),null,Us.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Zb(this.priorityNode_),this.children_.isEmpty()&&_e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qc}updatePriority(e){return this.children_.isEmpty()?this:new Ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?qc:t}}getChild(e){const t=at(e);return t===null?this:this.getImmediateChild(t).getChild(Ft(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(_e(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new ot(e,t);let a,l;t.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(e,t),l=this.indexMap_.addToIndexes(i,this.children_));const u=a.isEmpty()?qc:this.priorityNode_;return new Ue(a,u,l)}}updateChild(e,t){const i=at(e);if(i===null)return t;{_e(at(e)!==".priority"||Za(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(Ft(e),t);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,a=0,l=!0;if(this.forEachChild(rn,(u,f)=>{t[u]=f.val(e),i++,l&&Ue.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):l=!1}),!e&&l&&a<2*i){const u=[];for(const f in t)u[f]=t[f];return u}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Xb(this.getPriority().val())+":"),this.forEachChild(rn,(t,i)=>{const a=i.hash();a!==""&&(e+=":"+t+":"+a)}),this.lazyHash_=e===""?"":Rb(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new ot(e,t));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ot(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ot(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(a=>t(a.name,a.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,ot.Wrap);let l=a.peek();for(;l!=null&&t.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,ot.Wrap);let l=a.peek();for(;l!=null&&t.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vh?-1:0}withIndex(e){if(e===cu||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ue(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===cu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(rn),a=t.getIterator(rn);let l=i.getNext(),u=a.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=a.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===cu?null:this.indexMap_.get(e.toString())}}Ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class I2 extends Ue{constructor(){super(new ns(H_),Ue.EMPTY_NODE,Us.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ue.EMPTY_NODE}isEmpty(){return!1}}const Vh=new I2;Object.defineProperties(ot,{MIN:{value:new ot(mu,Ue.EMPTY_NODE)},MAX:{value:new ot(tl,Vh)}});Jb.__EMPTY_NODE=Ue.EMPTY_NODE;Un.__childrenNodeConstructor=Ue;T2(Vh);C2(Vh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=!0;function Nn(n,e=null){if(n===null)return Ue.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),_e(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Un(t,Nn(e))}if(!(n instanceof Array)&&D2){const t=[];let i=!1;if(Xn(n,(u,f)=>{if(u.substring(0,1)!=="."){const p=Nn(f);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new ot(u,p)))}}),t.length===0)return Ue.EMPTY_NODE;const l=Yd(t,w2,u=>u.name,H_);if(i){const u=Yd(t,rn.getCompare());return new Ue(l,Nn(e),new Us({".priority":u},{".priority":rn}))}else return new Ue(l,Nn(e),Us.Default)}else{let t=Ue.EMPTY_NODE;return Xn(n,(i,a)=>{if(hs(n,i)&&i.substring(0,1)!=="."){const l=Nn(a);(l.isLeafNode()||!l.isEmpty())&&(t=t.updateImmediateChild(i,l))}}),t.updatePriority(Nn(e))}}A2(Nn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends Cp{constructor(e){super(),this.indexPath_=e,_e(!ht(e)&&at(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),a=this.extractChild(t.node),l=i.compareTo(a);return l===0?ll(e.name,t.name):l}makePost(e,t){const i=Nn(e),a=Ue.EMPTY_NODE.updateChild(this.indexPath_,i);return new ot(t,a)}maxPost(){const e=Ue.EMPTY_NODE.updateChild(this.indexPath_,Vh);return new ot(tl,e)}toString(){return ph(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends Cp{compare(e,t){const i=e.node.compareTo(t.node);return i===0?ll(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ot.MIN}maxPost(){return ot.MAX}makePost(e,t){const i=Nn(e);return new ot(t,i)}toString(){return".value"}}const O2=new M2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){return{type:"value",snapshotNode:n}}function gu(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function mh(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function gh(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function x2(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this.index_=e}updateChild(e,t,i,a,l,u){_e(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(t);return f.getChild(a).equals(i.getChild(a))&&f.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(t)?u.trackChildChange(mh(t,f)):_e(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(gu(t,i)):u.trackChildChange(gh(t,i,f))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(rn,(a,l)=>{t.hasChild(a)||i.trackChildChange(mh(a,l))}),t.isLeafNode()||t.forEachChild(rn,(a,l)=>{if(e.hasChild(a)){const u=e.getImmediateChild(a);u.equals(l)||i.trackChildChange(gh(a,l,u))}else i.trackChildChange(gu(a,l))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ue.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.indexedFilter_=new z_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yh.getStartPost_(e),this.endPost_=yh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,a,l,u){return this.matches(new ot(t,i))||(i=Ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,a,l,u)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Ue.EMPTY_NODE);let a=t.withIndex(this.index_);a=a.updatePriority(Ue.EMPTY_NODE);const l=this;return t.forEachChild(rn,(u,f)=>{l.matches(new ot(u,f))||(a=a.updateImmediateChild(u,Ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new yh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,a,l,u){return this.rangedFilter_.matches(new ot(t,i))||(i=Ue.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,a,l,u):this.fullLimitUpdateChild_(e,t,i,l,u)}updateFullNode(e,t,i){let a;if(t.isLeafNode()||t.isEmpty())a=Ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){a=Ue.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const f=l.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))a=a.updateImmediateChild(f.name,f.node),u++;else break;else continue}}else{a=t.withIndex(this.index_),a=a.updatePriority(Ue.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let u=0;for(;l.hasNext();){const f=l.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:a=a.updateImmediateChild(f.name,Ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,a,l){let u;if(this.reverse_){const T=this.index_.getCompare();u=(C,b)=>T(b,C)}else u=this.index_.getCompare();const f=e;_e(f.numChildren()===this.limit_,"");const p=new ot(t,i),m=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(f.hasChild(t)){const T=f.getImmediateChild(t);let C=a.getChildAfterChild(this.index_,m,this.reverse_);for(;C!=null&&(C.name===t||f.hasChild(C.name));)C=a.getChildAfterChild(this.index_,C,this.reverse_);const b=C==null?1:u(C,p);if(_&&!i.isEmpty()&&b>=0)return l!=null&&l.trackChildChange(gh(t,i,T)),f.updateImmediateChild(t,i);{l!=null&&l.trackChildChange(mh(t,T));const B=f.updateImmediateChild(t,Ue.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(l!=null&&l.trackChildChange(gu(C.name,C.node)),B.updateImmediateChild(C.name,C.node)):B}}else return i.isEmpty()?e:_&&u(m,p)>=0?(l!=null&&(l.trackChildChange(mh(m.name,m.node)),l.trackChildChange(gu(t,i))),f.updateImmediateChild(t,i).updateImmediateChild(m.name,Ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mu}hasEnd(){return this.endSet_}getIndexEndValue(){return _e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _e(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rn}copy(){const e=new Q_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function P2(n){return n.loadsAllData()?new z_(n.getIndex()):n.hasLimit()?new k2(n):new yh(n)}function NT(n){const e={};if(n.isDefault())return e;let t;if(n.index_===rn?t="$priority":n.index_===O2?t="$value":n.index_===cu?t="$key":(_e(n.index_ instanceof N2,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Mn(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Mn(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Mn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Mn(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Mn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function MT(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==rn&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends zb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(_e(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,a){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Bh("p:rest:"),this.listens_={}}listen(e,t,i,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=Hd.getListenId_(e,i),f={};this.listens_[u]=f;const p=NT(e._queryParams);this.restRequest_(l+".json",p,(m,_)=>{let T=_;if(m===404&&(T=null,m=null),m===null&&this.onDataUpdate_(l,T,!1,i),du(this.listens_,u)===f){let C;m?m===401?C="permission_denied":C="rest_error:"+m:C="ok",a(C,null)}})}unlisten(e,t){const i=Hd.getListenId_(e,t);delete this.listens_[i]}get(e){const t=NT(e._queryParams),i=e._path.toString(),a=new Mh;return this.restRequest_(i+".json",t,(l,u)=>{let f=u;l===404&&(f=null,l=null),l===null?(this.onDataUpdate_(i,f,!1,null),a.resolve(f)):a.reject(new Error(f))}),a.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(t.auth=a.accessToken),l&&l.token&&(t.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Nu(t);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&f.readyState===4){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=uh(f.responseText)}catch{gi("Failed to parse JSON response for "+u+": "+f.responseText)}i(null,p)}else f.status!==401&&f.status!==404&&gi("Got unsuccessful REST response for "+u+" Status: "+f.status),i(f.status);i=null}},f.open("GET",u,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.rootNode_=Ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){return{value:null,children:new Map}}function nS(n,e,t){if(ht(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=at(e);n.children.has(i)||n.children.set(i,zd());const a=n.children.get(i);e=Ft(e),nS(a,e,t)}}function My(n,e,t){n.value!==null?t(e,n.value):B2(n,(i,a)=>{const l=new Ot(e.toString()+"/"+i);My(a,l,t)})}function B2(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Xn(this.last_,(i,a)=>{t[i]=t[i]-a}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=10*1e3,U2=30*1e3,F2=5*60*1e3;class q2{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new V2(e);const i=OT+(U2-OT)*Math.random();eh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Xn(e,(a,l)=>{l>0&&hs(this.statsToReport_,a)&&(t[a]=l,i=!0)}),i&&this.server_.reportStats(t),eh(this.reportStats_.bind(this),Math.floor(Math.random()*2*F2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mr||(Mr={}));function K_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function W_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function J_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Mr.ACK_USER_WRITE,this.source=K_()}operationForChild(e){if(ht(this.path)){if(this.affectedTree.value!=null)return _e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ot(e));return new Qd(St(),t,this.revert)}}else return _e(at(this.path)===e,"operationForChild called for unrelated child."),new Qd(Ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.source=e,this.path=t,this.type=Mr.LISTEN_COMPLETE}operationForChild(e){return ht(this.path)?new _h(this.source,St()):new _h(this.source,Ft(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Mr.OVERWRITE}operationForChild(e){return ht(this.path)?new nl(this.source,St(),this.snap.getImmediateChild(e)):new nl(this.source,Ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Mr.MERGE}operationForChild(e){if(ht(this.path)){const t=this.children.subtree(new Ot(e));return t.isEmpty()?null:t.value?new nl(this.source,St(),t.value):new yu(this.source,St(),t)}else return _e(at(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yu(this.source,Ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ht(e))return this.isFullyInitialized()&&!this.filtered_;const t=at(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function j2(n,e,t,i){const a=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(x2(u.childName,u.snapshotNode))}),Gc(n,a,"child_removed",e,i,t),Gc(n,a,"child_added",e,i,t),Gc(n,a,"child_moved",l,i,t),Gc(n,a,"child_changed",e,i,t),Gc(n,a,"value",e,i,t),a}function Gc(n,e,t,i,a,l){const u=i.filter(f=>f.type===t);u.sort((f,p)=>H2(n,f,p)),u.forEach(f=>{const p=Y2(n,f,l);a.forEach(m=>{m.respondsTo(f.type)&&e.push(m.createEvent(p,n.query_))})})}function Y2(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function H2(n,e,t){if(e.childName==null||t.childName==null)throw Du("Should only compare child_ events.");const i=new ot(e.childName,e.snapshotNode),a=new ot(t.childName,t.snapshotNode);return n.index_.compare(i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n,e){return{eventCache:n,serverCache:e}}function th(n,e,t,i){return bp(new $a(e,t,i),n.serverCache)}function iS(n,e,t,i){return bp(n.eventCache,new $a(e,t,i))}function Kd(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function il(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry;const z2=()=>(ry||(ry=new ns(Nk)),ry);class Ut{static fromObject(e){let t=new Ut(null);return Xn(e,(i,a)=>{t=t.set(new Ot(i),a)}),t}constructor(e,t=z2()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:St(),value:this.value};if(ht(e))return null;{const i=at(e),a=this.children.get(i);if(a!==null){const l=a.findRootMostMatchingPathAndValue(Ft(e),t);return l!=null?{path:nn(new Ot(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ht(e))return this;{const t=at(e),i=this.children.get(t);return i!==null?i.subtree(Ft(e)):new Ut(null)}}set(e,t){if(ht(e))return new Ut(t,this.children);{const i=at(e),l=(this.children.get(i)||new Ut(null)).set(Ft(e),t),u=this.children.insert(i,l);return new Ut(this.value,u)}}remove(e){if(ht(e))return this.children.isEmpty()?new Ut(null):new Ut(null,this.children);{const t=at(e),i=this.children.get(t);if(i){const a=i.remove(Ft(e));let l;return a.isEmpty()?l=this.children.remove(t):l=this.children.insert(t,a),this.value===null&&l.isEmpty()?new Ut(null):new Ut(this.value,l)}else return this}}get(e){if(ht(e))return this.value;{const t=at(e),i=this.children.get(t);return i?i.get(Ft(e)):null}}setTree(e,t){if(ht(e))return t;{const i=at(e),l=(this.children.get(i)||new Ut(null)).setTree(Ft(e),t);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new Ut(this.value,u)}}fold(e){return this.fold_(St(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((a,l)=>{i[a]=l.fold_(nn(e,a),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,St(),t)}findOnPath_(e,t,i){const a=this.value?i(t,this.value):!1;if(a)return a;if(ht(e))return null;{const l=at(e),u=this.children.get(l);return u?u.findOnPath_(Ft(e),nn(t,l),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,St(),t)}foreachOnPath_(e,t,i){if(ht(e))return this;{this.value&&i(t,this.value);const a=at(e),l=this.children.get(a);return l?l.foreachOnPath_(Ft(e),nn(t,a),i):new Ut(null)}}foreach(e){this.foreach_(St(),e)}foreach_(e,t){this.children.inorderTraversal((i,a)=>{a.foreach_(nn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.writeTree_=e}static empty(){return new Or(new Ut(null))}}function nh(n,e,t){if(ht(e))return new Or(new Ut(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const a=i.path;let l=i.value;const u=mi(a,e);return l=l.updateChild(u,t),new Or(n.writeTree_.set(a,l))}else{const a=new Ut(t),l=n.writeTree_.setTree(e,a);return new Or(l)}}}function Oy(n,e,t){let i=n;return Xn(t,(a,l)=>{i=nh(i,nn(e,a),l)}),i}function xT(n,e){if(ht(e))return Or.empty();{const t=n.writeTree_.setTree(e,new Ut(null));return new Or(t)}}function xy(n,e){return ul(n,e)!=null}function ul(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(mi(t.path,e)):null}function kT(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(rn,(i,a)=>{e.push(new ot(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&e.push(new ot(i,a.value))}),e}function Qa(n,e){if(ht(e))return n;{const t=ul(n,e);return t!=null?new Or(new Ut(t)):new Or(n.writeTree_.subtree(e))}}function ky(n){return n.writeTree_.isEmpty()}function _u(n,e){return rS(St(),n.writeTree_,e)}function rS(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(_e(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):t=rS(nn(n,a),l,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(nn(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n,e){return lS(e,n)}function Q2(n,e,t,i,a){_e(i>n.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:a}),a&&(n.visibleWrites=nh(n.visibleWrites,e,t)),n.lastWriteId=i}function K2(n,e,t,i){_e(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=Oy(n.visibleWrites,e,t),n.lastWriteId=i}function W2(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function J2(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);_e(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let a=i.visible,l=!1,u=n.allWrites.length-1;for(;a&&u>=0;){const f=n.allWrites[u];f.visible&&(u>=t&&X2(f,i.path)?a=!1:fr(i.path,f.path)&&(l=!0)),u--}if(a){if(l)return Z2(n),!0;if(i.snap)n.visibleWrites=xT(n.visibleWrites,i.path);else{const f=i.children;Xn(f,p=>{n.visibleWrites=xT(n.visibleWrites,nn(i.path,p))})}return!0}else return!1}function X2(n,e){if(n.snap)return fr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&fr(nn(n.path,t),e))return!0;return!1}function Z2(n){n.visibleWrites=sS(n.allWrites,$2,St()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function $2(n){return n.visible}function sS(n,e,t){let i=Or.empty();for(let a=0;a<n.length;++a){const l=n[a];if(e(l)){const u=l.path;let f;if(l.snap)fr(t,u)?(f=mi(t,u),i=nh(i,f,l.snap)):fr(u,t)&&(f=mi(u,t),i=nh(i,St(),l.snap.getChild(f)));else if(l.children){if(fr(t,u))f=mi(t,u),i=Oy(i,f,l.children);else if(fr(u,t))if(f=mi(u,t),ht(f))i=Oy(i,St(),l.children);else{const p=du(l.children,at(f));if(p){const m=p.getChild(Ft(f));i=nh(i,St(),m)}}}else throw Du("WriteRecord should have .snap or .children")}}return i}function aS(n,e,t,i,a){if(!i&&!a){const l=ul(n.visibleWrites,e);if(l!=null)return l;{const u=Qa(n.visibleWrites,e);if(ky(u))return t;if(t==null&&!xy(u,St()))return null;{const f=t||Ue.EMPTY_NODE;return _u(u,f)}}}else{const l=Qa(n.visibleWrites,e);if(!a&&ky(l))return t;if(!a&&t==null&&!xy(l,St()))return null;{const u=function(m){return(m.visible||a)&&(!i||!~i.indexOf(m.writeId))&&(fr(m.path,e)||fr(e,m.path))},f=sS(n.allWrites,u,e),p=t||Ue.EMPTY_NODE;return _u(f,p)}}}function eP(n,e,t){let i=Ue.EMPTY_NODE;const a=ul(n.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(rn,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(t){const l=Qa(n.visibleWrites,e);return t.forEachChild(rn,(u,f)=>{const p=_u(Qa(l,new Ot(u)),f);i=i.updateImmediateChild(u,p)}),kT(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=Qa(n.visibleWrites,e);return kT(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function tP(n,e,t,i,a){_e(i||a,"Either existingEventSnap or existingServerSnap must exist");const l=nn(e,t);if(xy(n.visibleWrites,l))return null;{const u=Qa(n.visibleWrites,l);return ky(u)?a.getChild(t):_u(u,a.getChild(t))}}function nP(n,e,t,i){const a=nn(e,t),l=ul(n.visibleWrites,a);if(l!=null)return l;if(i.isCompleteForChild(t)){const u=Qa(n.visibleWrites,a);return _u(u,i.getNode().getImmediateChild(t))}else return null}function iP(n,e){return ul(n.visibleWrites,e)}function rP(n,e,t,i,a,l,u){let f;const p=Qa(n.visibleWrites,e),m=ul(p,St());if(m!=null)f=m;else if(t!=null)f=_u(p,t);else return[];if(f=f.withIndex(u),!f.isEmpty()&&!f.isLeafNode()){const _=[],T=u.getCompare(),C=l?f.getReverseIteratorFrom(i,u):f.getIteratorFrom(i,u);let b=C.getNext();for(;b&&_.length<a;)T(b,i)!==0&&_.push(b),b=C.getNext();return _}else return[]}function sP(){return{visibleWrites:Or.empty(),allWrites:[],lastWriteId:-1}}function Wd(n,e,t,i){return aS(n.writeTree,n.treePath,e,t,i)}function X_(n,e){return eP(n.writeTree,n.treePath,e)}function PT(n,e,t,i){return tP(n.writeTree,n.treePath,e,t,i)}function Jd(n,e){return iP(n.writeTree,nn(n.treePath,e))}function aP(n,e,t,i,a,l){return rP(n.writeTree,n.treePath,e,t,i,a,l)}function Z_(n,e,t){return nP(n.writeTree,n.treePath,e,t)}function oS(n,e){return lS(nn(n.treePath,e),n.writeTree)}function lS(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;_e(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),_e(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const l=a.type;if(t==="child_added"&&l==="child_removed")this.changeMap.set(i,gh(i,e.snapshotNode,a.snapshotNode));else if(t==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&l==="child_changed")this.changeMap.set(i,mh(i,a.oldSnap));else if(t==="child_changed"&&l==="child_added")this.changeMap.set(i,gu(i,e.snapshotNode));else if(t==="child_changed"&&l==="child_changed")this.changeMap.set(i,gh(i,e.snapshotNode,a.oldSnap));else throw Du("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const uS=new lP;class $_{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new $a(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Z_(this.writes_,e,i)}}getChildAfterChild(e,t,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:il(this.viewCache_),l=aP(this.writes_,a,t,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(n){return{filter:n}}function cP(n,e){_e(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),_e(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function hP(n,e,t,i,a){const l=new oP;let u,f;if(t.type===Mr.OVERWRITE){const m=t;m.source.fromUser?u=Py(n,e,m.path,m.snap,i,a,l):(_e(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered()&&!ht(m.path),u=Xd(n,e,m.path,m.snap,i,a,f,l))}else if(t.type===Mr.MERGE){const m=t;m.source.fromUser?u=dP(n,e,m.path,m.children,i,a,l):(_e(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered(),u=Ly(n,e,m.path,m.children,i,a,f,l))}else if(t.type===Mr.ACK_USER_WRITE){const m=t;m.revert?u=gP(n,e,m.path,i,a,l):u=pP(n,e,m.path,m.affectedTree,i,a,l)}else if(t.type===Mr.LISTEN_COMPLETE)u=mP(n,e,t.path,i,l);else throw Du("Unknown operation type: "+t.type);const p=l.getChanges();return fP(e,u,p),{viewCache:u,changes:p}}function fP(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Kd(n);(t.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&t.push(tS(Kd(e)))}}function cS(n,e,t,i,a,l){const u=e.eventCache;if(Jd(i,t)!=null)return e;{let f,p;if(ht(t))if(_e(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=il(e),_=m instanceof Ue?m:Ue.EMPTY_NODE,T=X_(i,_);f=n.filter.updateFullNode(e.eventCache.getNode(),T,l)}else{const m=Wd(i,il(e));f=n.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=at(t);if(m===".priority"){_e(Za(t)===1,"Can't have a priority with additional path components");const _=u.getNode();p=e.serverCache.getNode();const T=PT(i,t,_,p);T!=null?f=n.filter.updatePriority(_,T):f=u.getNode()}else{const _=Ft(t);let T;if(u.isCompleteForChild(m)){p=e.serverCache.getNode();const C=PT(i,t,u.getNode(),p);C!=null?T=u.getNode().getImmediateChild(m).updateChild(_,C):T=u.getNode().getImmediateChild(m)}else T=Z_(i,m,e.serverCache);T!=null?f=n.filter.updateChild(u.getNode(),m,T,_,a,l):f=u.getNode()}}return th(e,f,u.isFullyInitialized()||ht(t),n.filter.filtersNodes())}}function Xd(n,e,t,i,a,l,u,f){const p=e.serverCache;let m;const _=u?n.filter:n.filter.getIndexedFilter();if(ht(t))m=_.updateFullNode(p.getNode(),i,null);else if(_.filtersNodes()&&!p.isFiltered()){const b=p.getNode().updateChild(t,i);m=_.updateFullNode(p.getNode(),b,null)}else{const b=at(t);if(!p.isCompleteForPath(t)&&Za(t)>1)return e;const R=Ft(t),O=p.getNode().getImmediateChild(b).updateChild(R,i);b===".priority"?m=_.updatePriority(p.getNode(),O):m=_.updateChild(p.getNode(),b,O,R,uS,null)}const T=iS(e,m,p.isFullyInitialized()||ht(t),_.filtersNodes()),C=new $_(a,T,l);return cS(n,T,t,a,C,f)}function Py(n,e,t,i,a,l,u){const f=e.eventCache;let p,m;const _=new $_(a,e,l);if(ht(t))m=n.filter.updateFullNode(e.eventCache.getNode(),i,u),p=th(e,m,!0,n.filter.filtersNodes());else{const T=at(t);if(T===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),i),p=th(e,m,f.isFullyInitialized(),f.isFiltered());else{const C=Ft(t),b=f.getNode().getImmediateChild(T);let R;if(ht(C))R=i;else{const B=_.getCompleteChild(T);B!=null?G_(C)===".priority"&&B.getChild(Kb(C)).isEmpty()?R=B:R=B.updateChild(C,i):R=Ue.EMPTY_NODE}if(b.equals(R))p=e;else{const B=n.filter.updateChild(f.getNode(),T,R,C,_,u);p=th(e,B,f.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function LT(n,e){return n.eventCache.isCompleteForChild(e)}function dP(n,e,t,i,a,l,u){let f=e;return i.foreach((p,m)=>{const _=nn(t,p);LT(e,at(_))&&(f=Py(n,f,_,m,a,l,u))}),i.foreach((p,m)=>{const _=nn(t,p);LT(e,at(_))||(f=Py(n,f,_,m,a,l,u))}),f}function BT(n,e,t){return t.foreach((i,a)=>{e=e.updateChild(i,a)}),e}function Ly(n,e,t,i,a,l,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;ht(t)?m=i:m=new Ut(null).setTree(t,i);const _=e.serverCache.getNode();return m.children.inorderTraversal((T,C)=>{if(_.hasChild(T)){const b=e.serverCache.getNode().getImmediateChild(T),R=BT(n,b,C);p=Xd(n,p,new Ot(T),R,a,l,u,f)}}),m.children.inorderTraversal((T,C)=>{const b=!e.serverCache.isCompleteForChild(T)&&C.value===null;if(!_.hasChild(T)&&!b){const R=e.serverCache.getNode().getImmediateChild(T),B=BT(n,R,C);p=Xd(n,p,new Ot(T),B,a,l,u,f)}}),p}function pP(n,e,t,i,a,l,u){if(Jd(a,t)!=null)return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(i.value!=null){if(ht(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return Xd(n,e,t,p.getNode().getChild(t),a,l,f,u);if(ht(t)){let m=new Ut(null);return p.getNode().forEachChild(cu,(_,T)=>{m=m.set(new Ot(_),T)}),Ly(n,e,t,m,a,l,f,u)}else return e}else{let m=new Ut(null);return i.foreach((_,T)=>{const C=nn(t,_);p.isCompleteForPath(C)&&(m=m.set(_,p.getNode().getChild(C)))}),Ly(n,e,t,m,a,l,f,u)}}function mP(n,e,t,i,a){const l=e.serverCache,u=iS(e,l.getNode(),l.isFullyInitialized()||ht(t),l.isFiltered());return cS(n,u,t,i,uS,a)}function gP(n,e,t,i,a,l){let u;if(Jd(i,t)!=null)return e;{const f=new $_(i,e,a),p=e.eventCache.getNode();let m;if(ht(t)||at(t)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Wd(i,il(e));else{const T=e.serverCache.getNode();_e(T instanceof Ue,"serverChildren would be complete if leaf node"),_=X_(i,T)}_=_,m=n.filter.updateFullNode(p,_,l)}else{const _=at(t);let T=Z_(i,_,e.serverCache);T==null&&e.serverCache.isCompleteForChild(_)&&(T=p.getImmediateChild(_)),T!=null?m=n.filter.updateChild(p,_,T,Ft(t),f,l):e.eventCache.getNode().hasChild(_)?m=n.filter.updateChild(p,_,Ue.EMPTY_NODE,Ft(t),f,l):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Wd(i,il(e)),u.isLeafNode()&&(m=n.filter.updateFullNode(m,u,l)))}return u=e.serverCache.isFullyInitialized()||Jd(i,St())!=null,th(e,m,u,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new z_(i.getIndex()),l=P2(i);this.processor_=uP(l);const u=t.serverCache,f=t.eventCache,p=a.updateFullNode(Ue.EMPTY_NODE,u.getNode(),null),m=l.updateFullNode(Ue.EMPTY_NODE,f.getNode(),null),_=new $a(p,u.isFullyInitialized(),a.filtersNodes()),T=new $a(m,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=bp(T,_),this.eventGenerator_=new G2(this.query_)}get query(){return this.query_}}function _P(n){return n.viewCache_.serverCache.getNode()}function vP(n){return Kd(n.viewCache_)}function EP(n,e){const t=il(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ht(e)&&!t.getImmediateChild(at(e)).isEmpty())?t.getChild(e):null}function VT(n){return n.eventRegistrations_.length===0}function wP(n,e){n.eventRegistrations_.push(e)}function UT(n,e,t){const i=[];if(t){_e(e==null,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(t,a);u&&i.push(u)})}if(e){let a=[];for(let l=0;l<n.eventRegistrations_.length;++l){const u=n.eventRegistrations_[l];if(!u.matches(e))a.push(u);else if(e.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(l+1));break}}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function FT(n,e,t,i){e.type===Mr.MERGE&&e.source.queryId!==null&&(_e(il(n.viewCache_),"We should always have a full cache before handling merges"),_e(Kd(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,l=hP(n.processor_,a,e,t,i);return cP(n.processor_,l.viewCache),_e(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,hS(n,l.changes,l.viewCache.eventCache.getNode(),null)}function TP(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(rn,(l,u)=>{i.push(gu(l,u))}),t.isFullyInitialized()&&i.push(tS(t.getNode())),hS(n,i,t.getNode(),e)}function hS(n,e,t,i){const a=i?[i]:n.eventRegistrations_;return j2(n.eventGenerator_,e,t,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd;class fS{constructor(){this.views=new Map}}function AP(n){_e(!Zd,"__referenceConstructor has already been defined"),Zd=n}function CP(){return _e(Zd,"Reference.ts has not been loaded"),Zd}function bP(n){return n.views.size===0}function ev(n,e,t,i){const a=e.source.queryId;if(a!==null){const l=n.views.get(a);return _e(l!=null,"SyncTree gave us an op for an invalid query."),FT(l,e,t,i)}else{let l=[];for(const u of n.views.values())l=l.concat(FT(u,e,t,i));return l}}function dS(n,e,t,i,a){const l=e._queryIdentifier,u=n.views.get(l);if(!u){let f=Wd(t,a?i:null),p=!1;f?p=!0:i instanceof Ue?(f=X_(t,i),p=!1):(f=Ue.EMPTY_NODE,p=!1);const m=bp(new $a(f,p,!1),new $a(i,a,!1));return new yP(e,m)}return u}function SP(n,e,t,i,a,l){const u=dS(n,e,i,a,l);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),wP(u,t),TP(u,t)}function RP(n,e,t,i){const a=e._queryIdentifier,l=[];let u=[];const f=eo(n);if(a==="default")for(const[p,m]of n.views.entries())u=u.concat(UT(m,t,i)),VT(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||l.push(m.query));else{const p=n.views.get(a);p&&(u=u.concat(UT(p,t,i)),VT(p)&&(n.views.delete(a),p.query._queryParams.loadsAllData()||l.push(p.query)))}return f&&!eo(n)&&l.push(new(CP())(e._repo,e._path)),{removed:l,events:u}}function pS(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Ka(n,e){let t=null;for(const i of n.views.values())t=t||EP(i,e);return t}function mS(n,e){if(e._queryParams.loadsAllData())return Rp(n);{const i=e._queryIdentifier;return n.views.get(i)}}function gS(n,e){return mS(n,e)!=null}function eo(n){return Rp(n)!=null}function Rp(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d;function IP(n){_e(!$d,"__referenceConstructor has already been defined"),$d=n}function DP(){return _e($d,"Reference.ts has not been loaded"),$d}let NP=1;class qT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ut(null),this.pendingWriteTree_=sP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yS(n,e,t,i,a){return Q2(n.pendingWriteTree_,e,t,i,a),a?ku(n,new nl(K_(),e,t)):[]}function MP(n,e,t,i){K2(n.pendingWriteTree_,e,t,i);const a=Ut.fromObject(t);return ku(n,new yu(K_(),e,a))}function qa(n,e,t=!1){const i=W2(n.pendingWriteTree_,e);if(J2(n.pendingWriteTree_,e)){let l=new Ut(null);return i.snap!=null?l=l.set(St(),!0):Xn(i.children,u=>{l=l.set(new Ot(u),!0)}),ku(n,new Qd(i.path,l,t))}else return[]}function Uh(n,e,t){return ku(n,new nl(W_(),e,t))}function OP(n,e,t){const i=Ut.fromObject(t);return ku(n,new yu(W_(),e,i))}function xP(n,e){return ku(n,new _h(W_(),e))}function kP(n,e,t){const i=nv(n,t);if(i){const a=iv(i),l=a.path,u=a.queryId,f=mi(l,e),p=new _h(J_(u),f);return rv(n,l,p)}else return[]}function ep(n,e,t,i,a=!1){const l=e._path,u=n.syncPointTree_.get(l);let f=[];if(u&&(e._queryIdentifier==="default"||gS(u,e))){const p=RP(u,e,t,i);bP(u)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const m=p.removed;if(f=p.events,!a){const _=m.findIndex(C=>C._queryParams.loadsAllData())!==-1,T=n.syncPointTree_.findOnPath(l,(C,b)=>eo(b));if(_&&!T){const C=n.syncPointTree_.subtree(l);if(!C.isEmpty()){const b=BP(C);for(let R=0;R<b.length;++R){const B=b[R],O=B.query,x=wS(n,B);n.listenProvider_.startListening(ih(O),vh(n,O),x.hashFn,x.onComplete)}}}!T&&m.length>0&&!i&&(_?n.listenProvider_.stopListening(ih(e),null):m.forEach(C=>{const b=n.queryToTagMap.get(Ip(C));n.listenProvider_.stopListening(ih(C),b)}))}VP(n,m)}return f}function _S(n,e,t,i){const a=nv(n,i);if(a!=null){const l=iv(a),u=l.path,f=l.queryId,p=mi(u,e),m=new nl(J_(f),p,t);return rv(n,u,m)}else return[]}function PP(n,e,t,i){const a=nv(n,i);if(a){const l=iv(a),u=l.path,f=l.queryId,p=mi(u,e),m=Ut.fromObject(t),_=new yu(J_(f),p,m);return rv(n,u,_)}else return[]}function By(n,e,t,i=!1){const a=e._path;let l=null,u=!1;n.syncPointTree_.foreachOnPath(a,(C,b)=>{const R=mi(C,a);l=l||Ka(b,R),u=u||eo(b)});let f=n.syncPointTree_.get(a);f?(u=u||eo(f),l=l||Ka(f,St())):(f=new fS,n.syncPointTree_=n.syncPointTree_.set(a,f));let p;l!=null?p=!0:(p=!1,l=Ue.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((b,R)=>{const B=Ka(R,St());B&&(l=l.updateImmediateChild(b,B))}));const m=gS(f,e);if(!m&&!e._queryParams.loadsAllData()){const C=Ip(e);_e(!n.queryToTagMap.has(C),"View does not exist, but we have a tag");const b=UP();n.queryToTagMap.set(C,b),n.tagToQueryMap.set(b,C)}const _=Sp(n.pendingWriteTree_,a);let T=SP(f,e,t,_,l,p);if(!m&&!u&&!i){const C=mS(f,e);T=T.concat(FP(n,e,C))}return T}function tv(n,e,t){const a=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(e,(u,f)=>{const p=mi(u,e),m=Ka(f,p);if(m)return m});return aS(a,e,l,t,!0)}function LP(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(m,_)=>{const T=mi(m,t);i=i||Ka(_,T)});let a=n.syncPointTree_.get(t);a?i=i||Ka(a,St()):(a=new fS,n.syncPointTree_=n.syncPointTree_.set(t,a));const l=i!=null,u=l?new $a(i,!0,!1):null,f=Sp(n.pendingWriteTree_,e._path),p=dS(a,e,f,l?u.getNode():Ue.EMPTY_NODE,l);return vP(p)}function ku(n,e){return vS(e,n.syncPointTree_,null,Sp(n.pendingWriteTree_,St()))}function vS(n,e,t,i){if(ht(n.path))return ES(n,e,t,i);{const a=e.get(St());t==null&&a!=null&&(t=Ka(a,St()));let l=[];const u=at(n.path),f=n.operationForChild(u),p=e.children.get(u);if(p&&f){const m=t?t.getImmediateChild(u):null,_=oS(i,u);l=l.concat(vS(f,p,m,_))}return a&&(l=l.concat(ev(a,n,i,t))),l}}function ES(n,e,t,i){const a=e.get(St());t==null&&a!=null&&(t=Ka(a,St()));let l=[];return e.children.inorderTraversal((u,f)=>{const p=t?t.getImmediateChild(u):null,m=oS(i,u),_=n.operationForChild(u);_&&(l=l.concat(ES(_,f,p,m)))}),a&&(l=l.concat(ev(a,n,i,t))),l}function wS(n,e){const t=e.query,i=vh(n,t);return{hashFn:()=>(_P(e)||Ue.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?kP(n,t._path,i):xP(n,t._path);{const l=xk(a,t);return ep(n,t,null,l)}}}}function vh(n,e){const t=Ip(e);return n.queryToTagMap.get(t)}function Ip(n){return n._path.toString()+"$"+n._queryIdentifier}function nv(n,e){return n.tagToQueryMap.get(e)}function iv(n){const e=n.indexOf("$");return _e(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ot(n.substr(0,e))}}function rv(n,e,t){const i=n.syncPointTree_.get(e);_e(i,"Missing sync point for query tag that we're tracking");const a=Sp(n.pendingWriteTree_,e);return ev(i,t,a,null)}function BP(n){return n.fold((e,t,i)=>{if(t&&eo(t))return[Rp(t)];{let a=[];return t&&(a=pS(t)),Xn(i,(l,u)=>{a=a.concat(u)}),a}})}function ih(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(DP())(n._repo,n._path):n}function VP(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const a=Ip(i),l=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(l)}}}function UP(){return NP++}function FP(n,e,t){const i=e._path,a=vh(n,e),l=wS(n,t),u=n.listenProvider_.startListening(ih(e),a,l.hashFn,l.onComplete),f=n.syncPointTree_.subtree(i);if(a)_e(!eo(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((m,_,T)=>{if(!ht(m)&&_&&eo(_))return[Rp(_).query];{let C=[];return _&&(C=C.concat(pS(_).map(b=>b.query))),Xn(T,(b,R)=>{C=C.concat(R)}),C}});for(let m=0;m<p.length;++m){const _=p[m];n.listenProvider_.stopListening(ih(_),vh(n,_))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new sv(t)}node(){return this.node_}}class av{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=nn(this.path_,e);return new av(this.syncTree_,t)}node(){return tv(this.syncTree_,this.path_)}}const qP=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},GT=function(n,e,t){if(!n||typeof n!="object")return n;if(_e(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return GP(n[".sv"],e,t);if(typeof n[".sv"]=="object")return jP(n[".sv"],e);_e(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},GP=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:_e(!1,"Unexpected server value: "+n)}},jP=function(n,e,t){n.hasOwnProperty("increment")||_e(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&_e(!1,"Unexpected increment value: "+i);const a=e.node();if(_e(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const u=a.getValue();return typeof u!="number"?i:u+i},TS=function(n,e,t,i){return ov(e,new av(t,n),i)},AS=function(n,e,t){return ov(n,new sv(e),t)};function ov(n,e,t){const i=n.getPriority().val(),a=GT(i,e.getImmediateChild(".priority"),t);let l;if(n.isLeafNode()){const u=n,f=GT(u.getValue(),e,t);return f!==u.getValue()||a!==u.getPriority().val()?new Un(f,Nn(a)):n}else{const u=n;return l=u,a!==u.getPriority().val()&&(l=l.updatePriority(new Un(a))),u.forEachChild(rn,(f,p)=>{const m=ov(p,e.getImmediateChild(f),t);m!==p&&(l=l.updateImmediateChild(f,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function uv(n,e){let t=e instanceof Ot?e:new Ot(e),i=n,a=at(t);for(;a!==null;){const l=du(i.node.children,a)||{children:{},childCount:0};i=new lv(a,i,l),t=Ft(t),a=at(t)}return i}function Pu(n){return n.node.value}function CS(n,e){n.node.value=e,Vy(n)}function bS(n){return n.node.childCount>0}function YP(n){return Pu(n)===void 0&&!bS(n)}function Dp(n,e){Xn(n.node.children,(t,i)=>{e(new lv(t,n,i))})}function SS(n,e,t,i){t&&e(n),Dp(n,a=>{SS(a,e,!0)})}function HP(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Fh(n){return new Ot(n.parent===null?n.name:Fh(n.parent)+"/"+n.name)}function Vy(n){n.parent!==null&&zP(n.parent,n.name,n)}function zP(n,e,t){const i=YP(t),a=hs(n.node.children,e);i&&a?(delete n.node.children[e],n.node.childCount--,Vy(n)):!i&&!a&&(n.node.children[e]=t.node,n.node.childCount++,Vy(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=/[\[\].#$\/\u0000-\u001F\u007F]/,KP=/[\[\].#$\u0000-\u001F\u007F]/,sy=10*1024*1024,cv=function(n){return typeof n=="string"&&n.length!==0&&!QP.test(n)},RS=function(n){return typeof n=="string"&&n.length!==0&&!KP.test(n)},WP=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),RS(n)},JP=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!B_(n)||n&&typeof n=="object"&&hs(n,".sv")},IS=function(n,e,t,i){i&&e===void 0||Np(gp(n,"value"),e,t)},Np=function(n,e,t){const i=t instanceof Ot?new d2(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+zo(i));if(typeof e=="function")throw new Error(n+"contains a function "+zo(i)+" with contents = "+e.toString());if(B_(e))throw new Error(n+"contains "+e.toString()+" "+zo(i));if(typeof e=="string"&&e.length>sy/3&&yp(e)>sy)throw new Error(n+"contains a string greater than "+sy+" utf8 bytes "+zo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(Xn(e,(u,f)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!cv(u)))throw new Error(n+" contains an invalid key ("+u+") "+zo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);p2(i,u),Np(n,f,i),m2(i)}),a&&l)throw new Error(n+' contains ".value" child '+zo(i)+" in addition to actual children.")}},XP=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const l=ph(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!cv(l[u]))throw new Error(n+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(f2);let a=null;for(t=0;t<e.length;t++){if(i=e[t],a!==null&&fr(a,i))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}},ZP=function(n,e,t,i){const a=gp(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const l=[];Xn(e,(u,f)=>{const p=new Ot(u);if(Np(a,f,nn(t,p)),G_(p)===".priority"&&!JP(f))throw new Error(a+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(p)}),XP(a,l)},DS=function(n,e,t,i){if(!RS(t))throw new Error(gp(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$P=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),DS(n,e,t)},NS=function(n,e){if(at(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},e4=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!WP(t))throw new Error(gp(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mp(n,e){let t=null;for(let i=0;i<e.length;i++){const a=e[i],l=a.getPath();t!==null&&!j_(l,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:l}),t.events.push(a)}t&&n.eventLists_.push(t)}function MS(n,e,t){Mp(n,t),OS(n,i=>j_(i,e))}function dr(n,e,t){Mp(n,t),OS(n,i=>fr(i,e)||fr(e,i))}function OS(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];if(a){const l=a.path;e(l)?(n4(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function n4(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();$c&&Jn("event: "+t.toString()),xu(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="repo_interrupt",r4=25;class s4{constructor(e,t,i,a){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new t4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zd(),this.transactionQueueTree_=new lv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function a4(n,e,t){if(n.stats_=F_(n.repoInfo_),n.forceRestClient_||Bk())n.server_=new Hd(n.repoInfo_,(i,a,l,u)=>{jT(n,i,a,l,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>YT(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new qs(n.repoInfo_,e,(i,a,l,u)=>{jT(n,i,a,l,u)},i=>{YT(n,i)},i=>{o4(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=Gk(n.repoInfo_,()=>new q2(n.stats_,n.server_)),n.infoData_=new L2,n.infoSyncTree_=new qT({startListening:(i,a,l,u)=>{let f=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(f=Uh(n.infoSyncTree_,i._path,p),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),hv(n,"connected",!1),n.serverSyncTree_=new qT({startListening:(i,a,l,u)=>(n.server_.listen(i,l,a,(f,p)=>{const m=u(f,p);dr(n.eventQueue_,i._path,m)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}function xS(n){const t=n.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Op(n){return qP({timestamp:xS(n)})}function jT(n,e,t,i,a){n.dataUpdateCount++;const l=new Ot(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(a)if(i){const p=kd(t,m=>Nn(m));u=PP(n.serverSyncTree_,l,p,a)}else{const p=Nn(t);u=_S(n.serverSyncTree_,l,p,a)}else if(i){const p=kd(t,m=>Nn(m));u=OP(n.serverSyncTree_,l,p)}else{const p=Nn(t);u=Uh(n.serverSyncTree_,l,p)}let f=l;u.length>0&&(f=vu(n,l)),dr(n.eventQueue_,f,u)}function YT(n,e){hv(n,"connected",e),e===!1&&h4(n)}function o4(n,e){Xn(e,(t,i)=>{hv(n,t,i)})}function hv(n,e,t){const i=new Ot("/.info/"+e),a=Nn(t);n.infoData_.updateSnapshot(i,a);const l=Uh(n.infoSyncTree_,i,a);dr(n.eventQueue_,i,l)}function fv(n){return n.nextWriteId_++}function l4(n,e,t){const i=LP(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(a=>{const l=Nn(a).withIndex(e._queryParams.getIndex());By(n.serverSyncTree_,e,t,!0);let u;if(e._queryParams.loadsAllData())u=Uh(n.serverSyncTree_,e._path,l);else{const f=vh(n.serverSyncTree_,e);u=_S(n.serverSyncTree_,e._path,l,f)}return dr(n.eventQueue_,e._path,u),ep(n.serverSyncTree_,e,t,null,!0),l},a=>(qh(n,"get for query "+Mn(e)+" failed: "+a),Promise.reject(new Error(a))))}function u4(n,e,t,i,a){qh(n,"set",{path:e.toString(),value:t,priority:i});const l=Op(n),u=Nn(t,i),f=tv(n.serverSyncTree_,e),p=AS(u,f,l),m=fv(n),_=yS(n.serverSyncTree_,e,p,m,!0);Mp(n.eventQueue_,_),n.server_.put(e.toString(),u.val(!0),(C,b)=>{const R=C==="ok";R||gi("set at "+e+" failed: "+C);const B=qa(n.serverSyncTree_,m,!R);dr(n.eventQueue_,e,B),Uy(n,a,C,b)});const T=pv(n,e);vu(n,T),dr(n.eventQueue_,T,[])}function c4(n,e,t,i){qh(n,"update",{path:e.toString(),value:t});let a=!0;const l=Op(n),u={};if(Xn(t,(f,p)=>{a=!1,u[f]=TS(nn(e,f),Nn(p),n.serverSyncTree_,l)}),a)Jn("update() called with empty data.  Don't do anything."),Uy(n,i,"ok",void 0);else{const f=fv(n),p=MP(n.serverSyncTree_,e,u,f);Mp(n.eventQueue_,p),n.server_.merge(e.toString(),t,(m,_)=>{const T=m==="ok";T||gi("update at "+e+" failed: "+m);const C=qa(n.serverSyncTree_,f,!T),b=C.length>0?vu(n,e):e;dr(n.eventQueue_,b,C),Uy(n,i,m,_)}),Xn(t,m=>{const _=pv(n,nn(e,m));vu(n,_)}),dr(n.eventQueue_,e,[])}}function h4(n){qh(n,"onDisconnectEvents");const e=Op(n),t=zd();My(n.onDisconnect_,St(),(a,l)=>{const u=TS(a,l,n.serverSyncTree_,e);nS(t,a,u)});let i=[];My(t,St(),(a,l)=>{i=i.concat(Uh(n.serverSyncTree_,a,l));const u=pv(n,a);vu(n,u)}),n.onDisconnect_=zd(),dr(n.eventQueue_,St(),i)}function f4(n,e,t){let i;at(e._path)===".info"?i=By(n.infoSyncTree_,e,t):i=By(n.serverSyncTree_,e,t),MS(n.eventQueue_,e._path,i)}function d4(n,e,t){let i;at(e._path)===".info"?i=ep(n.infoSyncTree_,e,t):i=ep(n.serverSyncTree_,e,t),MS(n.eventQueue_,e._path,i)}function p4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(i4)}function qh(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Jn(t,...e)}function Uy(n,e,t,i){e&&xu(()=>{if(t==="ok")e(null);else{const a=(t||"error").toUpperCase();let l=a;i&&(l+=": "+i);const u=new Error(l);u.code=a,e(u)}})}function kS(n,e,t){return tv(n.serverSyncTree_,e,t)||Ue.EMPTY_NODE}function dv(n,e=n.transactionQueueTree_){if(e||xp(n,e),Pu(e)){const t=LS(n,e);_e(t.length>0,"Sending zero length transaction queue"),t.every(a=>a.status===0)&&m4(n,Fh(e),t)}else bS(e)&&Dp(e,t=>{dv(n,t)})}function m4(n,e,t){const i=t.map(m=>m.currentWriteId),a=kS(n,e,i);let l=a;const u=a.hash();for(let m=0;m<t.length;m++){const _=t[m];_e(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const T=mi(e,_.path);l=l.updateChild(T,_.currentOutputSnapshotRaw)}const f=l.val(!0),p=e;n.server_.put(p.toString(),f,m=>{qh(n,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const T=[];for(let C=0;C<t.length;C++)t[C].status=2,_=_.concat(qa(n.serverSyncTree_,t[C].currentWriteId)),t[C].onComplete&&T.push(()=>t[C].onComplete(null,!0,t[C].currentOutputSnapshotResolved)),t[C].unwatcher();xp(n,uv(n.transactionQueueTree_,e)),dv(n,n.transactionQueueTree_),dr(n.eventQueue_,e,_);for(let C=0;C<T.length;C++)xu(T[C])}else{if(m==="datastale")for(let T=0;T<t.length;T++)t[T].status===3?t[T].status=4:t[T].status=0;else{gi("transaction at "+p.toString()+" failed: "+m);for(let T=0;T<t.length;T++)t[T].status=4,t[T].abortReason=m}vu(n,e)}},u)}function vu(n,e){const t=PS(n,e),i=Fh(t),a=LS(n,t);return g4(n,a,i),i}function g4(n,e,t){if(e.length===0)return;const i=[];let a=[];const u=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],m=mi(t,p.path);let _=!1,T;if(_e(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,T=p.abortReason,a=a.concat(qa(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=r4)_=!0,T="maxretry",a=a.concat(qa(n.serverSyncTree_,p.currentWriteId,!0));else{const C=kS(n,p.path,u);p.currentInputSnapshot=C;const b=e[f].update(C.val());if(b!==void 0){Np("transaction failed: Data returned ",b,p.path);let R=Nn(b);typeof b=="object"&&b!=null&&hs(b,".priority")||(R=R.updatePriority(C.getPriority()));const O=p.currentWriteId,x=Op(n),L=AS(R,C,x);p.currentOutputSnapshotRaw=R,p.currentOutputSnapshotResolved=L,p.currentWriteId=fv(n),u.splice(u.indexOf(O),1),a=a.concat(yS(n.serverSyncTree_,p.path,L,p.currentWriteId,p.applyLocally)),a=a.concat(qa(n.serverSyncTree_,O,!0))}else _=!0,T="nodata",a=a.concat(qa(n.serverSyncTree_,p.currentWriteId,!0))}dr(n.eventQueue_,t,a),a=[],_&&(e[f].status=2,function(C){setTimeout(C,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(T==="nodata"?i.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):i.push(()=>e[f].onComplete(new Error(T),!1,null))))}xp(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)xu(i[f]);dv(n,n.transactionQueueTree_)}function PS(n,e){let t,i=n.transactionQueueTree_;for(t=at(e);t!==null&&Pu(i)===void 0;)i=uv(i,t),e=Ft(e),t=at(e);return i}function LS(n,e){const t=[];return BS(n,e,t),t.sort((i,a)=>i.order-a.order),t}function BS(n,e,t){const i=Pu(e);if(i)for(let a=0;a<i.length;a++)t.push(i[a]);Dp(e,a=>{BS(n,a,t)})}function xp(n,e){const t=Pu(e);if(t){let i=0;for(let a=0;a<t.length;a++)t[a].status!==2&&(t[i]=t[a],i++);t.length=i,CS(e,t.length>0?t:void 0)}Dp(e,i=>{xp(n,i)})}function pv(n,e){const t=Fh(PS(n,e)),i=uv(n.transactionQueueTree_,e);return HP(i,a=>{ay(n,a)}),ay(n,i),SS(i,a=>{ay(n,a)}),t}function ay(n,e){const t=Pu(e);if(t){const i=[];let a=[],l=-1;for(let u=0;u<t.length;u++)t[u].status===3||(t[u].status===1?(_e(l===u-1,"All SENT items should be at beginning of queue."),l=u,t[u].status=3,t[u].abortReason="set"):(_e(t[u].status===0,"Unexpected transaction status in abort"),t[u].unwatcher(),a=a.concat(qa(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?CS(e,void 0):t.length=l+1,dr(n.eventQueue_,Fh(e),a);for(let u=0;u<i.length;u++)xu(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let a=t[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function _4(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):gi(`Invalid query segment '${t}' in query '${n}'`)}return e}const HT=function(n,e){const t=v4(n),i=t.namespace;t.domain==="firebase.com"&&Hs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Hs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Ik();const a=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Ub(t.host,t.secure,i,a,e,"",i!==t.subdomain),path:new Ot(t.pathString)}},v4=function(n){let e="",t="",i="",a="",l="",u=!0,f="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(f=n.substring(0,m-1),n=n.substring(m+2));let _=n.indexOf("/");_===-1&&(_=n.length);let T=n.indexOf("?");T===-1&&(T=n.length),e=n.substring(0,Math.min(_,T)),_<T&&(a=y4(n.substring(_,T)));const C=_4(n.substring(Math.min(n.length,T)));m=e.indexOf(":"),m>=0?(u=f==="https"||f==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const b=e.slice(0,m);if(b.toLowerCase()==="localhost")t="localhost";else if(b.split(".").length<=2)t=b;else{const R=e.indexOf(".");i=e.substring(0,R).toLowerCase(),t=e.substring(R+1),l=i}"ns"in C&&(l=C.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:u,scheme:f,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",E4=function(){let n=0;const e=[];return function(t){const i=t===n;n=t;let a;const l=new Array(8);for(a=7;a>=0;a--)l[a]=zT.charAt(t%64),t=Math.floor(t/64);_e(t===0,"Cannot push at time == 0");let u=l.join("");if(i){for(a=11;a>=0&&e[a]===63;a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)u+=zT.charAt(e[a]);return _e(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,t,i,a){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Mn(this.snapshot.exportVal())}}class T4{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return _e(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t,i,a){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=a}get key(){return ht(this._path)?null:G_(this._path)}get ref(){return new Ws(this._repo,this._path)}get _queryIdentifier(){const e=MT(this._queryParams),t=V_(e);return t==="{}"?"default":t}get _queryObject(){return MT(this._queryParams)}isEqual(e){if(e=$n(e),!(e instanceof mv))return!1;const t=this._repo===e._repo,i=j_(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return t&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+h2(this._path)}}class Ws extends mv{constructor(e,t){super(e,t,new Q_,!1)}get parent(){const e=Kb(this._path);return e===null?null:new Ws(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Eh{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ot(e),i=wh(this.ref,e);return new Eh(this._node.getChild(t),i,rn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>e(new Eh(a,wh(this.ref,i),rn)))}hasChild(e){const t=new Ot(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fa(n,e){return n=$n(n),n._checkNotDeleted("ref"),e!==void 0?wh(n._root,e):n._root}function wh(n,e){return n=$n(n),at(n._path)===null?$P("child","path",e):DS("child","path",e),new Ws(n._repo,nn(n._path,e))}function A4(n,e){n=$n(n),NS("push",n._path),IS("push",e,n._path,!0);const t=xS(n._repo),i=E4(t),a=wh(n,i),l=wh(n,i);let u;return u=Promise.resolve(l),a.then=u.then.bind(u),a.catch=u.then.bind(u,void 0),a}function Fy(n,e){n=$n(n),NS("set",n._path),IS("set",e,n._path,!1);const t=new Mh;return u4(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function QT(n,e){ZP("update",e,n._path);const t=new Mh;return c4(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function C4(n){n=$n(n);const e=new VS(()=>{}),t=new kp(e);return l4(n._repo,n,t).then(i=>new Eh(i,new Ws(n._repo,n._path),n._queryParams.getIndex()))}class kp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new w4("value",this,new Eh(e.snapshotNode,new Ws(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new T4(this,e,t):null}matches(e){return e instanceof kp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function b4(n,e,t,i,a){const l=new VS(t,void 0),u=new kp(l);return f4(n._repo,n,u),()=>d4(n._repo,n,u)}function oy(n,e,t,i){return b4(n,"value",e)}AP(Ws);IP(Ws);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="FIREBASE_DATABASE_EMULATOR_HOST",qy={};let R4=!1;function I4(n,e,t,i){n.repoInfo_=new Ub(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function D4(n,e,t,i,a){let l=i||n.options.databaseURL;l===void 0&&(n.options.projectId||Hs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jn("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u=HT(l,a),f=u.repoInfo,p;typeof process<"u"&&dT&&(p=dT[S4]),p?(l=`http://${p}?ns=${f.namespace}`,u=HT(l,a),f=u.repoInfo):u.repoInfo.secure;const m=new Uk(n.name,n.options,e);e4("Invalid Firebase Database URL",u),ht(u.path)||Hs("Database URL must point to the root of a Firebase Database (not including a child path).");const _=M4(f,n,m,new Vk(n,t));return new O4(_,n)}function N4(n,e){const t=qy[e];(!t||t[n.key]!==n)&&Hs(`Database ${e}(${n.repoInfo_}) has already been deleted.`),p4(n),delete t[n.key]}function M4(n,e,t,i){let a=qy[e.name];a||(a={},qy[e.name]=a);let l=a[n.toURLString()];return l&&Hs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new s4(n,R4,t,i),a[n.toURLString()]=l,l}class O4{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(a4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ws(this._repo,St())),this._rootInternal}_delete(){return this._rootInternal!==null&&(N4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Hs("Cannot call "+e+" on a deleted database.")}}function Gy(n=b_(),e){const t=vp(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=kC("database");i&&x4(t,...i)}return t}function x4(n,e,t,i={}){n=$n(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Hs("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let l;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Hs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new wd(wd.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:BC(i.mockUserToken,n.app.options.projectId);l=new wd(u)}I4(a,e,t,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(n){Tk(al),$o(new Xa("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return D4(i,a,l,t)},"PUBLIC").setMultipleInstances(!0)),is(pT,mT,n),is(pT,mT,"esm2017")}qs.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};qs.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};k4();const P4={apiKey:"AIzaSyD3xNyaIupMM9KvDlYX_UpkdVu-3tHVSCU",authDomain:"mess-management-609b4.firebaseapp.com",databaseURL:"https://mess-management-609b4-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"mess-management-609b4",storageBucket:"mess-management-609b4.firebasestorage.app",messagingSenderId:"57414040814",appId:"1:57414040814:web:f23c146289a0fddf4a87ff",measurementId:"G-S6BVK03GKH"},US=GC(P4),FS=L_(US),jc=Gy(US);var KT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,qS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,D){function N(){}N.prototype=D.prototype,P.D=D.prototype,P.prototype=new N,P.prototype.constructor=P,P.C=function(V,Y,H){for(var F=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)F[ke-2]=arguments[ke];return D.prototype[Y].apply(V,F)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,D,N){N||(N=0);var V=Array(16);if(typeof D=="string")for(var Y=0;16>Y;++Y)V[Y]=D.charCodeAt(N++)|D.charCodeAt(N++)<<8|D.charCodeAt(N++)<<16|D.charCodeAt(N++)<<24;else for(Y=0;16>Y;++Y)V[Y]=D[N++]|D[N++]<<8|D[N++]<<16|D[N++]<<24;D=P.g[0],N=P.g[1],Y=P.g[2];var H=P.g[3],F=D+(H^N&(Y^H))+V[0]+3614090360&4294967295;D=N+(F<<7&4294967295|F>>>25),F=H+(Y^D&(N^Y))+V[1]+3905402710&4294967295,H=D+(F<<12&4294967295|F>>>20),F=Y+(N^H&(D^N))+V[2]+606105819&4294967295,Y=H+(F<<17&4294967295|F>>>15),F=N+(D^Y&(H^D))+V[3]+3250441966&4294967295,N=Y+(F<<22&4294967295|F>>>10),F=D+(H^N&(Y^H))+V[4]+4118548399&4294967295,D=N+(F<<7&4294967295|F>>>25),F=H+(Y^D&(N^Y))+V[5]+1200080426&4294967295,H=D+(F<<12&4294967295|F>>>20),F=Y+(N^H&(D^N))+V[6]+2821735955&4294967295,Y=H+(F<<17&4294967295|F>>>15),F=N+(D^Y&(H^D))+V[7]+4249261313&4294967295,N=Y+(F<<22&4294967295|F>>>10),F=D+(H^N&(Y^H))+V[8]+1770035416&4294967295,D=N+(F<<7&4294967295|F>>>25),F=H+(Y^D&(N^Y))+V[9]+2336552879&4294967295,H=D+(F<<12&4294967295|F>>>20),F=Y+(N^H&(D^N))+V[10]+4294925233&4294967295,Y=H+(F<<17&4294967295|F>>>15),F=N+(D^Y&(H^D))+V[11]+2304563134&4294967295,N=Y+(F<<22&4294967295|F>>>10),F=D+(H^N&(Y^H))+V[12]+1804603682&4294967295,D=N+(F<<7&4294967295|F>>>25),F=H+(Y^D&(N^Y))+V[13]+4254626195&4294967295,H=D+(F<<12&4294967295|F>>>20),F=Y+(N^H&(D^N))+V[14]+2792965006&4294967295,Y=H+(F<<17&4294967295|F>>>15),F=N+(D^Y&(H^D))+V[15]+1236535329&4294967295,N=Y+(F<<22&4294967295|F>>>10),F=D+(Y^H&(N^Y))+V[1]+4129170786&4294967295,D=N+(F<<5&4294967295|F>>>27),F=H+(N^Y&(D^N))+V[6]+3225465664&4294967295,H=D+(F<<9&4294967295|F>>>23),F=Y+(D^N&(H^D))+V[11]+643717713&4294967295,Y=H+(F<<14&4294967295|F>>>18),F=N+(H^D&(Y^H))+V[0]+3921069994&4294967295,N=Y+(F<<20&4294967295|F>>>12),F=D+(Y^H&(N^Y))+V[5]+3593408605&4294967295,D=N+(F<<5&4294967295|F>>>27),F=H+(N^Y&(D^N))+V[10]+38016083&4294967295,H=D+(F<<9&4294967295|F>>>23),F=Y+(D^N&(H^D))+V[15]+3634488961&4294967295,Y=H+(F<<14&4294967295|F>>>18),F=N+(H^D&(Y^H))+V[4]+3889429448&4294967295,N=Y+(F<<20&4294967295|F>>>12),F=D+(Y^H&(N^Y))+V[9]+568446438&4294967295,D=N+(F<<5&4294967295|F>>>27),F=H+(N^Y&(D^N))+V[14]+3275163606&4294967295,H=D+(F<<9&4294967295|F>>>23),F=Y+(D^N&(H^D))+V[3]+4107603335&4294967295,Y=H+(F<<14&4294967295|F>>>18),F=N+(H^D&(Y^H))+V[8]+1163531501&4294967295,N=Y+(F<<20&4294967295|F>>>12),F=D+(Y^H&(N^Y))+V[13]+2850285829&4294967295,D=N+(F<<5&4294967295|F>>>27),F=H+(N^Y&(D^N))+V[2]+4243563512&4294967295,H=D+(F<<9&4294967295|F>>>23),F=Y+(D^N&(H^D))+V[7]+1735328473&4294967295,Y=H+(F<<14&4294967295|F>>>18),F=N+(H^D&(Y^H))+V[12]+2368359562&4294967295,N=Y+(F<<20&4294967295|F>>>12),F=D+(N^Y^H)+V[5]+4294588738&4294967295,D=N+(F<<4&4294967295|F>>>28),F=H+(D^N^Y)+V[8]+2272392833&4294967295,H=D+(F<<11&4294967295|F>>>21),F=Y+(H^D^N)+V[11]+1839030562&4294967295,Y=H+(F<<16&4294967295|F>>>16),F=N+(Y^H^D)+V[14]+4259657740&4294967295,N=Y+(F<<23&4294967295|F>>>9),F=D+(N^Y^H)+V[1]+2763975236&4294967295,D=N+(F<<4&4294967295|F>>>28),F=H+(D^N^Y)+V[4]+1272893353&4294967295,H=D+(F<<11&4294967295|F>>>21),F=Y+(H^D^N)+V[7]+4139469664&4294967295,Y=H+(F<<16&4294967295|F>>>16),F=N+(Y^H^D)+V[10]+3200236656&4294967295,N=Y+(F<<23&4294967295|F>>>9),F=D+(N^Y^H)+V[13]+681279174&4294967295,D=N+(F<<4&4294967295|F>>>28),F=H+(D^N^Y)+V[0]+3936430074&4294967295,H=D+(F<<11&4294967295|F>>>21),F=Y+(H^D^N)+V[3]+3572445317&4294967295,Y=H+(F<<16&4294967295|F>>>16),F=N+(Y^H^D)+V[6]+76029189&4294967295,N=Y+(F<<23&4294967295|F>>>9),F=D+(N^Y^H)+V[9]+3654602809&4294967295,D=N+(F<<4&4294967295|F>>>28),F=H+(D^N^Y)+V[12]+3873151461&4294967295,H=D+(F<<11&4294967295|F>>>21),F=Y+(H^D^N)+V[15]+530742520&4294967295,Y=H+(F<<16&4294967295|F>>>16),F=N+(Y^H^D)+V[2]+3299628645&4294967295,N=Y+(F<<23&4294967295|F>>>9),F=D+(Y^(N|~H))+V[0]+4096336452&4294967295,D=N+(F<<6&4294967295|F>>>26),F=H+(N^(D|~Y))+V[7]+1126891415&4294967295,H=D+(F<<10&4294967295|F>>>22),F=Y+(D^(H|~N))+V[14]+2878612391&4294967295,Y=H+(F<<15&4294967295|F>>>17),F=N+(H^(Y|~D))+V[5]+4237533241&4294967295,N=Y+(F<<21&4294967295|F>>>11),F=D+(Y^(N|~H))+V[12]+1700485571&4294967295,D=N+(F<<6&4294967295|F>>>26),F=H+(N^(D|~Y))+V[3]+2399980690&4294967295,H=D+(F<<10&4294967295|F>>>22),F=Y+(D^(H|~N))+V[10]+4293915773&4294967295,Y=H+(F<<15&4294967295|F>>>17),F=N+(H^(Y|~D))+V[1]+2240044497&4294967295,N=Y+(F<<21&4294967295|F>>>11),F=D+(Y^(N|~H))+V[8]+1873313359&4294967295,D=N+(F<<6&4294967295|F>>>26),F=H+(N^(D|~Y))+V[15]+4264355552&4294967295,H=D+(F<<10&4294967295|F>>>22),F=Y+(D^(H|~N))+V[6]+2734768916&4294967295,Y=H+(F<<15&4294967295|F>>>17),F=N+(H^(Y|~D))+V[13]+1309151649&4294967295,N=Y+(F<<21&4294967295|F>>>11),F=D+(Y^(N|~H))+V[4]+4149444226&4294967295,D=N+(F<<6&4294967295|F>>>26),F=H+(N^(D|~Y))+V[11]+3174756917&4294967295,H=D+(F<<10&4294967295|F>>>22),F=Y+(D^(H|~N))+V[2]+718787259&4294967295,Y=H+(F<<15&4294967295|F>>>17),F=N+(H^(Y|~D))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+D&4294967295,P.g[1]=P.g[1]+(Y+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+Y&4294967295,P.g[3]=P.g[3]+H&4294967295}i.prototype.u=function(P,D){D===void 0&&(D=P.length);for(var N=D-this.blockSize,V=this.B,Y=this.h,H=0;H<D;){if(Y==0)for(;H<=N;)a(this,P,H),H+=this.blockSize;if(typeof P=="string"){for(;H<D;)if(V[Y++]=P.charCodeAt(H++),Y==this.blockSize){a(this,V),Y=0;break}}else for(;H<D;)if(V[Y++]=P[H++],Y==this.blockSize){a(this,V),Y=0;break}}this.h=Y,this.o+=D},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var D=1;D<P.length-8;++D)P[D]=0;var N=8*this.o;for(D=P.length-8;D<P.length;++D)P[D]=N&255,N/=256;for(this.u(P),P=Array(16),D=N=0;4>D;++D)for(var V=0;32>V;V+=8)P[N++]=this.g[D]>>>V&255;return P};function l(P,D){var N=f;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=D(P)}function u(P,D){this.h=D;for(var N=[],V=!0,Y=P.length-1;0<=Y;Y--){var H=P[Y]|0;V&&H==D||(N[Y]=H,V=!1)}this.g=N}var f={};function p(P){return-128<=P&&128>P?l(P,function(D){return new u([D|0],0>D?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return O(m(-P));for(var D=[],N=1,V=0;P>=N;V++)D[V]=P/N|0,N*=4294967296;return new u(D,0)}function _(P,D){if(P.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P.charAt(0)=="-")return O(_(P.substring(1),D));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(D,8)),V=T,Y=0;Y<P.length;Y+=8){var H=Math.min(8,P.length-Y),F=parseInt(P.substring(Y,Y+H),D);8>H?(H=m(Math.pow(D,H)),V=V.j(H).add(m(F))):(V=V.j(N),V=V.add(m(F)))}return V}var T=p(0),C=p(1),b=p(16777216);n=u.prototype,n.m=function(){if(B(this))return-O(this).m();for(var P=0,D=1,N=0;N<this.g.length;N++){var V=this.i(N);P+=(0<=V?V:4294967296+V)*D,D*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(B(this))return"-"+O(this).toString(P);for(var D=m(Math.pow(P,6)),N=this,V="";;){var Y=te(N,D).g;N=x(N,Y.j(D));var H=((0<N.g.length?N.g[0]:N.h)>>>0).toString(P);if(N=Y,R(N))return H+V;for(;6>H.length;)H="0"+H;V=H+V}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(var D=0;D<P.g.length;D++)if(P.g[D]!=0)return!1;return!0}function B(P){return P.h==-1}n.l=function(P){return P=x(this,P),B(P)?-1:R(P)?0:1};function O(P){for(var D=P.g.length,N=[],V=0;V<D;V++)N[V]=~P.g[V];return new u(N,~P.h).add(C)}n.abs=function(){return B(this)?O(this):this},n.add=function(P){for(var D=Math.max(this.g.length,P.g.length),N=[],V=0,Y=0;Y<=D;Y++){var H=V+(this.i(Y)&65535)+(P.i(Y)&65535),F=(H>>>16)+(this.i(Y)>>>16)+(P.i(Y)>>>16);V=F>>>16,H&=65535,F&=65535,N[Y]=F<<16|H}return new u(N,N[N.length-1]&-2147483648?-1:0)};function x(P,D){return P.add(O(D))}n.j=function(P){if(R(this)||R(P))return T;if(B(this))return B(P)?O(this).j(O(P)):O(O(this).j(P));if(B(P))return O(this.j(O(P)));if(0>this.l(b)&&0>P.l(b))return m(this.m()*P.m());for(var D=this.g.length+P.g.length,N=[],V=0;V<2*D;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(var Y=0;Y<P.g.length;Y++){var H=this.i(V)>>>16,F=this.i(V)&65535,ke=P.i(Y)>>>16,Ge=P.i(Y)&65535;N[2*V+2*Y]+=F*Ge,L(N,2*V+2*Y),N[2*V+2*Y+1]+=H*Ge,L(N,2*V+2*Y+1),N[2*V+2*Y+1]+=F*ke,L(N,2*V+2*Y+1),N[2*V+2*Y+2]+=H*ke,L(N,2*V+2*Y+2)}for(V=0;V<D;V++)N[V]=N[2*V+1]<<16|N[2*V];for(V=D;V<2*D;V++)N[V]=0;return new u(N,0)};function L(P,D){for(;(P[D]&65535)!=P[D];)P[D+1]+=P[D]>>>16,P[D]&=65535,D++}function j(P,D){this.g=P,this.h=D}function te(P,D){if(R(D))throw Error("division by zero");if(R(P))return new j(T,T);if(B(P))return D=te(O(P),D),new j(O(D.g),O(D.h));if(B(D))return D=te(P,O(D)),new j(O(D.g),D.h);if(30<P.g.length){if(B(P)||B(D))throw Error("slowDivide_ only works with positive integers.");for(var N=C,V=D;0>=V.l(P);)N=se(N),V=se(V);var Y=pe(N,1),H=pe(V,1);for(V=pe(V,2),N=pe(N,2);!R(V);){var F=H.add(V);0>=F.l(P)&&(Y=Y.add(N),H=F),V=pe(V,1),N=pe(N,1)}return D=x(P,Y.j(D)),new j(Y,D)}for(Y=T;0<=P.l(D);){for(N=Math.max(1,Math.floor(P.m()/D.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),H=m(N),F=H.j(D);B(F)||0<F.l(P);)N-=V,H=m(N),F=H.j(D);R(H)&&(H=C),Y=Y.add(H),P=x(P,F)}return new j(Y,P)}n.A=function(P){return te(this,P).h},n.and=function(P){for(var D=Math.max(this.g.length,P.g.length),N=[],V=0;V<D;V++)N[V]=this.i(V)&P.i(V);return new u(N,this.h&P.h)},n.or=function(P){for(var D=Math.max(this.g.length,P.g.length),N=[],V=0;V<D;V++)N[V]=this.i(V)|P.i(V);return new u(N,this.h|P.h)},n.xor=function(P){for(var D=Math.max(this.g.length,P.g.length),N=[],V=0;V<D;V++)N[V]=this.i(V)^P.i(V);return new u(N,this.h^P.h)};function se(P){for(var D=P.g.length+1,N=[],V=0;V<D;V++)N[V]=P.i(V)<<1|P.i(V-1)>>>31;return new u(N,P.h)}function pe(P,D){var N=D>>5;D%=32;for(var V=P.g.length-N,Y=[],H=0;H<V;H++)Y[H]=0<D?P.i(H+N)>>>D|P.i(H+N+1)<<32-D:P.i(H+N);return new u(Y,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,Wa=u}).apply(typeof KT<"u"?KT:typeof self<"u"?self:typeof window<"u"?window:{});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GS,Kc,jS,Ad,jy,YS,HS,zS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,w){return h==Array.prototype||h==Object.prototype||(h[y]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ad=="object"&&ad];for(var y=0;y<h.length;++y){var w=h[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var w=i;h=h.split(".");for(var M=0;M<h.length-1;M++){var Z=h[M];if(!(Z in w))break e;w=w[Z]}h=h[h.length-1],M=w[h],y=y(M),y!=M&&y!=null&&e(w,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var w=0,M=!1,Z={next:function(){if(!M&&w<h.length){var ie=w++;return{value:y(ie,h[ie]),done:!1}}return M=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,w){return h.call.apply(h.bind,arguments)}function T(h,y,w){if(!h)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,M),h.apply(y,Z)}}return function(){return h.apply(y,arguments)}}function C(h,y,w){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,C.apply(null,arguments)}function b(h,y){var w=Array.prototype.slice.call(arguments,1);return function(){var M=w.slice();return M.push.apply(M,arguments),h.apply(this,M)}}function R(h,y){function w(){}w.prototype=y.prototype,h.aa=y.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(M,Z,ie){for(var ve=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ve[dt-2]=arguments[dt];return y.prototype[Z].apply(M,ve)}}function B(h){const y=h.length;if(0<y){const w=Array(y);for(let M=0;M<y;M++)w[M]=h[M];return w}return[]}function O(h,y){for(let w=1;w<arguments.length;w++){const M=arguments[w];if(p(M)){const Z=h.length||0,ie=M.length||0;h.length=Z+ie;for(let ve=0;ve<ie;ve++)h[Z+ve]=M[ve]}else h.push(M)}}class x{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(h){return/^[\s\xa0]*$/.test(h)}function j(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function te(h){return te[" "](h),h}te[" "]=function(){};var se=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function pe(h,y,w){for(const M in h)y.call(w,h[M],M,h)}function P(h,y){for(const w in h)y.call(void 0,h[w],w,h)}function D(h){const y={};for(const w in h)y[w]=h[w];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,y){let w,M;for(let Z=1;Z<arguments.length;Z++){M=arguments[Z];for(w in M)h[w]=M[w];for(let ie=0;ie<N.length;ie++)w=N[ie],Object.prototype.hasOwnProperty.call(M,w)&&(h[w]=M[w])}}function Y(h){var y=1;h=h.split(":");const w=[];for(;0<y&&h.length;)w.push(h.shift()),y--;return h.length&&w.push(h.join(":")),w}function H(h){f.setTimeout(()=>{throw h},0)}function F(){var h=qe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ke{constructor(){this.h=this.g=null}add(y,w){const M=Ge.get();M.set(y,w),this.h?this.h.next=M:this.g=M,this.h=M}}var Ge=new x(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,be=!1,qe=new ke,q=()=>{const h=f.Promise.resolve(void 0);Ae=()=>{h.then(he)}};var he=()=>{for(var h;h=F();){try{h.h.call(h.g)}catch(w){H(w)}var y=Ge;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}be=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,y),f.removeEventListener("test",w,y)}catch{}return h}();function Ne(h,y){if(Te.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,M=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(se){e:{try{te(y.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(y=null)}}else w=="mouseover"?y=h.fromElement:w=="mouseout"&&(y=h.toElement);this.relatedTarget=y,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:we[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}R(Ne,Te);var we={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function tt(h,y,w,M,Z){this.listener=h,this.proxy=null,this.src=y,this.type=w,this.capture=!!M,this.ha=Z,this.key=++Oe,this.da=this.fa=!1}function ze(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Tt(h){this.src=h,this.g={},this.h=0}Tt.prototype.add=function(h,y,w,M,Z){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var ve=xt(h,y,M,Z);return-1<ve?(y=h[ve],w||(y.fa=!1)):(y=new tt(y,this.src,ie,!!M,Z),y.fa=w,h.push(y)),y};function It(h,y){var w=y.type;if(w in h.g){var M=h.g[w],Z=Array.prototype.indexOf.call(M,y,void 0),ie;(ie=0<=Z)&&Array.prototype.splice.call(M,Z,1),ie&&(ze(y),h.g[w].length==0&&(delete h.g[w],h.h--))}}function xt(h,y,w,M){for(var Z=0;Z<h.length;++Z){var ie=h[Z];if(!ie.da&&ie.listener==y&&ie.capture==!!w&&ie.ha==M)return Z}return-1}var qn="closure_lm_"+(1e6*Math.random()|0),Gn={};function fn(h,y,w,M,Z){if(Array.isArray(y)){for(var ie=0;ie<y.length;ie++)fn(h,y[ie],w,M,Z);return null}return w=hl(w),h&&h[Pe]?h.K(y,w,m(M)?!!M.capture:!1,Z):Xt(h,y,w,!1,M,Z)}function Xt(h,y,w,M,Z,ie){if(!y)throw Error("Invalid event type");var ve=m(Z)?!!Z.capture:!!Z,dt=Qi(h);if(dt||(h[qn]=dt=new Tt(h)),w=dt.add(y,w,M,ve,ie),w.proxy)return w;if(M=Pr(),w.proxy=M,M.src=h,M.listener=w,h.addEventListener)Ee||(Z=ve),Z===void 0&&(Z=!1),h.addEventListener(y.toString(),M,Z);else if(h.attachEvent)h.attachEvent(Qe(y.toString()),M);else if(h.addListener&&h.removeListener)h.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Pr(){function h(w){return y.call(h.src,h.listener,w)}const y=nt;return h}function Lr(h,y,w,M,Z){if(Array.isArray(y))for(var ie=0;ie<y.length;ie++)Lr(h,y[ie],w,M,Z);else M=m(M)?!!M.capture:!!M,w=hl(w),h&&h[Pe]?(h=h.i,y=String(y).toString(),y in h.g&&(ie=h.g[y],w=xt(ie,w,M,Z),-1<w&&(ze(ie[w]),Array.prototype.splice.call(ie,w,1),ie.length==0&&(delete h.g[y],h.h--)))):h&&(h=Qi(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xt(y,w,M,Z)),(w=-1<h?y[h]:null)&&Di(w))}function Di(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Pe])It(y.i,h);else{var w=h.type,M=h.proxy;y.removeEventListener?y.removeEventListener(w,M,h.capture):y.detachEvent?y.detachEvent(Qe(w),M):y.addListener&&y.removeListener&&y.removeListener(M),(w=Qi(y))?(It(w,h),w.h==0&&(w.src=null,y[qn]=null)):ze(h)}}}function Qe(h){return h in Gn?Gn[h]:Gn[h]="on"+h}function nt(h,y){if(h.da)h=!0;else{y=new Ne(y,this);var w=h.listener,M=h.ha||h.src;h.fa&&Di(h),h=w.call(M,y)}return h}function Qi(h){return h=h[qn],h instanceof Tt?h:null}var Tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function hl(h){return typeof h=="function"?h:(h[Tn]||(h[Tn]=function(y){return h.handleEvent(y)}),h[Tn])}function Dt(){Se.call(this),this.i=new Tt(this),this.M=this,this.F=null}R(Dt,Se),Dt.prototype[Pe]=!0,Dt.prototype.removeEventListener=function(h,y,w,M){Lr(this,h,y,w,M)};function dn(h,y){var w,M=h.F;if(M)for(w=[];M;M=M.F)w.push(M);if(h=h.M,M=y.type||y,typeof y=="string")y=new Te(y,h);else if(y instanceof Te)y.target=y.target||h;else{var Z=y;y=new Te(M,h),V(y,Z)}if(Z=!0,w)for(var ie=w.length-1;0<=ie;ie--){var ve=y.g=w[ie];Z=Ni(ve,M,!0,y)&&Z}if(ve=y.g=h,Z=Ni(ve,M,!0,y)&&Z,Z=Ni(ve,M,!1,y)&&Z,w)for(ie=0;ie<w.length;ie++)ve=y.g=w[ie],Z=Ni(ve,M,!1,y)&&Z}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var w=h.g[y],M=0;M<w.length;M++)ze(w[M]);delete h.g[y],h.h--}}this.F=null},Dt.prototype.K=function(h,y,w,M){return this.i.add(String(h),y,!1,w,M)},Dt.prototype.L=function(h,y,w,M){return this.i.add(String(h),y,!0,w,M)};function Ni(h,y,w,M){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var Z=!0,ie=0;ie<y.length;++ie){var ve=y[ie];if(ve&&!ve.da&&ve.capture==w){var dt=ve.listener,on=ve.ha||ve.src;ve.fa&&It(h.i,ve),Z=dt.call(on,M)!==!1&&Z}}return Z&&!M.defaultPrevented}function fl(h,y,w){if(typeof h=="function")w&&(h=C(h,w));else if(h&&typeof h.handleEvent=="function")h=C(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(h,y||0)}function Br(h){h.g=fl(()=>{h.g=null,h.i&&(h.i=!1,Br(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class uo extends Se{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(h){Se.call(this),this.h=h,this.g={}}R(fs,Se);var Vr=[];function kn(h){pe(h.g,function(y,w){this.g.hasOwnProperty(w)&&Di(y)},h),h.g={}}fs.prototype.N=function(){fs.aa.N.call(this),kn(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var co=f.JSON.stringify,Ki=f.JSON.parse,jn=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function ho(){}ho.prototype.h=null;function ds(h){return h.h||(h.h=h.i())}function Js(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){Te.call(this,"d")}R(ui,Te);function An(){Te.call(this,"c")}R(An,Te);var Yn={},pr=null;function mr(){return pr=pr||new Dt}Yn.La="serverreachability";function Mi(h){Te.call(this,Yn.La,h)}R(Mi,Te);function Ur(h){const y=mr();dn(y,new Mi(y))}Yn.STAT_EVENT="statevent";function Xs(h,y){Te.call(this,Yn.STAT_EVENT,h),this.stat=y}R(Xs,Te);function Ht(h){const y=mr();dn(y,new Xs(y,h))}Yn.Ma="timingevent";function fo(h,y){Te.call(this,Yn.Ma,h),this.size=y}R(fo,Te);function jt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},y)}function ci(){this.g=!0}ci.prototype.xa=function(){this.g=!1};function ft(h,y,w,M,Z,ie){h.info(function(){if(h.g)if(ie)for(var ve="",dt=ie.split("&"),on=0;on<dt.length;on++){var pt=dt[on].split("=");if(1<pt.length){var yn=pt[0];pt=pt[1];var ln=yn.split("_");ve=2<=ln.length&&ln[1]=="type"?ve+(yn+"="+pt+"&"):ve+(yn+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+M+") [attempt "+Z+"]: "+y+`
`+w+`
`+ve})}function dl(h,y,w,M,Z,ie,ve){h.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Z+"]: "+y+`
`+w+`
`+ie+" "+ve})}function Cn(h,y,w,M){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+mn(h,w)+(M?" "+M:"")})}function pn(h,y){h.info(function(){return"TIMEOUT: "+y})}ci.prototype.info=function(){};function mn(h,y){if(!h.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var M=w[h];if(!(2>M.length)){var Z=M[1];if(Array.isArray(Z)&&!(1>Z.length)){var ie=Z[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<Z.length;ve++)Z[ve]=""}}}}return co(w)}catch{return y}}var an={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function ps(){}R(ps,ho),ps.prototype.g=function(){return new XMLHttpRequest},ps.prototype.i=function(){return{}},gr=new ps;function Wi(h,y,w,M){this.j=h,this.i=y,this.l=w,this.R=M||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zs}function Zs(){this.i=null,this.g="",this.h=!1}var yr={},Fr={};function xi(h,y,w){h.L=1,h.v=gs(Gt(y)),h.m=w,h.P=!0,_r(h,null)}function _r(h,y){h.F=Date.now(),qt(h),h.A=Gt(h.v);var w=h.A,M=h.R;Array.isArray(M)||(M=[String(M)]),Li(w.i,"t",M),h.C=0,w=h.j.J,h.h=new Zs,h.g=Cl(h.j,w?y:null,!h.m),0<h.O&&(h.M=new uo(C(h.Y,h,h.g),h.O)),y=h.U,w=h.g,M=h.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Vr[0]=Z.toString()),Z=Vr);for(var ie=0;ie<Z.length;ie++){var ve=fn(w,Z[ie],M||y.handleEvent,!1,y.h||y);if(!ve)break;y.g[ve.key]=ve}y=h.H?D(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ur(),ft(h.i,h.u,h.A,h.l,h.R,h.m)}Wi.prototype.ca=function(h){h=h.target;const y=this.M;y&&Ti(h)==3?y.j():this.Y(h)},Wi.prototype.Y=function(h){try{if(h==this.g)e:{const ln=Ti(this.g);var y=this.g.Ba();const Sr=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||yl(this.g)))){this.J||ln!=4||y==7||(y==8||0>=Sr?Ur(3):Ur(2)),$s(this);var w=this.g.Z();this.X=w;t:if(qr(this)){var M=yl(this.g);h="";var Z=M.length,ie=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Pn(this);var ve="";break t}this.h.i=new f.TextDecoder}for(y=0;y<Z;y++)this.h.h=!0,h+=this.h.i.decode(M[y],{stream:!(ie&&y==Z-1)});M.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=w==200,dl(this.i,this.u,this.A,this.l,this.R,ln,w),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,on=this.g;if((dt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(dt)){var pt=dt;break t}}pt=null}if(w=pt)Cn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ti(this,w);else{this.o=!1,this.s=3,Ht(12),bn(this),Pn(this);break e}}if(this.P){w=!0;let Rn;for(;!this.J&&this.C<ve.length;)if(Rn=ki(this,ve),Rn==Fr){ln==4&&(this.s=4,Ht(14),w=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==yr){this.s=4,Ht(15),Cn(this.i,this.l,ve,"[Invalid Chunk]"),w=!1;break}else Cn(this.i,this.l,Rn,null),ti(this,Rn);if(qr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||ve.length!=0||this.h.h||(this.s=1,Ht(16),w=!1),this.o=this.o&&w,!w)Cn(this.i,this.l,ve,"[Invalid Chunked Response]"),bn(this),Pn(this);else if(0<ve.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Qr(yn),yn.M=!0,Ht(11))}}else Cn(this.i,this.l,ve,null),ti(this,ve);ln==4&&bn(this),this.o&&!this.J&&(ln==4?So(this.j,this):(this.o=!1,qt(this)))}else ju(this.g),w==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),bn(this),Pn(this)}}}catch{}finally{}};function qr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ki(h,y){var w=h.C,M=y.indexOf(`
`,w);return M==-1?Fr:(w=Number(y.substring(w,M)),isNaN(w)?yr:(M+=1,M+w>y.length?Fr:(y=y.slice(M,M+w),h.C=M+w,y)))}Wi.prototype.cancel=function(){this.J=!0,bn(this)};function qt(h){h.S=Date.now()+h.I,vr(h,h.I)}function vr(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=jt(C(h.ba,h),y)}function $s(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Wi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(pn(this.i,this.A),this.L!=2&&(Ur(),Ht(17)),bn(this),this.s=2,Pn(this)):vr(this,this.S-h)};function Pn(h){h.j.G==0||h.J||So(h.j,h)}function bn(h){$s(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,kn(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function ti(h,y){try{var w=h.j;if(w.G!=0&&(w.g==h||Gr(w.h,h))){if(!h.K&&Gr(w.h,h)&&w.G==3){try{var M=w.Da.g.parse(y)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Z=M;if(Z[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)ua(w),oa(w);else break e;bo(w),Ht(18)}}else w.za=Z[1],0<w.za-w.T&&37500>Z[2]&&w.F&&w.v==0&&!w.C&&(w.C=jt(C(w.Za,w),6e3));if(1>=ml(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else br(w,11)}else if((h.K||w.g==h)&&ua(w),!L(y))for(Z=w.Da.g.parse(y),y=0;y<Z.length;y++){let pt=Z[y];if(w.T=pt[0],pt=pt[1],w.G==2)if(pt[0]=="c"){w.K=pt[1],w.ia=pt[2];const yn=pt[3];yn!=null&&(w.la=yn,w.j.info("VER="+w.la));const ln=pt[4];ln!=null&&(w.Aa=ln,w.j.info("SVER="+w.Aa));const Sr=pt[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(M=1.5*Sr,w.L=M,w.j.info("backChannelRequestTimeoutMs_="+M)),M=w;const Rn=h.g;if(Rn){const gt=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gt){var ie=M.h;ie.g||gt.indexOf("spdy")==-1&&gt.indexOf("quic")==-1&&gt.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Ji(ie,ie.h),ie.h=null))}if(M.D){const ha=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(M.ya=ha,je(M.I,M.D,ha))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),M=w;var ve=h;if(M.qa=Al(M,M.J?M.ia:null,M.W),ve.K){yi(M.h,ve);var dt=ve,on=M.L;on&&(dt.I=on),dt.B&&($s(dt),qt(dt)),M.g=ve}else El(M);0<w.i.length&&la(w)}else pt[0]!="stop"&&pt[0]!="close"||br(w,7);else w.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?br(w,7):Ao(w):pt[0]!="noop"&&w.l&&w.l.ta(pt),w.v=0)}}Ur(4)}catch{}}var pl=class{constructor(h,y){this.g=h,this.map=y}};function po(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ml(h){return h.h?1:h.g?h.g.size:0}function Gr(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ji(h,y){h.g?h.g.add(y):h.h=y}function yi(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}po.prototype.cancel=function(){if(this.i=Hn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Hn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const w of h.g.values())y=y.concat(w.D);return y}return B(h.i)}function gl(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],w=h.length,M=0;M<w;M++)y.push(h[M]);return y}y=[],w=0;for(M in h)y[w++]=h[M];return y}function qu(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var w=0;w<h;w++)y.push(w);return y}y=[],w=0;for(const M in h)y[w++]=M;return y}}}function Xi(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var w=qu(h),M=gl(h),Z=M.length,ie=0;ie<Z;ie++)y.call(void 0,M[ie],w&&w[ie],h)}var ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(h,y){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var M=h[w].indexOf("="),Z=null;if(0<=M){var ie=h[w].substring(0,M);Z=h[w].substring(M+1)}else ie=h[w];y(ie,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function _i(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof _i){this.h=h.h,Ke(this,h.j),this.o=h.o,this.g=h.g,ms(this,h.s),this.l=h.l;var y=h.i,w=new Pi;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),na(this,w),this.m=h.m}else h&&(y=String(h).match(ea))?(this.h=!1,Ke(this,y[1]||"",!0),this.o=Er(y[2]||""),this.g=Er(y[3]||"",!0),ms(this,y[4]),this.l=Er(y[5]||"",!0),na(this,y[6]||"",!0),this.m=Er(y[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}_i.prototype.toString=function(){var h=[],y=this.j;y&&h.push(hi(y,go,!0),":");var w=this.g;return(w||y=="file")&&(h.push("//"),(y=this.o)&&h.push(hi(y,go,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(hi(w,w.charAt(0)=="/"?yo:ra,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",hi(w,Gu)),h.join("")};function Gt(h){return new _i(h)}function Ke(h,y,w){h.j=w?Er(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ms(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function na(h,y,w){y instanceof Pi?(h.i=y,vo(h.i,h.h)):(w||(y=hi(y,_o)),h.i=new Pi(y,h.h))}function je(h,y,w){h.i.set(y,w)}function gs(h){return je(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Er(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function hi(h,y,w){return typeof h=="string"?(h=encodeURI(h).replace(y,ia),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ia(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var go=/[#\/\?@]/g,ra=/[#\?:]/g,yo=/[#\?]/g,_o=/[#\?@]/g,Gu=/#/g;function Pi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function vi(h){h.g||(h.g=new Map,h.h=0,h.i&&ta(h.i,function(y,w){h.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=Pi.prototype,n.add=function(h,y){vi(this),this.i=null,h=wr(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(y),this.h+=1,this};function jr(h,y){vi(h),y=wr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Sn(h,y){return vi(h),y=wr(h,y),h.g.has(y)}n.forEach=function(h,y){vi(this),this.g.forEach(function(w,M){w.forEach(function(Z){h.call(y,Z,M,this)},this)},this)},n.na=function(){vi(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let M=0;M<y.length;M++){const Z=h[M];for(let ie=0;ie<Z.length;ie++)w.push(y[M])}return w},n.V=function(h){vi(this);let y=[];if(typeof h=="string")Sn(this,h)&&(y=y.concat(this.g.get(wr(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)y=y.concat(h[w])}return y},n.set=function(h,y){return vi(this),this.i=null,h=wr(this,h),Sn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Li(h,y,w){jr(h,y),0<w.length&&(h.i=null,h.g.set(wr(h,y),B(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var M=y[w];const ie=encodeURIComponent(String(M)),ve=this.V(M);for(M=0;M<ve.length;M++){var Z=ie;ve[M]!==""&&(Z+="="+encodeURIComponent(String(ve[M]))),h.push(Z)}}return this.i=h.join("&")};function wr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function vo(h,y){y&&!h.j&&(vi(h),h.i=null,h.g.forEach(function(w,M){var Z=M.toLowerCase();M!=Z&&(jr(this,M),Li(this,Z,w))},h)),h.j=y}function Ei(h,y){const w=new ci;if(f.Image){const M=new Image;M.onload=b(wi,w,"TestLoadImage: loaded",!0,y,M),M.onerror=b(wi,w,"TestLoadImage: error",!1,y,M),M.onabort=b(wi,w,"TestLoadImage: abort",!1,y,M),M.ontimeout=b(wi,w,"TestLoadImage: timeout",!1,y,M),f.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=h}else y(!1)}function Yr(h,y){const w=new ci,M=new AbortController,Z=setTimeout(()=>{M.abort(),wi(w,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:M.signal}).then(ie=>{clearTimeout(Z),ie.ok?wi(w,"TestPingServer: ok",!0,y):wi(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Z),wi(w,"TestPingServer: error",!1,y)})}function wi(h,y,w,M,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),M(w)}catch{}}function Tr(){this.g=new jn}function Zi(h,y,w){const M=w||"";try{Xi(h,function(Z,ie){let ve=Z;m(Z)&&(ve=co(Z)),y.push(M+ie+"="+encodeURIComponent(ve))})}catch(Z){throw y.push(M+"type="+encodeURIComponent("_badmap")),Z}}function Hr(h){this.l=h.Ub||null,this.j=h.eb||!1}R(Hr,ho),Hr.prototype.g=function(){return new Ar(this.l,this.j)},Hr.prototype.i=function(h){return function(){return h}}({});function Ar(h,y){Dt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ar,Dt),n=Ar.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,er(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?$i(this):er(this),this.readyState==3&&Eo(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,$i(this))},n.Qa=function(h){this.g&&(this.response=h,$i(this))},n.ga=function(){this.g&&$i(this)};function $i(h){h.readyState=4,h.l=null,h.j=null,h.v=null,er(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=y.next();return h.join(`\r
`)};function er(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wo(h){let y="";return pe(h,function(w,M){y+=M,y+=":",y+=w,y+=`\r
`}),y}function gn(h,y,w){e:{for(M in w){var M=!1;break e}M=!0}M||(w=wo(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):je(h,y,w))}function Ct(h){Dt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ct,Dt);var tr=/^https?$/i,ys=["POST","PUT"];n=Ct.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,w,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?ds(this.o):ds(gr),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ie){To(this,ie);return}if(h=w||"",w=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Z in M)w.set(Z,M[Z]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ie of M.keys())w.set(ie,M.get(ie));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(w.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||M||Z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of w)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zr(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){To(this,ie)}};function To(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,_s(h),nr(h)}function _s(h){h.A||(h.A=!0,dn(h,"complete"),dn(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,dn(this,"complete"),dn(this,"abort"),nr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},n.bb=function(){sa(this)};function sa(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Ti(h)!=4||h.Z()!=2)){if(h.u&&Ti(h)==4)fl(h.Ea,0,h);else if(dn(h,"readystatechange"),Ti(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var M;if(M=ve===0){var Z=String(h.D).match(ea)[1]||null;!Z&&f.self&&f.self.location&&(Z=f.self.location.protocol.slice(0,-1)),M=!tr.test(Z?Z.toLowerCase():"")}w=M}if(w)dn(h,"complete"),dn(h,"success");else{h.m=6;try{var ie=2<Ti(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",_s(h)}}finally{nr(h)}}}}function nr(h,y){if(h.g){zr(h);const w=h.g,M=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||dn(h,"ready");try{w.onreadystatechange=M}catch{}}}function zr(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Ti(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ki(y)}};function yl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ju(h){const y={};h=(h.g&&2<=Ti(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<h.length;M++){if(L(h[M]))continue;var w=Y(h[M]);const Z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ie=y[Z]||[];y[Z]=ie,ie.push(w)}P(y,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(h,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||y}function aa(h){this.Aa=0,this.i=[],this.j=new ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,h),this.cb=vs("retryDelaySeedMs",1e4,h),this.Wa=vs("forwardChannelMaxRetries",2,h),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new po(h&&h.concurrentRequestLimit),this.Da=new Tr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=aa.prototype,n.la=8,n.G=1,n.connect=function(h,y,w,M){Ht(0),this.W=h,this.H=y||{},w&&M!==void 0&&(this.H.OSID=w,this.H.OAID=M),this.F=this.X,this.I=Al(this,null,this.W),la(this)};function Ao(h){if(_l(h),h.G==3){var y=h.U++,w=Gt(h.I);if(je(w,"SID",h.K),je(w,"RID",y),je(w,"TYPE","terminate"),Cr(h,w),y=new Wi(h,h.j,y),y.L=2,y.v=gs(Gt(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=y.v,w=!0),w||(y.g=Cl(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qt(y)}Tl(h)}function oa(h){h.g&&(Qr(h),h.g.cancel(),h.g=null)}function _l(h){oa(h),h.u&&(f.clearTimeout(h.u),h.u=null),ua(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function la(h){if(!mo(h.h)&&!h.s){h.s=!0;var y=h.Ga;Ae||q(),be||(Ae(),be=!0),qe.add(y,h),h.B=0}}function Yu(h,y){return ml(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=jt(C(h.Ga,h,y),Ro(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Z=new Wi(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=D(ie),V(ie,this.S)):ie=this.S),this.m!==null||this.O||(Z.H=ie,ie=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var M=this.i[w];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(y+=M,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=vl(this,Z,y),w=Gt(this.I),je(w,"RID",h),je(w,"CVER",22),this.D&&je(w,"X-HTTP-Session-Id",this.D),Cr(this,w),ie&&(this.O?y="headers="+encodeURIComponent(String(wo(ie)))+"&"+y:this.m&&gn(w,this.m,ie)),Ji(this.h,Z),this.Ua&&je(w,"TYPE","init"),this.P?(je(w,"$req",y),je(w,"SID","null"),Z.T=!0,xi(Z,w,null)):xi(Z,w,y),this.G=2}}else this.G==3&&(h?Co(this,h):this.i.length==0||mo(this.h)||Co(this))};function Co(h,y){var w;y?w=y.l:w=h.U++;const M=Gt(h.I);je(M,"SID",h.K),je(M,"RID",w),je(M,"AID",h.T),Cr(h,M),h.m&&h.o&&gn(M,h.m,h.o),w=new Wi(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),y&&(h.i=y.D.concat(h.i)),y=vl(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ji(h.h,w),xi(w,M,y)}function Cr(h,y){h.H&&pe(h.H,function(w,M){je(y,M,w)}),h.l&&Xi({},function(w,M){je(y,M,w)})}function vl(h,y,w){w=Math.min(h.i.length,w);var M=h.l?C(h.l.Na,h.l,h):null;e:{var Z=h.i;let ie=-1;for(;;){const ve=["count="+w];ie==-1?0<w?(ie=Z[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let dt=!0;for(let on=0;on<w;on++){let pt=Z[on].g;const yn=Z[on].map;if(pt-=ie,0>pt)ie=Math.max(0,Z[on].g-100),dt=!1;else try{Zi(yn,ve,"req"+pt+"_")}catch{M&&M(yn)}}if(dt){M=ve.join("&");break e}}}return h=h.i.splice(0,w),y.D=h,M}function El(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;Ae||q(),be||(Ae(),be=!0),qe.add(y,h),h.v=0}}function bo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=jt(C(h.Fa,h),Ro(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,wl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=jt(C(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),oa(this),wl(this))};function Qr(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function wl(h){h.g=new Wi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Gt(h.qa);je(y,"RID","rpc"),je(y,"SID",h.K),je(y,"AID",h.T),je(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&je(y,"TO",h.ja),je(y,"TYPE","xmlhttp"),Cr(h,y),h.m&&h.o&&gn(y,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=gs(Gt(y)),w.m=null,w.P=!0,_r(w,h)}n.Za=function(){this.C!=null&&(this.C=null,oa(this),bo(this),Ht(19))};function ua(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function So(h,y){var w=null;if(h.g==y){ua(h),Qr(h),h.g=null;var M=2}else if(Gr(h.h,y))w=y.D,yi(h.h,y),M=1;else return;if(h.G!=0){if(y.o)if(M==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var Z=h.B;M=mr(),dn(M,new fo(M,w)),la(h)}else El(h);else if(Z=y.s,Z==3||Z==0&&0<y.X||!(M==1&&Yu(h,y)||M==2&&bo(h)))switch(w&&0<w.length&&(y=h.h,y.i=y.i.concat(w)),Z){case 1:br(h,5);break;case 4:br(h,10);break;case 3:br(h,6);break;default:br(h,2)}}}function Ro(h,y){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*y}function br(h,y){if(h.j.info("Error code "+y),y==2){var w=C(h.fb,h),M=h.Xa;const Z=!M;M=new _i(M||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ke(M,"https"),gs(M),Z?Ei(M.toString(),w):Yr(M.toString(),w)}else Ht(2);h.G=0,h.l&&h.l.sa(y),Tl(h),_l(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Tl(h){if(h.G=0,h.ka=[],h.l){const y=Hn(h.h);(y.length!=0||h.i.length!=0)&&(O(h.ka,y),O(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function Al(h,y,w){var M=w instanceof _i?Gt(w):new _i(w);if(M.g!="")y&&(M.g=y+"."+M.g),ms(M,M.s);else{var Z=f.location;M=Z.protocol,y=y?y+"."+Z.hostname:Z.hostname,Z=+Z.port;var ie=new _i(null);M&&Ke(ie,M),y&&(ie.g=y),Z&&ms(ie,Z),w&&(ie.l=w),M=ie}return w=h.D,y=h.ya,w&&y&&je(M,w,y),je(M,"VER",h.la),Cr(h,M),M}function Cl(h,y,w){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ct(new Hr({eb:w})):new Ct(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bl(){}n=bl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ca(){}ca.prototype.g=function(h,y){return new zn(h,y)};function zn(h,y){Dt.call(this),this.g=new aa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!L(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!L(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ir(this)}R(zn,Dt),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){Ao(this.g)},zn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=co(h),h=w);y.i.push(new pl(y.Ya++,h)),y.G==3&&la(y)},zn.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,zn.aa.N.call(this)};function Sl(h){ui.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const w in y){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}R(Sl,ui);function Rl(){An.call(this),this.status=1}R(Rl,An);function ir(h){this.g=h}R(ir,bl),ir.prototype.ua=function(){dn(this.g,"a")},ir.prototype.ta=function(h){dn(this.g,new Sl(h))},ir.prototype.sa=function(h){dn(this.g,new Rl)},ir.prototype.ra=function(){dn(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,zS=function(){return new ca},HS=function(){return mr()},YS=Yn,jy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,Ad=an,Oi.COMPLETE="complete",jS=Oi,Js.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Kc=Js,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,GS=Ct}).apply(typeof ad<"u"?ad:typeof self<"u"?self:typeof window<"u"?window:{});const WT="@firebase/firestore",JT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new _p("@firebase/firestore");function eu(){return rl.logLevel}function Re(n,...e){if(rl.logLevel<=ct.DEBUG){const t=e.map(gv);rl.debug(`Firestore (${Lu}): ${n}`,...t)}}function zs(n,...e){if(rl.logLevel<=ct.ERROR){const t=e.map(gv);rl.error(`Firestore (${Lu}): ${n}`,...t)}}function Eu(n,...e){if(rl.logLevel<=ct.WARN){const t=e.map(gv);rl.warn(`Firestore (${Lu}): ${n}`,...t)}}function gv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(n="Unexpected state"){const e=`FIRESTORE (${Lu}) INTERNAL ASSERTION FAILED: `+n;throw zs(e),new Error(e)}function Jt(n,e){n||et()}function wt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends Ks{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(si.UNAUTHENTICATED))}shutdown(){}}class B4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class V4{constructor(e){this.t=e,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Jt(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Jo;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Jo,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Jo)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Jt(typeof i.accessToken=="string"),new QS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new si(e)}}class U4{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=si.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class F4{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new U4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,hr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Jt(this.o===void 0);const i=l=>{l.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new XT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Jt(typeof t.token=="string"),this.R=t.token,new XT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=G4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Et(n,e){return n<e?-1:n>e?1:0}function wu(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=-62135596800,$T=1e6;class Ri{static now(){return Ri.fromMillis(Date.now())}static fromDate(e){return Ri.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*$T);return new Ri(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ZT)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$T}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ZT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Ri(0,0))}static max(){return new He(new Ri(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="__name__";class es{constructor(e,t,i){t===void 0?t=0:t>e.length&&et(),i===void 0?i=e.length-t:i>e.length-t&&et(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=es.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=es.isNumericId(e),a=es.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?es.extractNumericId(e).compare(es.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wa.fromString(e.substring(4,e.length-2))}}class tn extends es{construct(e,t,i){return new tn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Be(Ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const j4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pi extends es{construct(e,t,i){return new pi(e,t,i)}static isValidIdentifier(e){return j4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eA}static keyField(){return new pi([eA])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Be(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Be(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Be(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new Be(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pi(t)}static emptyPath(){return new pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(tn.fromString(e))}static fromName(e){return new Ve(tn.fromString(e).popFirst(5))}static empty(){return new Ve(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new tn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=-1;function Y4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=He.fromTimestamp(i===1e9?new Ri(t+1,0):new Ri(t,i));return new to(a,Ve.empty(),e)}function H4(n){return new to(n.readTime,n.key,Th)}class to{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new to(He.min(),Ve.empty(),Th)}static max(){return new to(He.max(),Ve.empty(),Th)}}function z4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ve.comparator(n.documentKey,e.documentKey),t!==0?t:Et(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==Q4)throw n;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,i)=>{t(e)})}static reject(e){return new ce((t,i)=>{i(e)})}static waitFor(e){return new ce((t,i)=>{let a=0,l=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++l,u&&l===a&&t()},p=>i(p))}),u=!0,l===a&&t()})}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next(a=>a?ce.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ce((i,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(_=>{u[m]=_,++f,f===l&&i(u)},_=>a(_))}})}static doWhile(e,t){return new ce((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function W4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Lp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=-1;function Bp(n){return n==null}function Yy(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="";function X4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tA(e)),e=Z4(n.get(t),e);return tA(e)}function Z4(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case WS:t+="";break;default:t+=l}}return t}function tA(n){return n+WS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new hn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Wn.RED,this.left=a??Wn.EMPTY,this.right=l??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Wn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Wn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(e,t,i,a,l){return this}insert(e,t,i){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iA(this.data.getIterator())}getIteratorFrom(e){return new iA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xn(this.comparator);return t.data=e,t}}class iA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.fields=e,e.sort(pi.comparator)}static empty(){return new Ga([])}unionWith(e){let t=new xn(pi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ga(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new JS("Invalid base64 string: "+l):l}}(e);return new Zn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new Zn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const eL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(n){if(Jt(!!n),typeof n=="string"){let e=0;const t=eL.exec(n);if(Jt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:cn(n.seconds),nanos:cn(n.nanos)}}function cn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function io(n){return typeof n=="string"?Zn.fromBase64String(n):Zn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="server_timestamp",ZS="__type__",$S="__previous_value__",eR="__local_write_time__";function yv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZS])===null||t===void 0?void 0:t.stringValue)===XS}function Vp(n){const e=n.mapValue.fields[$S];return yv(e)?Vp(e):e}function Ah(n){const e=no(n.mapValue.fields[eR].timestampValue);return new Ri(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,t,i,a,l,u,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const tp="(default)";class Ch{constructor(e,t){this.projectId=e,this.database=t||tp}static empty(){return new Ch("","")}get isDefaultDatabase(){return this.database===tp}isEqual(e){return e instanceof Ch&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="__type__",iL="__max__",ld={mapValue:{}},rL="__vector__",Hy="value";function ro(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yv(n)?4:aL(n)?9007199254740991:sL(n)?10:11:et()}function ls(n,e){if(n===e)return!0;const t=ro(n);if(t!==ro(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ah(n).isEqual(Ah(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=no(a.timestampValue),f=no(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return io(a.bytesValue).isEqual(io(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return cn(a.geoPointValue.latitude)===cn(l.geoPointValue.latitude)&&cn(a.geoPointValue.longitude)===cn(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return cn(a.integerValue)===cn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=cn(a.doubleValue),f=cn(l.doubleValue);return u===f?Yy(u)===Yy(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return wu(n.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(nA(u)!==nA(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!ls(u[p],f[p])))return!1;return!0}(n,e);default:return et()}}function bh(n,e){return(n.values||[]).find(t=>ls(t,e))!==void 0}function Tu(n,e){if(n===e)return 0;const t=ro(n),i=ro(e);if(t!==i)return Et(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Et(n.booleanValue,e.booleanValue);case 2:return function(l,u){const f=cn(l.integerValue||l.doubleValue),p=cn(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return rA(n.timestampValue,e.timestampValue);case 4:return rA(Ah(n),Ah(e));case 5:return Et(n.stringValue,e.stringValue);case 6:return function(l,u){const f=io(l),p=io(u);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),p=u.split("/");for(let m=0;m<f.length&&m<p.length;m++){const _=Et(f[m],p[m]);if(_!==0)return _}return Et(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const f=Et(cn(l.latitude),cn(u.latitude));return f!==0?f:Et(cn(l.longitude),cn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sA(n.arrayValue,e.arrayValue);case 10:return function(l,u){var f,p,m,_;const T=l.fields||{},C=u.fields||{},b=(f=T[Hy])===null||f===void 0?void 0:f.arrayValue,R=(p=C[Hy])===null||p===void 0?void 0:p.arrayValue,B=Et(((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return B!==0?B:sA(b,R)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===ld.mapValue&&u===ld.mapValue)return 0;if(l===ld.mapValue)return 1;if(u===ld.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=u.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const C=Et(p[T],_[T]);if(C!==0)return C;const b=Tu(f[p[T]],m[_[T]]);if(b!==0)return b}return Et(p.length,_.length)}(n.mapValue,e.mapValue);default:throw et()}}function rA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Et(n,e);const t=no(n),i=no(e),a=Et(t.seconds,i.seconds);return a!==0?a:Et(t.nanos,i.nanos)}function sA(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Tu(t[a],i[a]);if(l)return l}return Et(t.length,i.length)}function Au(n){return zy(n)}function zy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=no(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return io(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=zy(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${zy(t.fields[u])}`;return a+"}"}(n.mapValue):et()}function Cd(n){switch(ro(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vp(n);return e?16+Cd(e):16;case 5:return 2*n.stringValue.length;case 6:return io(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Cd(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Gh(i.fields,(l,u)=>{a+=l.length+Cd(u)}),a}(n.mapValue);default:throw et()}}function Qy(n){return!!n&&"integerValue"in n}function _v(n){return!!n&&"arrayValue"in n}function aA(n){return!!n&&"nullValue"in n}function oA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ly(n){return!!n&&"mapValue"in n}function sL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nL])===null||t===void 0?void 0:t.stringValue)===rL}function rh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gh(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=rh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.value=e}static empty(){return new ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ly(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(t)}setAll(e){let t=pi.emptyPath(),i={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=f.popLast()}u?i[f.lastSegment()]=rh(u):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());ly(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];ly(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Gh(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new ts(rh(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,t,i,a,l,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new ai(e,0,He.min(),He.min(),He.min(),ts.empty(),0)}static newFoundDocument(e,t,i,a){return new ai(e,1,t,He.min(),i,a,0)}static newNoDocument(e,t){return new ai(e,2,t,He.min(),He.min(),ts.empty(),0)}static newUnknownDocument(e,t){return new ai(e,3,t,He.min(),He.min(),ts.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){this.position=e,this.inclusive=t}}function lA(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?i=Ve.comparator(Ve.fromName(u.referenceValue),t.key):i=Tu(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function uA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ls(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t="asc"){this.field=e,this.dir=t}}function oL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{}class On extends tR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new uL(e,t,i):t==="array-contains"?new fL(e,i):t==="in"?new dL(e,i):t==="not-in"?new pL(e,i):t==="array-contains-any"?new mL(e,i):new On(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new cL(e,i):new hL(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Tu(t,this.value)):t!==null&&ro(this.value)===ro(t)&&this.matchesComparison(Tu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends tR{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new us(e,t)}matches(e){return nR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nR(n){return n.op==="and"}function iR(n){return lL(n)&&nR(n)}function lL(n){for(const e of n.filters)if(e instanceof us)return!1;return!0}function Ky(n){if(n instanceof On)return n.field.canonicalString()+n.op.toString()+Au(n.value);if(iR(n))return n.filters.map(e=>Ky(e)).join(",");{const e=n.filters.map(t=>Ky(t)).join(",");return`${n.op}(${e})`}}function rR(n,e){return n instanceof On?function(i,a){return a instanceof On&&i.op===a.op&&i.field.isEqual(a.field)&&ls(i.value,a.value)}(n,e):n instanceof us?function(i,a){return a instanceof us&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,f)=>l&&rR(u,a.filters[f]),!0):!1}(n,e):void et()}function sR(n){return n instanceof On?function(t){return`${t.field.canonicalString()} ${t.op} ${Au(t.value)}`}(n):n instanceof us?function(t){return t.op.toString()+" {"+t.getFilters().map(sR).join(" ,")+"}"}(n):"Filter"}class uL extends On{constructor(e,t,i){super(e,t,i),this.key=Ve.fromName(i.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class cL extends On{constructor(e,t){super(e,"in",t),this.keys=aR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hL extends On{constructor(e,t){super(e,"not-in",t),this.keys=aR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ve.fromName(i.referenceValue))}class fL extends On{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _v(t)&&bh(t.arrayValue,this.value)}}class dL extends On{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bh(this.value.arrayValue,t)}}class pL extends On{constructor(e,t){super(e,"not-in",t)}matches(e){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!bh(this.value.arrayValue,t)}}class mL extends On{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_v(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>bh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,t=null,i=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.le=null}}function cA(n,e=null,t=[],i=[],a=null,l=null,u=null){return new gL(n,e,t,i,a,l,u)}function vv(n){const e=wt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ky(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Bp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Au(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Au(i)).join(",")),e.le=t}return e.le}function Ev(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uA(n.startAt,e.startAt)&&uA(n.endAt,e.endAt)}function Wy(n){return Ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t=null,i=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yL(n,e,t,i,a,l,u,f){return new Up(n,e,t,i,a,l,u,f)}function wv(n){return new Up(n)}function hA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _L(n){return n.collectionGroup!==null}function sh(n){const e=wt(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new xn(pi.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new ip(l,i))}),t.has(pi.keyField().canonicalString())||e.he.push(new ip(pi.keyField(),i))}return e.he}function as(n){const e=wt(n);return e.Pe||(e.Pe=vL(e,sh(n))),e.Pe}function vL(n,e){if(n.limitType==="F")return cA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new ip(a.field,l)});const t=n.endAt?new np(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new np(n.startAt.position,n.startAt.inclusive):null;return cA(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Jy(n,e,t){return new Up(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fp(n,e){return Ev(as(n),as(e))&&n.limitType===e.limitType}function oR(n){return`${vv(as(n))}|lt:${n.limitType}`}function tu(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>sR(a)).join(", ")}]`),Bp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Au(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Au(a)).join(",")),`Target(${i})`}(as(n))}; limitType=${n.limitType})`}function qp(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of sh(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(u,f,p){const m=lA(u,f,p);return u.inclusive?m<=0:m<0}(i.startAt,sh(i),a)||i.endAt&&!function(u,f,p){const m=lA(u,f,p);return u.inclusive?m>=0:m>0}(i.endAt,sh(i),a))}(n,e)}function EL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lR(n){return(e,t)=>{let i=!1;for(const a of sh(n)){const l=wL(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function wL(n,e,t){const i=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(l,u,f){const p=u.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Tu(p,m):et()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gh(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return $4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=new hn(Ve.comparator);function so(){return TL}const uR=new hn(Ve.comparator);function Wc(...n){let e=uR;for(const t of n)e=e.insert(t.key,t);return e}function AL(n){let e=uR;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ko(){return ah()}function cR(){return ah()}function ah(){return new cl(n=>n.toString(),(n,e)=>n.isEqual(e))}const CL=new xn(Ve.comparator);function At(...n){let e=CL;for(const t of n)e=e.add(t);return e}const bL=new xn(Et);function SL(){return bL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yy(e)?"-0":e}}function IL(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this._=void 0}}function DL(n,e,t){return n instanceof Xy?function(a,l){const u={fields:{[ZS]:{stringValue:XS},[eR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&yv(l)&&(l=Vp(l)),l&&(u.fields[$S]=l),{mapValue:u}}(t,e):n instanceof rp?hR(n,e):n instanceof sp?fR(n,e):function(a,l){const u=ML(a,l),f=fA(u)+fA(a.Ie);return Qy(u)&&Qy(a.Ie)?IL(f):RL(a.serializer,f)}(n,e)}function NL(n,e,t){return n instanceof rp?hR(n,e):n instanceof sp?fR(n,e):t}function ML(n,e){return n instanceof Zy?function(i){return Qy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Xy extends Gp{}class rp extends Gp{constructor(e){super(),this.elements=e}}function hR(n,e){const t=dR(e);for(const i of n.elements)t.some(a=>ls(a,i))||t.push(i);return{arrayValue:{values:t}}}class sp extends Gp{constructor(e){super(),this.elements=e}}function fR(n,e){let t=dR(e);for(const i of n.elements)t=t.filter(a=>!ls(a,i));return{arrayValue:{values:t}}}class Zy extends Gp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function fA(n){return cn(n.integerValue||n.doubleValue)}function dR(n){return _v(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function OL(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof rp&&a instanceof rp||i instanceof sp&&a instanceof sp?wu(i.elements,a.elements,ls):i instanceof Zy&&a instanceof Zy?ls(i.Ie,a.Ie):i instanceof Xy&&a instanceof Xy}(n.transform,e.transform)}class Xo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xo}static exists(e){return new Xo(void 0,e)}static updateTime(e){return new Xo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Tv{}function pR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kL(n.key,Xo.none()):new Av(n.key,n.data,Xo.none());{const t=n.data,i=ts.empty();let a=new xn(pi.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new jp(n.key,i,new Ga(a.toArray()),Xo.none())}}function xL(n,e,t){n instanceof Av?function(a,l,u){const f=a.value.clone(),p=pA(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof jp?function(a,l,u){if(!bd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=pA(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(mR(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function oh(n,e,t,i){return n instanceof Av?function(l,u,f,p){if(!bd(l.precondition,u))return f;const m=l.value.clone(),_=mA(l.fieldTransforms,p,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof jp?function(l,u,f,p){if(!bd(l.precondition,u))return f;const m=mA(l.fieldTransforms,p,u),_=u.data;return _.setAll(mR(l)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,u,f){return bd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function dA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&wu(i,a,(l,u)=>OL(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Av extends Tv{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class jp extends Tv{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function mR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function pA(n,e,t){const i=new Map;Jt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,f=e.data.field(l.field);i.set(l.field,NL(u,f,t[a]))}return i}function mA(n,e,t){const i=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);i.set(a.field,DL(l,u,e))}return i}class kL extends Tv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&xL(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=oh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=oh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=cR();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(a.key)?null:f;const p=pR(u,f);p!==null&&i.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(He.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),At())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,(t,i)=>dA(t,i))&&wu(this.baseMutations,e.baseMutations,(t,i)=>dA(t,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,vt;function gR(n){if(n===void 0)return zs("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case wn.OK:return Ce.OK;case wn.CANCELLED:return Ce.CANCELLED;case wn.UNKNOWN:return Ce.UNKNOWN;case wn.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case wn.INTERNAL:return Ce.INTERNAL;case wn.UNAVAILABLE:return Ce.UNAVAILABLE;case wn.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case wn.NOT_FOUND:return Ce.NOT_FOUND;case wn.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case wn.ABORTED:return Ce.ABORTED;case wn.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case wn.DATA_LOSS:return Ce.DATA_LOSS;default:return et()}}(vt=wn||(wn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=new Wa([4294967295,4294967295],0);function gA(n){const e=VL().encode(n),t=new qS;return t.update(e),new Uint8Array(t.digest())}function yA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Wa([t,i],0),new Wa([a,l],0)]}class Cv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Jc(`Invalid padding: ${t}`);if(i<0)throw new Jc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Wa.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(Wa.fromNumber(i)));return a.compare(UL)===1&&(a=new Wa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=gA(e),[i,a]=yA(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,a,l);if(!this.Re(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Cv(l,a,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=gA(e),[i,a]=yA(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,a,l);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,jh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Yp(He.min(),a,new hn(Et),so(),At())}}class jh{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new jh(i,t,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class yR{constructor(e,t){this.targetId=e,this.ge=t}}class _R{constructor(e,t,i=Zn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class _A{constructor(){this.pe=0,this.ye=vA(),this.we=Zn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=At(),t=At(),i=At();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:et()}}),new jh(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=vA()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class FL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=so(),this.$e=ud(),this.Ke=ud(),this.Ue=new hn(Et)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Wy(l))if(i===0){const u=new Ve(l.path);this.ze(t,u,ai.newNoDocument(u,He.min()))}else Jt(i===1);else{const u=this.et(t);if(u!==i){const f=this.tt(e),p=f?this.nt(f,e,u):1;if(p!==0){this.Ye(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let u,f;try{u=io(i).toUint8Array()}catch(p){if(p instanceof JS)return Eu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Cv(u,a,l)}catch(p){return Eu(p instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,u)=>{const f=this.Xe(u);if(f){if(l.current&&Wy(f.target)){const p=new Ve(f.target.path);this._t(p).has(u)||this.ut(u,p)||this.ze(u,p,ai.newNoDocument(p,e))}l.ve&&(t.set(u,l.Fe()),l.Me())}});let i=At();this.Ke.forEach((l,u)=>{let f=!0;u.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const a=new Yp(e,t,this.Ue,this.Qe,i);return this.Qe=so(),this.$e=ud(),this.Ke=ud(),this.Ue=new hn(Et),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new _A,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new xn(Et),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new xn(Et),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _A),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ud(){return new hn(Ve.comparator)}function vA(){return new hn(Ve.comparator)}const qL={asc:"ASCENDING",desc:"DESCENDING"},GL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jL={and:"AND",or:"OR"};class YL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $y(n,e){return n.useProto3Json||Bp(e)?e:{value:e}}function HL(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hu(n){return Jt(!!n),He.fromTimestamp(function(t){const i=no(t);return new Ri(i.seconds,i.nanos)}(n))}function QL(n,e){return e_(n,e).canonicalString()}function e_(n,e){const t=function(a){return new tn(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function vR(n){const e=tn.fromString(n);return Jt(CR(e)),e}function uy(n,e){const t=vR(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve(wR(t))}function ER(n,e){return QL(n.databaseId,e)}function KL(n){const e=vR(n);return e.length===4?tn.emptyPath():wR(e)}function EA(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wR(n){return Jt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function WL(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:et()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,_){return m.useProto3Json?(Jt(_===void 0||typeof _=="string"),Zn.fromBase64String(_||"")):(Jt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Zn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const _=m.code===void 0?Ce.UNKNOWN:gR(m.code);return new Be(_,m.message||"")}(u);t=new _R(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=uy(n,i.document.name),l=hu(i.document.updateTime),u=i.document.createTime?hu(i.document.createTime):He.min(),f=new ts({mapValue:{fields:i.document.fields}}),p=ai.newFoundDocument(a,l,u,f),m=i.targetIds||[],_=i.removedTargetIds||[];t=new Sd(m,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=uy(n,i.document),l=i.readTime?hu(i.readTime):He.min(),u=ai.newNoDocument(a,l),f=i.removedTargetIds||[];t=new Sd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=uy(n,i.document),l=i.removedTargetIds||[];t=new Sd([],l,a,null)}else{if(!("filter"in e))return et();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new BL(a,l),f=i.targetId;t=new yR(f,u)}}return t}function JL(n,e){return{documents:[ER(n,e.path)]}}function XL(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ER(n,a);const l=function(m){if(m.length!==0)return AR(us.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(m){if(m.length!==0)return m.map(_=>function(C){return{field:nu(C.field),direction:eB(C.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=$y(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:a}}function ZL(n){let e=KL(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Jt(i===1);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const C=TR(T);return C instanceof us&&iR(C)?C.getFilters():[C]}(t.where));let u=[];t.orderBy&&(u=function(T){return T.map(C=>function(R){return new ip(iu(R.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(C))}(t.orderBy));let f=null;t.limit&&(f=function(T){let C;return C=typeof T=="object"?T.value:T,Bp(C)?null:C}(t.limit));let p=null;t.startAt&&(p=function(T){const C=!!T.before,b=T.values||[];return new np(b,C)}(t.startAt));let m=null;return t.endAt&&(m=function(T){const C=!T.before,b=T.values||[];return new np(b,C)}(t.endAt)),yL(e,a,u,l,f,"F",p,m)}function $L(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function TR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=iu(t.unaryFilter.field);return On.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=iu(t.unaryFilter.field);return On.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=iu(t.unaryFilter.field);return On.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=iu(t.unaryFilter.field);return On.create(u,"!=",{nullValue:"NULL_VALUE"});default:return et()}}(n):n.fieldFilter!==void 0?function(t){return On.create(iu(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return us.create(t.compositeFilter.filters.map(i=>TR(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return et()}}(t.compositeFilter.op))}(n):et()}function eB(n){return qL[n]}function tB(n){return GL[n]}function nB(n){return jL[n]}function nu(n){return{fieldPath:n.canonicalString()}}function iu(n){return pi.fromServerFormat(n.fieldPath)}function AR(n){return n instanceof On?function(t){if(t.op==="=="){if(oA(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NAN"}};if(aA(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oA(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NOT_NAN"}};if(aA(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nu(t.field),op:tB(t.op),value:t.value}}}(n):n instanceof us?function(t){const i=t.getFilters().map(a=>AR(a));return i.length===1?i[0]:{compositeFilter:{op:nB(t.op),filters:i}}}(n):et()}function CR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t,i,a,l=He.min(),u=He.min(),f=Zn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.Tt=e}}function rB(n){const e=ZL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this.Tn=new aB}addToCollectionParentIndex(e,t){return this.Tn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(to.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(to.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class aB{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new xn(tn.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new xn(tn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bR=41943040;class Si{static withCacheSize(e){return new Si(e,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(bR,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Cu(0)}static Un(){return new Cu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="LruGarbageCollector",oB=1048576;function AA([n,e],[t,i]){const a=Et(n,t);return a===0?Et(e,i):a}class lB{constructor(e){this.Hn=e,this.buffer=new xn(AA),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();AA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uB{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Re(TA,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bu(t)?Re(TA,"Ignoring IndexedDB error during garbage collection: ",t):await Pp(t)}await this.er(3e5)})}}class cB{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Lp.ae);const i=new lB(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(wA)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wA):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,u,f,p,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,u=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(i=T,f=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(m=Date.now(),eu()<=ct.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function hB(n,e){return new cB(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this.changes=new cl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&oh(i.mutation,a,Ga.empty(),Ri.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,At()).next(()=>i))}getLocalViewOfDocuments(e,t,i=At()){const a=Ko();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let u=Wc();return l.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ko();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,At()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,a){let l=so();const u=ah(),f=function(){return ah()}();return t.forEach((p,m)=>{const _=i.get(m.key);a.has(m.key)&&(_===void 0||_.mutation instanceof jp)?l=l.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),oh(_.mutation,m,_.mutation.getFieldMask(),Ri.now())):u.set(m.key,Ga.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,_)=>u.set(m,_)),t.forEach((m,_)=>{var T;return f.set(m,new dB(_,(T=u.get(m))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const i=ah();let a=new hn((u,f)=>u-f),l=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let _=i.get(p)||Ga.empty();_=f.applyToLocalView(m,_),i.set(p,_);const T=(a.get(f.batchId)||At()).add(p);a=a.insert(f.batchId,T)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,_=p.value,T=cR();_.forEach(C=>{if(!l.has(C)){const b=pR(t.get(C),i.get(C));b!==null&&T.set(C,b),l=l.add(C)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,T))}return ce.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(u){return Ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_L(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ce.resolve(Ko());let f=Th,p=l;return u.next(m=>ce.forEach(m,(_,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(_)?ce.resolve():this.remoteDocumentCache.getEntry(e,_).next(C=>{p=p.insert(_,C)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,At())).next(_=>({batchId:f,changes:AL(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(i=>{let a=Wc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let u=Wc();return this.indexManager.getCollectionParents(e,l).next(f=>ce.forEach(f,p=>{const m=function(T,C){return new Up(C,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(_=>{_.forEach((T,C)=>{u=u.insert(T,C)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(u=>{l.forEach((p,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,ai.newInvalidDocument(_)))});let f=Wc();return u.forEach((p,m)=>{const _=l.get(p);_!==void 0&&oh(_.mutation,m,Ga.empty(),Ri.now()),qp(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ce.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:hu(a.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:rB(a.bundledQuery),readTime:hu(a.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.overlays=new hn(Ve.comparator),this.Rr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ko();return ce.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),ce.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const a=Ko(),l=t.length+1,u=new Ve(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new hn((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let _=l.get(m.largestBatchId);_===null&&(_=Ko(),l=l.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const f=Ko(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,_)=>f.set(m,_)),!(f.size()>=a)););return ce.resolve(f)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new LL(t,i));let l=this.Rr.get(t);l===void 0&&(l=At(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.Vr=new xn(Fn.mr),this.gr=new xn(Fn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Fn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Fn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Ve(new tn([])),i=new Fn(t,e),a=new Fn(t,e+1),l=[];return this.gr.forEachInRange([i,a],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ve(new tn([])),i=new Fn(t,e),a=new Fn(t,e+1);let l=At();return this.gr.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Fn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Fn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ve.comparator(e.key,t.key)||Et(e.Cr,t.Cr)}static pr(e,t){return Et(e.Cr,t.Cr)||Ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new xn(Fn.mr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new PL(l,t,i,a);this.mutationQueue.push(u);for(const f of a)this.Mr=this.Mr.add(new Fn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?J4:this.Fr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Fn(t,0),a=new Fn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],u=>{const f=this.Or(u.Cr);l.push(f)}),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new xn(Et);return t.forEach(a=>{const l=new Fn(a,0),u=new Fn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],f=>{i=i.add(f.Cr)})}),ce.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ve.isDocumentKey(l)||(l=l.child(""));const u=new Fn(new Ve(l),0);let f=new xn(Et);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Cr)),!0)},u),ce.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Jt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ce.forEach(t.mutations,a=>{const l=new Fn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Fn(t,0),a=this.Mr.firstAfterOrEqual(i);return ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.kr=e,this.docs=function(){return new hn(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():ai.newInvalidDocument(t))}getEntries(e,t){let i=so();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():ai.newInvalidDocument(a))}),ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=so();const u=t.path,f=new Ve(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||z4(H4(_),i)<=0||(a.has(_.key)||qp(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,i,a){et()}qr(e,t){return ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new EB(this)}getSize(e){return ce.resolve(this.size)}}class EB extends fB{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ce.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.persistence=e,this.Qr=new cl(t=>vv(t),Ev),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.$r=0,this.Kr=new bv,this.targetCount=0,this.Ur=Cu.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ce.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Cu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.zn(t),ce.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ce.waitFor(l).next(()=>a)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Lp(0),this.zr=!1,this.zr=!0,this.jr=new yB,this.referenceDelegate=e(this),this.Hr=new wB(this),this.indexManager=new sB,this.remoteDocumentCache=function(a){return new vB(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new iB(t),this.Yr=new mB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new _B(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Re("MemoryPersistence","Starting transaction:",e);const a=new TB(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ce.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class TB extends K4{constructor(e){super(),this.currentSequenceNumber=e}}class Sv{constructor(e){this.persistence=e,this.ti=new bv,this.ni=null}static ri(e){return new Sv(e)}get ii(){if(this.ni)return this.ni;throw et()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ce.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.ii,i=>{const a=Ve.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,He.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ce.or([()=>ce.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class ap{constructor(e,t){this.persistence=e,this.oi=new cl(i=>X4(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=hB(this,t)}static ri(e,t){return new ap(e,t)}Zr(){}Xr(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ce.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ce.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,t).next(f=>{f||(i++,l.removeEntry(u,He.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ce.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cd(e.data.value)),t}ar(e,t,i){return ce.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ce.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=At(),a=At();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Rv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return GN()?8:W4(li())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new AB;return this._s(e,t,u).next(f=>{if(l.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(eu()<=ct.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ce.resolve()):(eu()<=ct.DEBUG&&Re("QueryEngine","Query:",tu(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(eu()<=ct.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(t))):ce.resolve())}rs(e,t){if(hA(t))return ce.resolve(null);let i=as(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Jy(t,null,"F"),i=as(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=At(...l);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.cs(t,f);return this.ls(t,m,u,p.readTime)?this.rs(e,Jy(t,null,"F")):this.hs(e,m,t,p)}))})))}ss(e,t,i,a){return hA(t)||a.isEqual(He.min())?ce.resolve(null):this.ns.getDocuments(e,i).next(l=>{const u=this.cs(t,l);return this.ls(t,u,i,a)?ce.resolve(null):(eu()<=ct.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),tu(t)),this.hs(e,u,t,Y4(a,Th)).next(f=>f))})}cs(e,t){let i=new xn(lR(e));return t.forEach((a,l)=>{qp(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return eu()<=ct.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",tu(t)),this.ns.getDocumentsMatchingQuery(e,t,to.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="LocalStore",bB=3e8;class SB{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new hn(Et),this.Is=new cl(l=>vv(l),Ev),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pB(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function RB(n,e,t,i){return new SB(n,e,t,i)}async function RR(n,e){const t=wt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],f=[];let p=At();for(const m of a){u.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of l){f.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function IR(n){const e=wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function IB(n,e){const t=wt(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const f=[];e.targetChanges.forEach((_,T)=>{const C=a.get(T);if(!C)return;f.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,T)));let b=C.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?b=b.withResumeToken(Zn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,i)),a=a.insert(T,b),function(B,O,x){return B.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=bB?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(C,b,_)&&f.push(t.Hr.updateTargetData(l,b))});let p=so(),m=At();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(DB(l,u,e.documentUpdates).next(_=>{p=_.Vs,m=_.fs})),!i.isEqual(He.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return ce.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Ts=a,l))}function DB(n,e,t){let i=At(),a=At();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=so();return t.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(He.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):Re(Iv,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:u,fs:a}})}function NB(n,e){const t=wt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,ce.resolve(a)):t.Hr.allocateTargetId(i).next(u=>(a=new ja(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function t_(n,e,t){const i=wt(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Bu(u))throw u;Re(Iv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function CA(n,e,t){const i=wt(n);let a=He.min(),l=At();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,m,_){const T=wt(p),C=T.Is.get(_);return C!==void 0?ce.resolve(T.Ts.get(C)):T.Hr.getTargetData(m,_)}(i,u,as(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,f.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?a:He.min(),t?l:At())).next(f=>(MB(i,EL(e),f),{documents:f,gs:l})))}function MB(n,e,t){let i=n.Es.get(e)||He.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class bA{constructor(){this.activeTargetIds=SL()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OB{constructor(){this.ho=new bA,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new bA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="ConnectivityMonitor";class RA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Re(SA,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Re(SA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd=null;function n_(){return cd===null?cd=function(){return 268435456+Math.round(2147483648*Math.random())}():cd++,"0x"+cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="RestConnection",kB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===tp?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,t,i,a,l){const u=n_(),f=this.bo(e,t.toUriEncodedString());Re(cy,`Sending RPC '${e}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,f,p,i).then(m=>(Re(cy,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Eu(cy,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",i),m})}Co(e,t,i,a,l,u){return this.So(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const i=kB[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="WebChannelConnection";class BB extends PB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=n_();return new Promise((u,f)=>{const p=new GS;p.setWithCredentials(!0),p.listenOnce(jS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ad.NO_ERROR:const _=p.getResponseJson();Re(ri,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case Ad.TIMEOUT:Re(ri,`RPC '${e}' ${l} timed out`),f(new Be(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const T=p.getStatus();if(Re(ri,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const b=C==null?void 0:C.error;if(b&&b.status&&b.message){const R=function(O){const x=O.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(x)>=0?x:Ce.UNKNOWN}(b.status);f(new Be(R,b.message))}else f(new Be(Ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Be(Ce.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Re(ri,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);Re(ri,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",m,i,15)})}Wo(e,t,i){const a=n_(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=zS(),f=HS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");Re(ri,`Creating RPC '${e}' stream ${a}: ${_}`,p);const T=u.createWebChannel(_,p);let C=!1,b=!1;const R=new LB({Fo:O=>{b?Re(ri,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(C||(Re(ri,`Opening RPC '${e}' stream ${a} transport.`),T.open(),C=!0),Re(ri,`RPC '${e}' stream ${a} sending:`,O),T.send(O))},Mo:()=>T.close()}),B=(O,x,L)=>{O.listen(x,j=>{try{L(j)}catch(te){setTimeout(()=>{throw te},0)}})};return B(T,Kc.EventType.OPEN,()=>{b||(Re(ri,`RPC '${e}' stream ${a} transport opened.`),R.Qo())}),B(T,Kc.EventType.CLOSE,()=>{b||(b=!0,Re(ri,`RPC '${e}' stream ${a} transport closed`),R.Ko())}),B(T,Kc.EventType.ERROR,O=>{b||(b=!0,Eu(ri,`RPC '${e}' stream ${a} transport errored:`,O),R.Ko(new Be(Ce.UNAVAILABLE,"The operation could not be completed")))}),B(T,Kc.EventType.MESSAGE,O=>{var x;if(!b){const L=O.data[0];Jt(!!L);const j=L,te=(j==null?void 0:j.error)||((x=j[0])===null||x===void 0?void 0:x.error);if(te){Re(ri,`RPC '${e}' stream ${a} received error:`,te);const se=te.status;let pe=function(N){const V=wn[N];if(V!==void 0)return gR(V)}(se),P=te.message;pe===void 0&&(pe=Ce.INTERNAL,P="Unknown error status: "+se+" with message "+te.message),b=!0,R.Ko(new Be(pe,P)),T.close()}else Re(ri,`RPC '${e}' stream ${a} received:`,L),R.Uo(L)}}),B(f,YS.STAT_EVENT,O=>{O.stat===jy.PROXY?Re(ri,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===jy.NOPROXY&&Re(ri,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(n){return new YL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="PersistentStream";class VB{constructor(e,t,i,a,l,u,f,p){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new NR(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(zs(t.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new Be(Ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Re(IA,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Re(IA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UB extends VB{constructor(e,t,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=WL(this.serializer,e),i=function(l){if(!("targetChange"in l))return He.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?He.min():u.readTime?hu(u.readTime):He.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=EA(this.serializer),t.addTarget=function(l,u){let f;const p=u.target;if(f=Wy(p)?{documents:JL(l,p)}:{query:XL(l,p).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=zL(l,u.resumeToken);const m=$y(l,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(He.min())>0){f.readTime=HL(l,u.snapshotVersion.toTimestamp());const m=$y(l,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=$L(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=EA(this.serializer),t.removeTarget=e,this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{}class qB extends FB{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Be(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.So(e,e_(t,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Be(Ce.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,e_(t,i),a,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Be(Ce.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class GB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zs(t),this.N_=!1):Re("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="RemoteStore";class jB{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{i.enqueueAndForget(async()=>{Hh(this)&&(Re(bu,"Restarting streams for network reachability change."),await async function(p){const m=wt(p);m.W_.add(4),await Yh(m),m.j_.set("Unknown"),m.W_.delete(4),await Hp(m)}(this))})}),this.j_=new GB(i,a)}}async function Hp(n){if(Hh(n))for(const e of n.G_)await e(!0)}async function Yh(n){for(const e of n.G_)await e(!1)}function MR(n,e){const t=wt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Ov(t)?Mv(t):Vu(t).c_()&&Nv(t,e))}function Dv(n,e){const t=wt(n),i=Vu(t);t.U_.delete(e),i.c_()&&OR(t,e),t.U_.size===0&&(i.c_()?i.P_():Hh(t)&&t.j_.set("Unknown"))}function Nv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vu(n).y_(e)}function OR(n,e){n.H_.Ne(e),Vu(n).w_(e)}function Mv(n){n.H_=new FL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Vu(n).start(),n.j_.B_()}function Ov(n){return Hh(n)&&!Vu(n).u_()&&n.U_.size>0}function Hh(n){return wt(n).W_.size===0}function xR(n){n.H_=void 0}async function YB(n){n.j_.set("Online")}async function HB(n){n.U_.forEach((e,t)=>{Nv(n,e)})}async function zB(n,e){xR(n),Ov(n)?(n.j_.q_(e),Mv(n)):n.j_.set("Unknown")}async function QB(n,e,t){if(n.j_.set("Online"),e instanceof _R&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const f of l.targetIds)a.U_.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.U_.delete(f),a.H_.removeTarget(f))}(n,e)}catch(i){Re(bu,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await DA(n,i)}else if(e instanceof Sd?n.H_.We(e):e instanceof yR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(He.min()))try{const i=await IR(n.localStore);t.compareTo(i)>=0&&await function(l,u){const f=l.H_.ot(u);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(m);_&&l.U_.set(m,_.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,m)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(Zn.EMPTY_BYTE_STRING,_.snapshotVersion)),OR(l,p);const T=new ja(_.target,p,m,_.sequenceNumber);Nv(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){Re(bu,"Failed to raise snapshot:",i),await DA(n,i)}}async function DA(n,e,t){if(!Bu(e))throw e;n.W_.add(1),await Yh(n),n.j_.set("Offline"),t||(t=()=>IR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Re(bu,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Hp(n)})}async function NA(n,e){const t=wt(n);t.asyncQueue.verifyOperationInProgress(),Re(bu,"RemoteStore received new credentials");const i=Hh(t);t.W_.add(3),await Yh(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Hp(t)}async function KB(n,e){const t=wt(n);e?(t.W_.delete(2),await Hp(t)):e||(t.W_.add(2),await Yh(t),t.j_.set("Unknown"))}function Vu(n){return n.J_||(n.J_=function(t,i,a){const l=wt(t);return l.M_(),new UB(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:YB.bind(null,n),No:HB.bind(null,n),Lo:zB.bind(null,n),p_:QB.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Ov(n)?Mv(n):n.j_.set("Unknown")):(await n.J_.stop(),xR(n))})),n.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const u=Date.now()+i,f=new xv(e,t,u,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kR(n,e){if(zs("AsyncQueue",`${e}: ${n}`),Bu(n))return new Be(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{static emptySet(e){return new fu(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ve.comparator(t.key,i.key):(t,i)=>Ve.comparator(t.key,i.key),this.keyedMap=Wc(),this.sortedSet=new hn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new fu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.Z_=new hn(Ve.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):et():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Su{constructor(e,t,i,a,l,u,f,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Su(e,t,fu.emptySet(t),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class JB{constructor(){this.queries=OA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=wt(t),l=a.queries;a.queries=OA(),l.forEach((u,f)=>{for(const p of f.ta)p.onError(i)})})(this,new Be(Ce.ABORTED,"Firestore shutting down"))}}function OA(){return new cl(n=>oR(n),Fp)}async function XB(n,e){const t=wt(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new WB,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=kR(u,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&kv(t)}async function ZB(n,e){const t=wt(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function $B(n,e){const t=wt(n);let i=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const f of u.ta)f.oa(a)&&(i=!0);u.ea=a}}i&&kv(t)}function eV(n,e,t){const i=wt(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function kv(n){n.ia.forEach(e=>{e.next()})}var i_,xA;(xA=i_||(i_={}))._a="default",xA.Cache="cache";class tV{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Su(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==i_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.key=e}}class LR{constructor(e){this.key=e}}class nV{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=At(),this.mutatedKeys=At(),this.ya=lR(e),this.wa=new fu(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new MA,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,T)=>{const C=a.get(_),b=qp(this.query,T)?T:null,R=!!C&&this.mutatedKeys.has(C.key),B=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let O=!1;C&&b?C.data.isEqual(b.data)?R!==B&&(i.track({type:3,doc:b}),O=!0):this.va(C,b)||(i.track({type:2,doc:b}),O=!0,(p&&this.ya(b,p)>0||m&&this.ya(b,m)<0)&&(f=!0)):!C&&b?(i.track({type:0,doc:b}),O=!0):C&&!b&&(i.track({type:1,doc:C}),O=!0,(p||m)&&(f=!0)),O&&(b?(u=u.add(b),l=B?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{wa:u,Da:i,ls:f,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,T)=>function(b,R){const B=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return B(b)-B(R)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(i),a=a!=null&&a;const f=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,u.length!==0||m?{snapshot:new Su(this.query,e.wa,l,u,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new MA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=At(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new LR(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new PR(i))}),t}Oa(e){this.fa=e.gs,this.pa=At();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Su.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Pv="SyncEngine";class iV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class rV{constructor(e){this.key=e,this.Ba=!1}}class sV{constructor(e,t,i,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new cl(f=>oR(f),Fp),this.qa=new Map,this.Qa=new Set,this.$a=new hn(Ve.comparator),this.Ka=new Map,this.Ua=new bv,this.Wa={},this.Ga=new Map,this.za=Cu.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function aV(n,e,t=!0){const i=qR(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await BR(i,e,t,!0),a}async function oV(n,e){const t=qR(n);await BR(t,e,!0,!1)}async function BR(n,e,t,i){const a=await NB(n.localStore,as(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await lV(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&MR(n.remoteStore,a),f}async function lV(n,e,t,i,a){n.Ha=(T,C,b)=>async function(B,O,x,L){let j=O.view.ba(x);j.ls&&(j=await CA(B.localStore,O.query,!1).then(({documents:P})=>O.view.ba(P,j)));const te=L&&L.targetChanges.get(O.targetId),se=L&&L.targetMismatches.get(O.targetId)!=null,pe=O.view.applyChanges(j,B.isPrimaryClient,te,se);return PA(B,O.targetId,pe.Ma),pe.snapshot}(n,T,C,b);const l=await CA(n.localStore,e,!0),u=new nV(e,l.gs),f=u.ba(l.documents),p=jh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=u.applyChanges(f,n.isPrimaryClient,p);PA(n,t,m.Ma);const _=new iV(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function uV(n,e,t){const i=wt(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(u=>!Fp(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await t_(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Dv(i.remoteStore,a.targetId),r_(i,a.targetId)}).catch(Pp)):(r_(i,a.targetId),await t_(i.localStore,a.targetId,!0))}async function cV(n,e){const t=wt(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Dv(t.remoteStore,i.targetId))}async function VR(n,e){const t=wt(n);try{const i=await IB(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Ka.get(l);u&&(Jt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?Jt(u.Ba):a.removedDocuments.size>0&&(Jt(u.Ba),u.Ba=!1))}),await FR(t,i,e)}catch(i){await Pp(i)}}function kA(n,e,t){const i=wt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,u)=>{const f=u.view.sa(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const p=wt(u);p.onlineState=f;let m=!1;p.queries.forEach((_,T)=>{for(const C of T.ta)C.sa(f)&&(m=!0)}),m&&kv(p)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function hV(n,e,t){const i=wt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ka.get(e),l=a&&a.key;if(l){let u=new hn(Ve.comparator);u=u.insert(l,ai.newNoDocument(l,He.min()));const f=At().add(l),p=new Yp(He.min(),new Map,new hn(Et),u,f);await VR(i,p),i.$a=i.$a.remove(l),i.Ka.delete(e),Lv(i)}else await t_(i.localStore,e,!1).then(()=>r_(i,e,t)).catch(Pp)}function r_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||UR(n,i)})}function UR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Dv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Lv(n))}function PA(n,e,t){for(const i of t)i instanceof PR?(n.Ua.addReference(i.key,e),fV(n,i)):i instanceof LR?(Re(Pv,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||UR(n,i.key)):et()}function fV(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Re(Pv,"New document in limbo: "+t),n.Qa.add(i),Lv(n))}function Lv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ve(tn.fromString(e)),i=n.za.next();n.Ka.set(i,new rV(t)),n.$a=n.$a.insert(t,i),MR(n.remoteStore,new ja(as(wv(t.path)),i,"TargetPurposeLimboResolution",Lp.ae))}}async function FR(n,e,t){const i=wt(n),a=[],l=[],u=[];i.ka.isEmpty()||(i.ka.forEach((f,p)=>{u.push(i.Ha(p,e,t).then(m=>{var _;if((m||t)&&i.isPrimaryClient){const T=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(m){a.push(m);const T=Rv.Yi(p.targetId,m);l.push(T)}}))}),await Promise.all(u),i.La.p_(a),await async function(p,m){const _=wt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ce.forEach(m,C=>ce.forEach(C.Hi,b=>_.persistence.referenceDelegate.addReference(T,C.targetId,b)).next(()=>ce.forEach(C.Ji,b=>_.persistence.referenceDelegate.removeReference(T,C.targetId,b)))))}catch(T){if(!Bu(T))throw T;Re(Iv,"Failed to update sequence numbers: "+T)}for(const T of m){const C=T.targetId;if(!T.fromCache){const b=_.Ts.get(C),R=b.snapshotVersion,B=b.withLastLimboFreeSnapshotVersion(R);_.Ts=_.Ts.insert(C,B)}}}(i.localStore,l))}async function dV(n,e){const t=wt(n);if(!t.currentUser.isEqual(e)){Re(Pv,"User change. New user:",e.toKey());const i=await RR(t.localStore,e);t.currentUser=e,function(l,u){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Be(Ce.CANCELLED,u))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await FR(t,i.Rs)}}function pV(n,e){const t=wt(n),i=t.Ka.get(e);if(i&&i.Ba)return At().add(i.key);{let a=At();const l=t.qa.get(e);if(!l)return a;for(const u of l){const f=t.ka.get(u);a=a.unionWith(f.view.Sa)}return a}}function qR(n){const e=wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hV.bind(null,e),e.La.p_=$B.bind(null,e.eventManager),e.La.Ja=eV.bind(null,e.eventManager),e}class op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=DR(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return RB(this.persistence,new CB,e.initialUser,this.serializer)}Xa(e){return new SR(Sv.ri,this.serializer)}Za(e){return new OB}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}op.provider={build:()=>new op};class mV extends op{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Jt(this.persistence.referenceDelegate instanceof ap);const i=this.persistence.referenceDelegate.garbageCollector;return new uB(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new SR(i=>ap.ri(i,t),this.serializer)}}class s_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dV.bind(null,this.syncEngine),await KB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JB}()}createDatastore(e){const t=DR(e.databaseInfo.databaseId),i=function(l){return new BB(l)}(e.databaseInfo);return function(l,u,f,p){return new qB(l,u,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,u,f){return new jB(i,a,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>kA(this.syncEngine,t,0),function(){return RA.D()?new RA:new xB}())}createSyncEngine(e,t){return function(a,l,u,f,p,m,_){const T=new sV(a,l,u,f,p,m);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=wt(a);Re(bu,"RemoteStore shutting down."),l.W_.add(5),await Yh(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}s_.provider={build:()=>new s_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="FirestoreClient";class yV{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=si.UNAUTHENTICATED,this.clientId=KS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{Re(ao,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Re(ao,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=kR(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function fy(n,e){n.asyncQueue.verifyOperationInProgress(),Re(ao,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await RR(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function LA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _V(n);Re(ao,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>NA(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>NA(e.remoteStore,a)),n._onlineComponents=e}async function _V(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re(ao,"Using user provided OfflineComponentProvider");try{await fy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Ce.FAILED_PRECONDITION||a.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Eu("Error using user provided cache. Falling back to memory cache: "+t),await fy(n,new op)}}else Re(ao,"Using default OfflineComponentProvider"),await fy(n,new mV(void 0));return n._offlineComponents}async function vV(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re(ao,"Using user provided OnlineComponentProvider"),await LA(n,n._uninitializedComponentsProvider._online)):(Re(ao,"Using default OnlineComponentProvider"),await LA(n,new s_))),n._onlineComponents}async function EV(n){const e=await vV(n),t=e.eventManager;return t.onListen=aV.bind(null,e.syncEngine),t.onUnlisten=uV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cV.bind(null,e.syncEngine),t}function wV(n,e,t={}){const i=new Jo;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,p,m){const _=new gV({next:C=>{_.su(),u.enqueueAndForget(()=>ZB(l,T));const b=C.docs.has(f);!b&&C.fromCache?m.reject(new Be(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&C.fromCache&&p&&p.source==="server"?m.reject(new Be(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(C)},error:C=>m.reject(C)}),T=new tV(wv(f.path),_,{includeMetadataChanges:!0,Ta:!0});return XB(l,T)}(await EV(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(n,e,t){if(!t)throw new Be(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AV(n,e,t,i){if(e===!0&&i===!0)throw new Be(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VA(n){if(!Ve.isDocumentKey(n))throw new Be(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CV(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":et()}function a_(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CV(n);throw new Be(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firestore.googleapis.com",UA=!0;class FA{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jR,this.ssl=UA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:UA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oB)throw new Be(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Be(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Be(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Be(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bv{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FA(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new L4;switch(i.type){case"firstParty":return new F4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Be(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=BA.get(t);i&&(Re("ComponentProvider","Removing Datastore"),BA.delete(t),i.terminate())}(this),Promise.resolve()}}function bV(n,e,t,i={}){var a;const l=(n=a_(n,Bv))._getSettings(),u=`${e}:${t}`;if(l.host!==jR&&l.host!==u&&Eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=si.MOCK_USER;else{f=BC(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Be(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new si(m)}n._authCredentials=new B4(new QS(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vv(this.firestore,e,this._query)}}class Gs{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gs(this.firestore,e,this._key)}}class Sh extends Vv{constructor(e,t,i){super(e,t,wv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gs(this.firestore,null,new Ve(e))}withConverter(e){return new Sh(this.firestore,e,this._path)}}function SV(n,e,...t){if(n=$n(n),arguments.length===1&&(e=KS.newId()),TV("doc","path",e),n instanceof Bv){const i=tn.fromString(e,...t);return VA(i),new Gs(n,null,new Ve(i))}{if(!(n instanceof Gs||n instanceof Sh))throw new Be(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tn.fromString(e,...t));return VA(i),new Gs(n.firestore,n instanceof Sh?n.converter:null,new Ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="AsyncQueue";class GA{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new NR(this,"async_queue_retry"),this.Su=()=>{const i=hy();i&&Re(qA,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=hy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=hy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Jo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Bu(e))throw e;Re(qA,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw zs("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=xv.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&et()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class YR extends Bv{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new GA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GA(e),this._firestoreClient=void 0,await e}}}function RV(n,e){const t=b_(),i=tp,a=vp(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=kC("firestore");l&&bV(a,...l)}return a}function IV(n){if(n._terminated)throw new Be(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DV(n),n._firestoreClient}function DV(n){var e,t,i;const a=n._freezeSettings(),l=function(f,p,m,_){return new tL(f,p,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,GR(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new yV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lp(Zn.fromBase64String(e))}catch(t){throw new Be(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lp(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Be(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}const OV=new RegExp("[~\\*/\\[\\]]");function xV(n,e,t){if(e.search(OV)>=0)throw jA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new HR(...e.split("."))._internalPath}catch{throw jA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function jA(n,e,t,i,a){let l=`Function ${e}() called with invalid data`;l+=". ";let u="";return new Be(Ce.INVALID_ARGUMENT,l+n+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kV extends zR{data(){return super.data()}}function QR(n,e){return typeof e=="string"?xV(n,e):e instanceof HR?e._internalPath:e._delegate._internalPath}class PV{convertValue(e,t="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw et()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Gh(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Hy].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>cn(u.doubleValue));return new MV(l)}convertGeoPoint(e){return new NV(cn(e.latitude),cn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Vp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ah(e));default:return null}}convertTimestamp(e){const t=no(e);return new Ri(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=tn.fromString(e);Jt(CR(i));const a=new Ch(i.get(1),i.get(3)),l=new Ve(i.popFirst(5));return a.isEqual(t)||zs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KR extends zR{constructor(e,t,i,a,l,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new BV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(QR("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class BV extends KR{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(n){n=a_(n,Gs);const e=a_(n.firestore,YR);return wV(IV(e),n._key).then(t=>FV(e,n,t))}class UV extends PV{constructor(e){super(),this.firestore=e}convertBytes(e){return new lp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,t)}}function FV(n,e,t){const i=t.docs.get(e._key),a=new UV(n);return new KR(n,a,e._key,i,new LV(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Lu=a})(al),$o(new Xa("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new YR(new V4(i.getProvider("auth-internal")),new q4(u,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Be(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(m.options.projectId,_)}(u,a),u);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),is(WT,JT,e),is(WT,JT,"esm2017")})();const qV=RV(),GV=J.createContext({user:null,isAdmin:!1,loading:!0}),jV=({children:n})=>{const[e,t]=J.useState(null),[i,a]=J.useState(!1),[l,u]=J.useState(!0);return J.useEffect(()=>{const f=x_(FS,async p=>{if(t(p),p){const m=SV(qV,"admins",p.email),_=await VV(m);console.log("Admin Check:",_.exists()),a(_.exists())}else a(!1);u(!1)});return()=>f()},[]),fe.jsx(GV.Provider,{value:{user:e,isAdmin:i,loading:l},children:n})};function WR(n,e){return function(){return n.apply(e,arguments)}}const{toString:YV}=Object.prototype,{getPrototypeOf:Uv}=Object,zp=(n=>e=>{const t=YV.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),kr=n=>(n=n.toLowerCase(),e=>zp(e)===n),Qp=n=>e=>typeof e===n,{isArray:Uu}=Array,Rh=Qp("undefined");function HV(n){return n!==null&&!Rh(n)&&n.constructor!==null&&!Rh(n.constructor)&&zi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const JR=kr("ArrayBuffer");function zV(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&JR(n.buffer),e}const QV=Qp("string"),zi=Qp("function"),XR=Qp("number"),Kp=n=>n!==null&&typeof n=="object",KV=n=>n===!0||n===!1,Rd=n=>{if(zp(n)!=="object")return!1;const e=Uv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},WV=kr("Date"),JV=kr("File"),XV=kr("Blob"),ZV=kr("FileList"),$V=n=>Kp(n)&&zi(n.pipe),eU=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||zi(n.append)&&((e=zp(n))==="formdata"||e==="object"&&zi(n.toString)&&n.toString()==="[object FormData]"))},tU=kr("URLSearchParams"),[nU,iU,rU,sU]=["ReadableStream","Request","Response","Headers"].map(kr),aU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,a;if(typeof n!="object"&&(n=[n]),Uu(n))for(i=0,a=n.length;i<a;i++)e.call(null,n[i],i,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),u=l.length;let f;for(i=0;i<u;i++)f=l[i],e.call(null,n[f],f,n)}}function ZR(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const Wo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$R=n=>!Rh(n)&&n!==Wo;function o_(){const{caseless:n}=$R(this)&&this||{},e={},t=(i,a)=>{const l=n&&ZR(e,a)||a;Rd(e[l])&&Rd(i)?e[l]=o_(e[l],i):Rd(i)?e[l]=o_({},i):Uu(i)?e[l]=i.slice():e[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&zh(arguments[i],t);return e}const oU=(n,e,t,{allOwnKeys:i}={})=>(zh(e,(a,l)=>{t&&zi(a)?n[l]=WR(a,t):n[l]=a},{allOwnKeys:i}),n),lU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),uU=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},cU=(n,e,t,i)=>{let a,l,u;const f={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)u=a[l],(!i||i(u,n,e))&&!f[u]&&(e[u]=n[u],f[u]=!0);n=t!==!1&&Uv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},hU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},fU=n=>{if(!n)return null;if(Uu(n))return n;let e=n.length;if(!XR(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},dU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Uv(Uint8Array)),pU=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=i.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},mU=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},gU=kr("HTMLFormElement"),yU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),YA=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),_U=kr("RegExp"),eI=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};zh(t,(a,l)=>{let u;(u=e(a,l,n))!==!1&&(i[l]=u||a)}),Object.defineProperties(n,i)},vU=n=>{eI(n,(e,t)=>{if(zi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(zi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},EU=(n,e)=>{const t={},i=a=>{a.forEach(l=>{t[l]=!0})};return Uu(n)?i(n):i(String(n).split(e)),t},wU=()=>{},TU=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function AU(n){return!!(n&&zi(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const CU=n=>{const e=new Array(10),t=(i,a)=>{if(Kp(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const l=Uu(i)?[]:{};return zh(i,(u,f)=>{const p=t(u,a+1);!Rh(p)&&(l[f]=p)}),e[a]=void 0,l}}return i};return t(n,0)},bU=kr("AsyncFunction"),SU=n=>n&&(Kp(n)||zi(n))&&zi(n.then)&&zi(n.catch),tI=((n,e)=>n?setImmediate:e?((t,i)=>(Wo.addEventListener("message",({source:a,data:l})=>{a===Wo&&l===t&&i.length&&i.shift()()},!1),a=>{i.push(a),Wo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",zi(Wo.postMessage)),RU=typeof queueMicrotask<"u"?queueMicrotask.bind(Wo):typeof process<"u"&&process.nextTick||tI,re={isArray:Uu,isArrayBuffer:JR,isBuffer:HV,isFormData:eU,isArrayBufferView:zV,isString:QV,isNumber:XR,isBoolean:KV,isObject:Kp,isPlainObject:Rd,isReadableStream:nU,isRequest:iU,isResponse:rU,isHeaders:sU,isUndefined:Rh,isDate:WV,isFile:JV,isBlob:XV,isRegExp:_U,isFunction:zi,isStream:$V,isURLSearchParams:tU,isTypedArray:dU,isFileList:ZV,forEach:zh,merge:o_,extend:oU,trim:aU,stripBOM:lU,inherits:uU,toFlatObject:cU,kindOf:zp,kindOfTest:kr,endsWith:hU,toArray:fU,forEachEntry:pU,matchAll:mU,isHTMLForm:gU,hasOwnProperty:YA,hasOwnProp:YA,reduceDescriptors:eI,freezeMethods:vU,toObjectSet:EU,toCamelCase:yU,noop:wU,toFiniteNumber:TU,findKey:ZR,global:Wo,isContextDefined:$R,isSpecCompliantForm:AU,toJSONObject:CU,isAsyncFn:bU,isThenable:SU,setImmediate:tI,asap:RU};function Je(n,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}re.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const nI=Je.prototype,iI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{iI[n]={value:n}});Object.defineProperties(Je,iI);Object.defineProperty(nI,"isAxiosError",{value:!0});Je.from=(n,e,t,i,a,l)=>{const u=Object.create(nI);return re.toFlatObject(n,u,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),Je.call(u,n.message,e,t,i,a),u.cause=n,u.name=n.name,l&&Object.assign(u,l),u};const IU=null;function l_(n){return re.isPlainObject(n)||re.isArray(n)}function rI(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function HA(n,e,t){return n?n.concat(e).map(function(a,l){return a=rI(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function DU(n){return re.isArray(n)&&!n.some(l_)}const NU=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Wp(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,O){return!re.isUndefined(O[B])});const i=t.metaTokens,a=t.visitor||_,l=t.dots,u=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(a))throw new TypeError("visitor must be a function");function m(R){if(R===null)return"";if(re.isDate(R))return R.toISOString();if(!p&&re.isBlob(R))throw new Je("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(R)||re.isTypedArray(R)?p&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function _(R,B,O){let x=R;if(R&&!O&&typeof R=="object"){if(re.endsWith(B,"{}"))B=i?B:B.slice(0,-2),R=JSON.stringify(R);else if(re.isArray(R)&&DU(R)||(re.isFileList(R)||re.endsWith(B,"[]"))&&(x=re.toArray(R)))return B=rI(B),x.forEach(function(j,te){!(re.isUndefined(j)||j===null)&&e.append(u===!0?HA([B],te,l):u===null?B:B+"[]",m(j))}),!1}return l_(R)?!0:(e.append(HA(O,B,l),m(R)),!1)}const T=[],C=Object.assign(NU,{defaultVisitor:_,convertValue:m,isVisitable:l_});function b(R,B){if(!re.isUndefined(R)){if(T.indexOf(R)!==-1)throw Error("Circular reference detected in "+B.join("."));T.push(R),re.forEach(R,function(x,L){(!(re.isUndefined(x)||x===null)&&a.call(e,x,re.isString(L)?L.trim():L,B,C))===!0&&b(x,B?B.concat(L):[L])}),T.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return b(n),e}function zA(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Fv(n,e){this._pairs=[],n&&Wp(n,this,e)}const sI=Fv.prototype;sI.append=function(e,t){this._pairs.push([e,t])};sI.toString=function(e){const t=e?function(i){return e.call(this,i,zA)}:zA;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function MU(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aI(n,e,t){if(!e)return n;const i=t&&t.encode||MU;re.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=re.isURLSearchParams(e)?e.toString():new Fv(e,t).toString(i),l){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class QA{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(i){i!==null&&e(i)})}}const oI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OU=typeof URLSearchParams<"u"?URLSearchParams:Fv,xU=typeof FormData<"u"?FormData:null,kU=typeof Blob<"u"?Blob:null,PU={isBrowser:!0,classes:{URLSearchParams:OU,FormData:xU,Blob:kU},protocols:["http","https","file","blob","url","data"]},qv=typeof window<"u"&&typeof document<"u",u_=typeof navigator=="object"&&navigator||void 0,LU=qv&&(!u_||["ReactNative","NativeScript","NS"].indexOf(u_.product)<0),BU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",VU=qv&&window.location.href||"http://localhost",UU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qv,hasStandardBrowserEnv:LU,hasStandardBrowserWebWorkerEnv:BU,navigator:u_,origin:VU},Symbol.toStringTag,{value:"Module"})),oi={...UU,...PU};function FU(n,e){return Wp(n,new oi.classes.URLSearchParams,Object.assign({visitor:function(t,i,a,l){return oi.isNode&&re.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function qU(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function GU(n){const e={},t=Object.keys(n);let i;const a=t.length;let l;for(i=0;i<a;i++)l=t[i],e[l]=n[l];return e}function lI(n){function e(t,i,a,l){let u=t[l++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),p=l>=t.length;return u=!u&&re.isArray(a)?a.length:u,p?(re.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!f):((!a[u]||!re.isObject(a[u]))&&(a[u]=[]),e(t,i,a[u],l)&&re.isArray(a[u])&&(a[u]=GU(a[u])),!f)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(i,a)=>{e(qU(i),a,t,0)}),t}return null}function jU(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Qh={transitional:oI,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,l=re.isObject(e);if(l&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return a?JSON.stringify(lI(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return FU(e,this.formSerializer).toString();if((f=re.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Wp(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),jU(e)):e}],transformResponse:[function(e){const t=this.transitional||Qh.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(i&&!this.responseType||a)){const u=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?Je.from(f,Je.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oi.classes.FormData,Blob:oi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Qh.headers[n]={}});const YU=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HU=n=>{const e={};let t,i,a;return n&&n.split(`
`).forEach(function(u){a=u.indexOf(":"),t=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!t||e[t]&&YU[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},KA=Symbol("internals");function Yc(n){return n&&String(n).trim().toLowerCase()}function Id(n){return n===!1||n==null?n:re.isArray(n)?n.map(Id):String(n)}function zU(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const QU=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function dy(n,e,t,i,a){if(re.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!re.isString(e)){if(re.isString(i))return e.indexOf(i)!==-1;if(re.isRegExp(i))return i.test(e)}}function KU(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function WU(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(a,l,u){return this[i].call(this,e,a,l,u)},configurable:!0})})}let Ii=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function l(f,p,m){const _=Yc(p);if(!_)throw new Error("header name must be a non-empty string");const T=re.findKey(a,_);(!T||a[T]===void 0||m===!0||m===void 0&&a[T]!==!1)&&(a[T||p]=Id(f))}const u=(f,p)=>re.forEach(f,(m,_)=>l(m,_,p));if(re.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(re.isString(e)&&(e=e.trim())&&!QU(e))u(HU(e),t);else if(re.isHeaders(e))for(const[f,p]of e.entries())l(p,f,i);else e!=null&&l(t,e,i);return this}get(e,t){if(e=Yc(e),e){const i=re.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return zU(a);if(re.isFunction(t))return t.call(this,a,i);if(re.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Yc(e),e){const i=re.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||dy(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function l(u){if(u=Yc(u),u){const f=re.findKey(i,u);f&&(!t||dy(i,i[f],f,t))&&(delete i[f],a=!0)}}return re.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const l=t[i];(!e||dy(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,i={};return re.forEach(this,(a,l)=>{const u=re.findKey(i,l);if(u){t[u]=Id(a),delete t[l];return}const f=e?KU(l):String(l).trim();f!==l&&delete t[l],t[f]=Id(a),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&re.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[KA]=this[KA]={accessors:{}}).accessors,a=this.prototype;function l(u){const f=Yc(u);i[f]||(WU(a,u),i[f]=!0)}return re.isArray(e)?e.forEach(l):l(e),this}};Ii.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(Ii.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});re.freezeMethods(Ii);function py(n,e){const t=this||Qh,i=e||t,a=Ii.from(i.headers);let l=i.data;return re.forEach(n,function(f){l=f.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function uI(n){return!!(n&&n.__CANCEL__)}function Fu(n,e,t){Je.call(this,n??"canceled",Je.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Fu,Je,{__CANCEL__:!0});function cI(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Je("Request failed with status code "+t.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function JU(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function XU(n,e){n=n||10;const t=new Array(n),i=new Array(n);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),_=i[l];u||(u=m),t[a]=p,i[a]=m;let T=l,C=0;for(;T!==a;)C+=t[T++],T=T%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),m-u<e)return;const b=_&&m-_;return b?Math.round(C*1e3/b):void 0}}function ZU(n,e){let t=0,i=1e3/e,a,l;const u=(m,_=Date.now())=>{t=_,a=null,l&&(clearTimeout(l),l=null),n.apply(null,m)};return[(...m)=>{const _=Date.now(),T=_-t;T>=i?u(m,_):(a=m,l||(l=setTimeout(()=>{l=null,u(a)},i-T)))},()=>a&&u(a)]}const up=(n,e,t=3)=>{let i=0;const a=XU(50,250);return ZU(l=>{const u=l.loaded,f=l.lengthComputable?l.total:void 0,p=u-i,m=a(p),_=u<=f;i=u;const T={loaded:u,total:f,progress:f?u/f:void 0,bytes:p,rate:m||void 0,estimated:m&&f&&_?(f-u)/m:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(T)},t)},WA=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},JA=n=>(...e)=>re.asap(()=>n(...e)),$U=oi.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,oi.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(oi.origin),oi.navigator&&/(msie|trident)/i.test(oi.navigator.userAgent)):()=>!0,eF=oi.hasStandardBrowserEnv?{write(n,e,t,i,a,l){const u=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),re.isString(i)&&u.push("path="+i),re.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tF(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function nF(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function hI(n,e,t){let i=!tF(e);return n&&i||t==!1?nF(n,e):e}const XA=n=>n instanceof Ii?{...n}:n;function sl(n,e){e=e||{};const t={};function i(m,_,T,C){return re.isPlainObject(m)&&re.isPlainObject(_)?re.merge.call({caseless:C},m,_):re.isPlainObject(_)?re.merge({},_):re.isArray(_)?_.slice():_}function a(m,_,T,C){if(re.isUndefined(_)){if(!re.isUndefined(m))return i(void 0,m,T,C)}else return i(m,_,T,C)}function l(m,_){if(!re.isUndefined(_))return i(void 0,_)}function u(m,_){if(re.isUndefined(_)){if(!re.isUndefined(m))return i(void 0,m)}else return i(void 0,_)}function f(m,_,T){if(T in e)return i(m,_);if(T in n)return i(void 0,m)}const p={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(m,_,T)=>a(XA(m),XA(_),T,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(_){const T=p[_]||a,C=T(n[_],e[_],_);re.isUndefined(C)&&T!==f||(t[_]=C)}),t}const fI=n=>{const e=sl({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:f}=e;e.headers=u=Ii.from(u),e.url=aI(hI(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(re.isFormData(t)){if(oi.hasStandardBrowserEnv||oi.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((p=u.getContentType())!==!1){const[m,..._]=p?p.split(";").map(T=>T.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",..._].join("; "))}}if(oi.hasStandardBrowserEnv&&(i&&re.isFunction(i)&&(i=i(e)),i||i!==!1&&$U(e.url))){const m=a&&l&&eF.read(l);m&&u.set(a,m)}return e},iF=typeof XMLHttpRequest<"u",rF=iF&&function(n){return new Promise(function(t,i){const a=fI(n);let l=a.data;const u=Ii.from(a.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:m}=a,_,T,C,b,R;function B(){b&&b(),R&&R(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let O=new XMLHttpRequest;O.open(a.method.toUpperCase(),a.url,!0),O.timeout=a.timeout;function x(){if(!O)return;const j=Ii.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),se={data:!f||f==="text"||f==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:j,config:n,request:O};cI(function(P){t(P),B()},function(P){i(P),B()},se),O=null}"onloadend"in O?O.onloadend=x:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(x)},O.onabort=function(){O&&(i(new Je("Request aborted",Je.ECONNABORTED,n,O)),O=null)},O.onerror=function(){i(new Je("Network Error",Je.ERR_NETWORK,n,O)),O=null},O.ontimeout=function(){let te=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const se=a.transitional||oI;a.timeoutErrorMessage&&(te=a.timeoutErrorMessage),i(new Je(te,se.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,n,O)),O=null},l===void 0&&u.setContentType(null),"setRequestHeader"in O&&re.forEach(u.toJSON(),function(te,se){O.setRequestHeader(se,te)}),re.isUndefined(a.withCredentials)||(O.withCredentials=!!a.withCredentials),f&&f!=="json"&&(O.responseType=a.responseType),m&&([C,R]=up(m,!0),O.addEventListener("progress",C)),p&&O.upload&&([T,b]=up(p),O.upload.addEventListener("progress",T),O.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(_=j=>{O&&(i(!j||j.type?new Fu(null,n,O):j),O.abort(),O=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const L=JU(a.url);if(L&&oi.protocols.indexOf(L)===-1){i(new Je("Unsupported protocol "+L+":",Je.ERR_BAD_REQUEST,n));return}O.send(l||null)})},sF=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,a;const l=function(m){if(!a){a=!0,f();const _=m instanceof Error?m:this.reason;i.abort(_ instanceof Je?_:new Fu(_ instanceof Error?_.message:_))}};let u=e&&setTimeout(()=>{u=null,l(new Je(`timeout ${e} of ms exceeded`,Je.ETIMEDOUT))},e);const f=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),n=null)};n.forEach(m=>m.addEventListener("abort",l));const{signal:p}=i;return p.unsubscribe=()=>re.asap(f),p}},aF=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,a;for(;i<t;)a=i+e,yield n.slice(i,a),i=a},oF=async function*(n,e){for await(const t of lF(n))yield*aF(t,e)},lF=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},ZA=(n,e,t,i)=>{const a=oF(n,e);let l=0,u,f=p=>{u||(u=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:_}=await a.next();if(m){f(),p.close();return}let T=_.byteLength;if(t){let C=l+=T;t(C)}p.enqueue(new Uint8Array(_))}catch(m){throw f(m),m}},cancel(p){return f(p),a.return()}},{highWaterMark:2})},Jp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dI=Jp&&typeof ReadableStream=="function",uF=Jp&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),pI=(n,...e)=>{try{return!!n(...e)}catch{return!1}},cF=dI&&pI(()=>{let n=!1;const e=new Request(oi.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),$A=64*1024,c_=dI&&pI(()=>re.isReadableStream(new Response("").body)),cp={stream:c_&&(n=>n.body)};Jp&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!cp[e]&&(cp[e]=re.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Je(`Response type '${e}' is not supported`,Je.ERR_NOT_SUPPORT,i)})})})(new Response);const hF=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(oi.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await uF(n)).byteLength},fF=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??hF(e)},dF=Jp&&(async n=>{let{url:e,method:t,data:i,signal:a,cancelToken:l,timeout:u,onDownloadProgress:f,onUploadProgress:p,responseType:m,headers:_,withCredentials:T="same-origin",fetchOptions:C}=fI(n);m=m?(m+"").toLowerCase():"text";let b=sF([a,l&&l.toAbortSignal()],u),R;const B=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let O;try{if(p&&cF&&t!=="get"&&t!=="head"&&(O=await fF(_,i))!==0){let se=new Request(e,{method:"POST",body:i,duplex:"half"}),pe;if(re.isFormData(i)&&(pe=se.headers.get("content-type"))&&_.setContentType(pe),se.body){const[P,D]=WA(O,up(JA(p)));i=ZA(se.body,$A,P,D)}}re.isString(T)||(T=T?"include":"omit");const x="credentials"in Request.prototype;R=new Request(e,{...C,signal:b,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:i,duplex:"half",credentials:x?T:void 0});let L=await fetch(R);const j=c_&&(m==="stream"||m==="response");if(c_&&(f||j&&B)){const se={};["status","statusText","headers"].forEach(N=>{se[N]=L[N]});const pe=re.toFiniteNumber(L.headers.get("content-length")),[P,D]=f&&WA(pe,up(JA(f),!0))||[];L=new Response(ZA(L.body,$A,P,()=>{D&&D(),B&&B()}),se)}m=m||"text";let te=await cp[re.findKey(cp,m)||"text"](L,n);return!j&&B&&B(),await new Promise((se,pe)=>{cI(se,pe,{data:te,headers:Ii.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:R})})}catch(x){throw B&&B(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,n,R),{cause:x.cause||x}):Je.from(x,x&&x.code,n,R)}}),h_={http:IU,xhr:rF,fetch:dF};re.forEach(h_,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const eC=n=>`- ${n}`,pF=n=>re.isFunction(n)||n===null||n===!1,mI={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,i;const a={};for(let l=0;l<e;l++){t=n[l];let u;if(i=t,!pF(t)&&(i=h_[(u=String(t)).toLowerCase()],i===void 0))throw new Je(`Unknown adapter '${u}'`);if(i)break;a[u||"#"+l]=i}if(!i){const l=Object.entries(a).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(eC).join(`
`):" "+eC(l[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:h_};function my(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Fu(null,n)}function tC(n){return my(n),n.headers=Ii.from(n.headers),n.data=py.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),mI.getAdapter(n.adapter||Qh.adapter)(n).then(function(i){return my(n),i.data=py.call(n,n.transformResponse,i),i.headers=Ii.from(i.headers),i},function(i){return uI(i)||(my(n),i&&i.response&&(i.response.data=py.call(n,n.transformResponse,i.response),i.response.headers=Ii.from(i.response.headers))),Promise.reject(i)})}const gI="1.8.3",Xp={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Xp[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const nC={};Xp.transitional=function(e,t,i){function a(l,u){return"[Axios v"+gI+"] Transitional option '"+l+"'"+u+(i?". "+i:"")}return(l,u,f)=>{if(e===!1)throw new Je(a(u," has been removed"+(t?" in "+t:"")),Je.ERR_DEPRECATED);return t&&!nC[u]&&(nC[u]=!0,console.warn(a(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,u,f):!0}};Xp.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function mF(n,e,t){if(typeof n!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let a=i.length;for(;a-- >0;){const l=i[a],u=e[l];if(u){const f=n[l],p=f===void 0||u(f,l,n);if(p!==!0)throw new Je("option "+l+" must be "+p,Je.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Je("Unknown option "+l,Je.ERR_BAD_OPTION)}}const Dd={assertOptions:mF,validators:Xp},$r=Dd.validators;let Zo=class{constructor(e){this.defaults=e,this.interceptors={request:new QA,response:new QA}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=sl(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:l}=t;i!==void 0&&Dd.assertOptions(i,{silentJSONParsing:$r.transitional($r.boolean),forcedJSONParsing:$r.transitional($r.boolean),clarifyTimeoutError:$r.transitional($r.boolean)},!1),a!=null&&(re.isFunction(a)?t.paramsSerializer={serialize:a}:Dd.assertOptions(a,{encode:$r.function,serialize:$r.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Dd.assertOptions(t,{baseUrl:$r.spelling("baseURL"),withXsrfToken:$r.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=l&&re.merge(l.common,l[t.method]);l&&re.forEach(["delete","get","head","post","put","patch","common"],R=>{delete l[R]}),t.headers=Ii.concat(u,l);const f=[];let p=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(t)===!1||(p=p&&B.synchronous,f.unshift(B.fulfilled,B.rejected))});const m=[];this.interceptors.response.forEach(function(B){m.push(B.fulfilled,B.rejected)});let _,T=0,C;if(!p){const R=[tC.bind(this),void 0];for(R.unshift.apply(R,f),R.push.apply(R,m),C=R.length,_=Promise.resolve(t);T<C;)_=_.then(R[T++],R[T++]);return _}C=f.length;let b=t;for(T=0;T<C;){const R=f[T++],B=f[T++];try{b=R(b)}catch(O){B.call(this,O);break}}try{_=tC.call(this,b)}catch(R){return Promise.reject(R)}for(T=0,C=m.length;T<C;)_=_.then(m[T++],m[T++]);return _}getUri(e){e=sl(this.defaults,e);const t=hI(e.baseURL,e.url,e.allowAbsoluteUrls);return aI(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Zo.prototype[e]=function(t,i){return this.request(sl(i||{},{method:e,url:t,data:(i||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(i){return function(l,u,f){return this.request(sl(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Zo.prototype[e]=t(),Zo.prototype[e+"Form"]=t(!0)});let gF=class yI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(f=>{i.subscribe(f),l=f}).then(a);return u.cancel=function(){i.unsubscribe(l)},u},e(function(l,u,f){i.reason||(i.reason=new Fu(l,u,f),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new yI(function(a){e=a}),cancel:e}}};function yF(n){return function(t){return n.apply(null,t)}}function _F(n){return re.isObject(n)&&n.isAxiosError===!0}const f_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(f_).forEach(([n,e])=>{f_[e]=n});function _I(n){const e=new Zo(n),t=WR(Zo.prototype.request,e);return re.extend(t,Zo.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return _I(sl(n,a))},t}const sn=_I(Qh);sn.Axios=Zo;sn.CanceledError=Fu;sn.CancelToken=gF;sn.isCancel=uI;sn.VERSION=gI;sn.toFormData=Wp;sn.AxiosError=Je;sn.Cancel=sn.CanceledError;sn.all=function(e){return Promise.all(e)};sn.spread=yF;sn.isAxiosError=_F;sn.mergeConfig=sl;sn.AxiosHeaders=Ii;sn.formToJSON=n=>lI(re.isHTMLForm(n)?new FormData(n):n);sn.getAdapter=mI.getAdapter;sn.HttpStatusCode=f_;sn.default=sn;const{Axios:Pq,AxiosError:Lq,CanceledError:Bq,isCancel:Vq,CancelToken:Uq,VERSION:Fq,all:qq,Cancel:Gq,isAxiosError:jq,spread:Yq,toFormData:Hq,AxiosHeaders:zq,HttpStatusCode:Qq,formToJSON:Kq,getAdapter:Wq,mergeConfig:Jq}=sn,vF=()=>{const[n,e]=J.useState(""),[t,i]=J.useState(""),[a,l]=J.useState(""),[u,f]=J.useState(!0),[p,m]=J.useState(""),[_,T]=J.useState(""),[C,b]=J.useState(""),R=dp(),B=async x=>{x.preventDefault(),l("");try{(await(await ox(FS,n,t)).user.getIdTokenResult()).claims.admin?(localStorage.setItem("admin","true"),R("/dashboard")):l("Access Denied: You are not an admin.")}catch(L){l(L.message)}},O=async x=>{if(x.preventDefault(),l(""),t!==_){l("Passwords do not match.");return}try{if(console.log("Checking if user exists..."),(await sn.post("https://mess-management-backend-9iwt.onrender.com/check-user",{email:n})).data.exists){l("User already exists. Please log in.");return}console.log("User does not exist. Proceeding with sign-up...");const j=await sn.post("https://mess-management-backend-9iwt.onrender.com/signup",{email:n,password:t,displayName:p,address:C});console.log("Sign-up response:",j),j.data.success?(console.log("Sign-up successful!"),l("Sign Up successful! Please log in."),f(!0)):(console.error("Sign-up failed:",j.data.message),l(j.data.message||"Sign Up failed."))}catch(L){console.error("Sign-up error:",L),L.response?(console.error("Server responded with:",L.response.data),l(L.response.data.message||"An error occurred during Sign Up.")):L.request?(console.error("No response received:",L.request),l("No response from the server. Please try again.")):(console.error("Request setup error:",L.message),l("An error occurred during Sign Up."))}};return fe.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:fe.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[fe.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:u?"Admin Login":"Sign Up"}),a&&fe.jsx("p",{className:"text-red-500 text-sm text-center mb-4",children:a}),u?fe.jsxs("form",{onSubmit:B,className:"space-y-6",children:[fe.jsxs("div",{children:[fe.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),fe.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:x=>e(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),fe.jsxs("div",{children:[fe.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),fe.jsx("input",{type:"password",placeholder:"Enter your password",value:t,onChange:x=>i(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),fe.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Login"})]}):fe.jsxs("form",{onSubmit:O,className:"space-y-6",children:[fe.jsxs("div",{children:[fe.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mess Name"}),fe.jsx("input",{type:"text",placeholder:"Enter your mess name",value:p,onChange:x=>m(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),fe.jsxs("div",{children:[fe.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),fe.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:x=>e(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),fe.jsxs("div",{children:[fe.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),fe.jsx("input",{type:"password",placeholder:"Enter your password",value:t,onChange:x=>i(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),fe.jsxs("div",{children:[fe.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),fe.jsx("input",{type:"password",placeholder:"Confirm your password",value:_,onChange:x=>T(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),fe.jsxs("div",{children:[fe.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),fe.jsx("input",{type:"text",placeholder:"Address",value:C,onChange:x=>b(x.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),fe.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Sign Up"})]}),fe.jsxs("p",{className:"mt-6 text-center text-gray-600",children:[u?"Don't have an account? ":"Already have an account? ",fe.jsx("button",{onClick:()=>f(!u),className:"text-blue-600 hover:text-blue-800 focus:outline-none",children:u?"Sign Up":"Login"})]})]})})},EF=()=>{const[n,e]=J.useState([]),[t,i]=J.useState([]),[a,l]=J.useState([]),[u,f]=J.useState(""),[p,m]=J.useState(""),[_,T]=J.useState(!0),[C,b]=J.useState(null),[R,B]=J.useState(null),[O,x]=J.useState([]),L=dp(),j=L_();J.useEffect(()=>{const P=x_(j,async D=>{D?(await D.getIdTokenResult()).claims.admin?b(D):(alert("Access Denied: You are not an admin."),L("/")):L("/login"),T(!1)});return()=>P()},[L]),J.useEffect(()=>{if(!C)return;const P=Fa(jc,`orders/${C.uid}`);oy(P,N=>{const V=N.val();console.log("DATA===>>",V);const Y=Object.keys(V).map(Ae=>({id:Ae,...V[Ae]})),H=Object.keys(V).map(Ae=>({id:Ae,...V[Ae].items}));console.log("TEMP=====>>",H);const F=[];for(let Ae=0;Ae<H.length;Ae++){const be=H[Ae];if(Array.isArray(be))for(let qe=0;qe<be.length;qe++){const q=be[qe];q&&q.messId===C.uid&&(console.log("order==>>",q),console.log("Matching orders==>",F),F.push(q))}}console.log("Matching orders==>",F),e(F);const ke=Y.filter(Ae=>Ae.status==="Pending"),Ge=ke.filter(Ae=>Ae.orderType==="Pickup"),me=ke.filter(Ae=>Ae.orderType==="Delivery");e(ke),i(me),l(Ge)});const D=Fa(jc,"admins/"+C.uid);oy(D,N=>{const V=N.val();B(V)})},[C]),J.useEffect(()=>{if(!C)return;const P=Fa(jc,`products/${C.uid}`);oy(P,D=>{const N=D.val();if(console.log("DATA====>>",N),N){const V=Object.keys(N).map(Y=>({id:Y,...N[Y]}));console.log("prodList====>",V[1]),x(V)}else x([])})},[C]);const te=async()=>{if(!u||!p||!R){alert("Please fill in all fields.");return}const P=Fa(jc,`/products/${C.uid}`),D=A4(P);await Fy(D,{productName:u,price:parseFloat(p),messId:C.uid,messName:R.displayName,messAddress:R.address}),f(""),m(""),alert("Product added successfully!")},se=async P=>{const D=Fa(jc,`/products/${C.uid}/${P}`);try{await Fy(D,null),alert("Product deleted successfully!")}catch(N){alert("Error deleting product: "+N.message)}},pe=async()=>{await cx(j),L("/")};return _?fe.jsx("p",{className:"text-center text-xl",children:"Loading..."}):fe.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center p-6",children:fe.jsxs("div",{className:"w-full max-w-5xl bg-white shadow-lg rounded-lg p-6",children:[fe.jsxs("div",{className:"flex justify-between items-center mb-6",children:[fe.jsx("h2",{className:"text-2xl font-semibold text-gray-700",children:R==null?void 0:R.displayName}),fe.jsxs("div",{className:"gap-2 flex flex-row",children:[fe.jsx("button",{onClick:()=>e(t),className:"bg-green-500 text-white p-2 rounded-2xl",children:"Delivery"}),fe.jsx("button",{onClick:()=>e(a),className:"bg-green-500 text-white p-2 rounded-2xl",children:"Pickup"})]}),fe.jsx("button",{onClick:pe,className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition",children:"Logout"})]}),fe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[fe.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-md h-96",children:[fe.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"View Orders"}),fe.jsx("div",{className:"overflow-y-auto max-h-72 bg-white rounded-lg shadow p-4",children:n.length===0?fe.jsx("p",{className:"text-gray-500 text-center",children:"No orders found"}):fe.jsx("ul",{className:"divide-y divide-gray-200",children:n.map((P,D)=>fe.jsx("li",{onClick:()=>{L("/order",{state:{orderId:P.id,order:P}})},className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-200",children:fe.jsxs("div",{className:"space-y-2",children:[fe.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Order ID: ",P.id]}),fe.jsxs("p",{className:"text-sm text-gray-600",children:["Mess Address: ",P.messAdress]}),fe.jsxs("p",{className:"text-sm text-gray-600",children:["Total Price: ₹",P.totalPrice]}),fe.jsx("h4",{className:"text-md font-medium text-gray-700",children:"Items:"}),fe.jsx("ul",{className:"space-y-2",children:P.items&&P.items.length>0?P.items.map((N,V)=>fe.jsxs("li",{className:"bg-gray-100 p-3 rounded-lg",children:[fe.jsxs("p",{className:"text-sm text-gray-700",children:[fe.jsx("span",{className:"font-medium",children:"Product:"})," ",N.productName]}),fe.jsxs("p",{className:"text-sm text-gray-700",children:[fe.jsx("span",{className:"font-medium",children:"Quantity:"})," ",N.quantity]}),fe.jsxs("p",{className:"text-sm text-gray-700",children:[fe.jsx("span",{className:"font-medium",children:"Price:"})," ₹",N.price]})]},Number(V))):fe.jsx("p",{className:"text-sm text-gray-500",children:"No items found in this order."})})]})},String(D)))})})]}),fe.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-md h-96",children:[fe.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Add Product"}),fe.jsxs("div",{className:"flex flex-col space-y-3",children:[fe.jsx("input",{type:"text",placeholder:"Product Name",value:u,onChange:P=>f(P.target.value),className:"border border-gray-300 rounded-md p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),fe.jsx("input",{type:"number",placeholder:"Price",value:p,onChange:P=>m(P.target.value),className:"border border-gray-300 rounded-md p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),fe.jsx("button",{onClick:te,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition",children:"Add Product"})]})]})]}),fe.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-md mt-6",children:[fe.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Products"}),fe.jsx("div",{className:"overflow-y-auto max-h-72 bg-white rounded-lg shadow p-4",children:O.length===0?fe.jsx("p",{className:"text-gray-500 text-center",children:"No products found"}):fe.jsx("ul",{className:"divide-y divide-gray-300",children:O.map(P=>fe.jsxs("li",{className:"py-3 px-4 flex justify-between items-center bg-gray-50 rounded-md shadow-sm mb-2",children:[fe.jsxs("div",{className:"flex flex-col",children:[fe.jsx("p",{className:"text-gray-700 font-semibold",children:P.productName}),fe.jsxs("span",{className:"text-sm text-gray-500",children:["₹",P.price]})]}),fe.jsx("button",{onClick:()=>se(P.id),className:"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600 transition",children:"Delete"})]},P.id))})})]})]})})};var hd={},Yi={},iC;function Zp(){if(iC)return Yi;iC=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.compactObject=R,Yi.deprecated=T,Yi.detectBrowser=C,Yi.disableLog=p,Yi.disableWarnings=m,Yi.extractVersion=u,Yi.filterStats=O,Yi.log=_,Yi.walkStats=B,Yi.wrapPeerConnectionEvent=f;function n(x,L,j){return L=e(L),L in x?Object.defineProperty(x,L,{value:j,enumerable:!0,configurable:!0,writable:!0}):x[L]=j,x}function e(x){var L=t(x,"string");return i(L)=="symbol"?L:L+""}function t(x,L){if(i(x)!="object"||!x)return x;var j=x[Symbol.toPrimitive];if(j!==void 0){var te=j.call(x,L);if(i(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(x)}function i(x){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},i(x)}var a=!0,l=!0;function u(x,L,j){var te=x.match(L);return te&&te.length>=j&&parseInt(te[j],10)}function f(x,L,j){if(x.RTCPeerConnection){var te=x.RTCPeerConnection.prototype,se=te.addEventListener;te.addEventListener=function(P,D){if(P!==L)return se.apply(this,arguments);var N=function(Y){var H=j(Y);H&&(D.handleEvent?D.handleEvent(H):D(H))};return this._eventMap=this._eventMap||{},this._eventMap[L]||(this._eventMap[L]=new Map),this._eventMap[L].set(D,N),se.apply(this,[P,N])};var pe=te.removeEventListener;te.removeEventListener=function(P,D){if(P!==L||!this._eventMap||!this._eventMap[L])return pe.apply(this,arguments);if(!this._eventMap[L].has(D))return pe.apply(this,arguments);var N=this._eventMap[L].get(D);return this._eventMap[L].delete(D),this._eventMap[L].size===0&&delete this._eventMap[L],Object.keys(this._eventMap).length===0&&delete this._eventMap,pe.apply(this,[P,N])},Object.defineProperty(te,"on"+L,{get:function(){return this["_on"+L]},set:function(D){this["_on"+L]&&(this.removeEventListener(L,this["_on"+L]),delete this["_on"+L]),D&&this.addEventListener(L,this["_on"+L]=D)},enumerable:!0,configurable:!0})}}function p(x){return typeof x!="boolean"?new Error("Argument type: "+i(x)+". Please use a boolean."):(a=x,x?"adapter.js logging disabled":"adapter.js logging enabled")}function m(x){return typeof x!="boolean"?new Error("Argument type: "+i(x)+". Please use a boolean."):(l=!x,"adapter.js deprecation warnings "+(x?"disabled":"enabled"))}function _(){if((typeof window>"u"?"undefined":i(window))==="object"){if(a)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function T(x,L){l&&console.warn(x+" is deprecated, please use "+L+" instead.")}function C(x){var L={browser:null,version:null};if(typeof x>"u"||!x.navigator||!x.navigator.userAgent)return L.browser="Not a browser.",L;var j=x.navigator;if(j.userAgentData&&j.userAgentData.brands){var te=j.userAgentData.brands.find(function(se){return se.brand==="Chromium"});if(te)return{browser:"chrome",version:parseInt(te.version,10)}}if(j.mozGetUserMedia)L.browser="firefox",L.version=u(j.userAgent,/Firefox\/(\d+)\./,1);else if(j.webkitGetUserMedia||x.isSecureContext===!1&&x.webkitRTCPeerConnection)L.browser="chrome",L.version=u(j.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(x.RTCPeerConnection&&j.userAgent.match(/AppleWebKit\/(\d+)\./))L.browser="safari",L.version=u(j.userAgent,/AppleWebKit\/(\d+)\./,1),L.supportsUnifiedPlan=x.RTCRtpTransceiver&&"currentDirection"in x.RTCRtpTransceiver.prototype;else return L.browser="Not a supported browser.",L;return L}function b(x){return Object.prototype.toString.call(x)==="[object Object]"}function R(x){return b(x)?Object.keys(x).reduce(function(L,j){var te=b(x[j]),se=te?R(x[j]):x[j],pe=te&&!Object.keys(se).length;return se===void 0||pe?L:Object.assign(L,n({},j,se))},{}):x}function B(x,L,j){!L||j.has(L.id)||(j.set(L.id,L),Object.keys(L).forEach(function(te){te.endsWith("Id")?B(x,x.get(L[te]),j):te.endsWith("Ids")&&L[te].forEach(function(se){B(x,x.get(se),j)})}))}function O(x,L,j){var te=j?"outbound-rtp":"inbound-rtp",se=new Map;if(L===null)return se;var pe=[];return x.forEach(function(P){P.type==="track"&&P.trackIdentifier===L.id&&pe.push(P)}),pe.forEach(function(P){x.forEach(function(D){D.type===te&&D.trackId===P.id&&B(x,D,se)})}),se}return Yi}var rC;function wF(){if(rC)return hd;rC=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.shimGetUserMedia=l;var n=t(Zp());function e(u){if(typeof WeakMap!="function")return null;var f=new WeakMap,p=new WeakMap;return(e=function(_){return _?p:f})(u)}function t(u,f){if(u&&u.__esModule)return u;if(u===null||i(u)!="object"&&typeof u!="function")return{default:u};var p=e(f);if(p&&p.has(u))return p.get(u);var m={__proto__:null},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in u)if(T!=="default"&&{}.hasOwnProperty.call(u,T)){var C=_?Object.getOwnPropertyDescriptor(u,T):null;C&&(C.get||C.set)?Object.defineProperty(m,T,C):m[T]=u[T]}return m.default=u,p&&p.set(u,m),m}function i(u){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},i(u)}var a=n.log;function l(u,f){var p=u&&u.navigator;if(p.mediaDevices){var m=function(B){if(i(B)!=="object"||B.mandatory||B.optional)return B;var O={};return Object.keys(B).forEach(function(x){if(!(x==="require"||x==="advanced"||x==="mediaSource")){var L=i(B[x])==="object"?B[x]:{ideal:B[x]};L.exact!==void 0&&typeof L.exact=="number"&&(L.min=L.max=L.exact);var j=function(pe,P){return pe?pe+P.charAt(0).toUpperCase()+P.slice(1):P==="deviceId"?"sourceId":P};if(L.ideal!==void 0){O.optional=O.optional||[];var te={};typeof L.ideal=="number"?(te[j("min",x)]=L.ideal,O.optional.push(te),te={},te[j("max",x)]=L.ideal,O.optional.push(te)):(te[j("",x)]=L.ideal,O.optional.push(te))}L.exact!==void 0&&typeof L.exact!="number"?(O.mandatory=O.mandatory||{},O.mandatory[j("",x)]=L.exact):["min","max"].forEach(function(se){L[se]!==void 0&&(O.mandatory=O.mandatory||{},O.mandatory[j(se,x)]=L[se])})}}),B.advanced&&(O.optional=(O.optional||[]).concat(B.advanced)),O},_=function(B,O){if(f.version>=61)return O(B);if(B=JSON.parse(JSON.stringify(B)),B&&i(B.audio)==="object"){var x=function(pe,P,D){P in pe&&!(D in pe)&&(pe[D]=pe[P],delete pe[P])};B=JSON.parse(JSON.stringify(B)),x(B.audio,"autoGainControl","googAutoGainControl"),x(B.audio,"noiseSuppression","googNoiseSuppression"),B.audio=m(B.audio)}if(B&&i(B.video)==="object"){var L=B.video.facingMode;L=L&&(i(L)==="object"?L:{ideal:L});var j=f.version<66;if(L&&(L.exact==="user"||L.exact==="environment"||L.ideal==="user"||L.ideal==="environment")&&!(p.mediaDevices.getSupportedConstraints&&p.mediaDevices.getSupportedConstraints().facingMode&&!j)){delete B.video.facingMode;var te;if(L.exact==="environment"||L.ideal==="environment"?te=["back","rear"]:(L.exact==="user"||L.ideal==="user")&&(te=["front"]),te)return p.mediaDevices.enumerateDevices().then(function(se){se=se.filter(function(P){return P.kind==="videoinput"});var pe=se.find(function(P){return te.some(function(D){return P.label.toLowerCase().includes(D)})});return!pe&&se.length&&te.includes("back")&&(pe=se[se.length-1]),pe&&(B.video.deviceId=L.exact?{exact:pe.deviceId}:{ideal:pe.deviceId}),B.video=m(B.video),a("chrome: "+JSON.stringify(B)),O(B)})}B.video=m(B.video)}return a("chrome: "+JSON.stringify(B)),O(B)},T=function(B){return f.version>=64?B:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[B.name]||B.name,message:B.message,constraint:B.constraint||B.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},C=function(B,O,x){_(B,function(L){p.webkitGetUserMedia(L,O,function(j){x&&x(T(j))})})};if(p.getUserMedia=C.bind(p),p.mediaDevices.getUserMedia){var b=p.mediaDevices.getUserMedia.bind(p.mediaDevices);p.mediaDevices.getUserMedia=function(R){return _(R,function(B){return b(B).then(function(O){if(B.audio&&!O.getAudioTracks().length||B.video&&!O.getVideoTracks().length)throw O.getTracks().forEach(function(x){x.stop()}),new DOMException("","NotFoundError");return O},function(O){return Promise.reject(T(O))})})}}}}return hd}var TF=wF(),fd={},sC;function AF(){if(sC)return fd;sC=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.shimGetUserMedia=a;var n=t(Zp());function e(l){if(typeof WeakMap!="function")return null;var u=new WeakMap,f=new WeakMap;return(e=function(m){return m?f:u})(l)}function t(l,u){if(l&&l.__esModule)return l;if(l===null||i(l)!="object"&&typeof l!="function")return{default:l};var f=e(u);if(f&&f.has(l))return f.get(l);var p={__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in l)if(_!=="default"&&{}.hasOwnProperty.call(l,_)){var T=m?Object.getOwnPropertyDescriptor(l,_):null;T&&(T.get||T.set)?Object.defineProperty(p,_,T):p[_]=l[_]}return p.default=l,f&&f.set(l,p),p}function i(l){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},i(l)}function a(l,u){var f=l&&l.navigator,p=l&&l.MediaStreamTrack;if(f.getUserMedia=function(b,R,B){n.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),f.mediaDevices.getUserMedia(b).then(R,B)},!(u.version>55&&"autoGainControl"in f.mediaDevices.getSupportedConstraints())){var m=function(R,B,O){B in R&&!(O in R)&&(R[O]=R[B],delete R[B])},_=f.mediaDevices.getUserMedia.bind(f.mediaDevices);if(f.mediaDevices.getUserMedia=function(b){return i(b)==="object"&&i(b.audio)==="object"&&(b=JSON.parse(JSON.stringify(b)),m(b.audio,"autoGainControl","mozAutoGainControl"),m(b.audio,"noiseSuppression","mozNoiseSuppression")),_(b)},p&&p.prototype.getSettings){var T=p.prototype.getSettings;p.prototype.getSettings=function(){var b=T.apply(this,arguments);return m(b,"mozAutoGainControl","autoGainControl"),m(b,"mozNoiseSuppression","noiseSuppression"),b}}if(p&&p.prototype.applyConstraints){var C=p.prototype.applyConstraints;p.prototype.applyConstraints=function(b){return this.kind==="audio"&&i(b)==="object"&&(b=JSON.parse(JSON.stringify(b)),m(b,"autoGainControl","mozAutoGainControl"),m(b,"noiseSuppression","mozNoiseSuppression")),C.apply(this,[b])}}}}return fd}var CF=AF(),cr={},aC;function bF(){if(aC)return cr;aC=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.shimAudioContext=C,cr.shimCallbacksAPI=u,cr.shimConstraints=p,cr.shimCreateOfferLegacy=T,cr.shimGetUserMedia=f,cr.shimLocalStreamsAPI=a,cr.shimRTCIceServerUrls=m,cr.shimRemoteStreamsAPI=l,cr.shimTrackEventTransceiver=_;var n=t(Zp());function e(b){if(typeof WeakMap!="function")return null;var R=new WeakMap,B=new WeakMap;return(e=function(x){return x?B:R})(b)}function t(b,R){if(b&&b.__esModule)return b;if(b===null||i(b)!="object"&&typeof b!="function")return{default:b};var B=e(R);if(B&&B.has(b))return B.get(b);var O={__proto__:null},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in b)if(L!=="default"&&{}.hasOwnProperty.call(b,L)){var j=x?Object.getOwnPropertyDescriptor(b,L):null;j&&(j.get||j.set)?Object.defineProperty(O,L,j):O[L]=b[L]}return O.default=b,B&&B.set(b,O),O}function i(b){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},i(b)}function a(b){if(!(i(b)!=="object"||!b.RTCPeerConnection)){if("getLocalStreams"in b.RTCPeerConnection.prototype||(b.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in b.RTCPeerConnection.prototype)){var R=b.RTCPeerConnection.prototype.addTrack;b.RTCPeerConnection.prototype.addStream=function(O){var x=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(O)||this._localStreams.push(O),O.getAudioTracks().forEach(function(L){return R.call(x,L,O)}),O.getVideoTracks().forEach(function(L){return R.call(x,L,O)})},b.RTCPeerConnection.prototype.addTrack=function(O){for(var x=this,L=arguments.length,j=new Array(L>1?L-1:0),te=1;te<L;te++)j[te-1]=arguments[te];return j&&j.forEach(function(se){x._localStreams?x._localStreams.includes(se)||x._localStreams.push(se):x._localStreams=[se]}),R.apply(this,arguments)}}"removeStream"in b.RTCPeerConnection.prototype||(b.RTCPeerConnection.prototype.removeStream=function(O){var x=this;this._localStreams||(this._localStreams=[]);var L=this._localStreams.indexOf(O);if(L!==-1){this._localStreams.splice(L,1);var j=O.getTracks();this.getSenders().forEach(function(te){j.includes(te.track)&&x.removeTrack(te)})}})}}function l(b){if(!(i(b)!=="object"||!b.RTCPeerConnection)&&("getRemoteStreams"in b.RTCPeerConnection.prototype||(b.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in b.RTCPeerConnection.prototype))){Object.defineProperty(b.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(O){var x=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=O),this.addEventListener("track",this._onaddstreampoly=function(L){L.streams.forEach(function(j){if(x._remoteStreams||(x._remoteStreams=[]),!x._remoteStreams.includes(j)){x._remoteStreams.push(j);var te=new Event("addstream");te.stream=j,x.dispatchEvent(te)}})})}});var R=b.RTCPeerConnection.prototype.setRemoteDescription;b.RTCPeerConnection.prototype.setRemoteDescription=function(){var O=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(x){x.streams.forEach(function(L){if(O._remoteStreams||(O._remoteStreams=[]),!(O._remoteStreams.indexOf(L)>=0)){O._remoteStreams.push(L);var j=new Event("addstream");j.stream=L,O.dispatchEvent(j)}})}),R.apply(O,arguments)}}}function u(b){if(!(i(b)!=="object"||!b.RTCPeerConnection)){var R=b.RTCPeerConnection.prototype,B=R.createOffer,O=R.createAnswer,x=R.setLocalDescription,L=R.setRemoteDescription,j=R.addIceCandidate;R.createOffer=function(pe,P){var D=arguments.length>=2?arguments[2]:arguments[0],N=B.apply(this,[D]);return P?(N.then(pe,P),Promise.resolve()):N},R.createAnswer=function(pe,P){var D=arguments.length>=2?arguments[2]:arguments[0],N=O.apply(this,[D]);return P?(N.then(pe,P),Promise.resolve()):N};var te=function(pe,P,D){var N=x.apply(this,[pe]);return D?(N.then(P,D),Promise.resolve()):N};R.setLocalDescription=te,te=function(pe,P,D){var N=L.apply(this,[pe]);return D?(N.then(P,D),Promise.resolve()):N},R.setRemoteDescription=te,te=function(pe,P,D){var N=j.apply(this,[pe]);return D?(N.then(P,D),Promise.resolve()):N},R.addIceCandidate=te}}function f(b){var R=b&&b.navigator;if(R.mediaDevices&&R.mediaDevices.getUserMedia){var B=R.mediaDevices,O=B.getUserMedia.bind(B);R.mediaDevices.getUserMedia=function(x){return O(p(x))}}!R.getUserMedia&&R.mediaDevices&&R.mediaDevices.getUserMedia&&(R.getUserMedia=(function(L,j,te){R.mediaDevices.getUserMedia(L).then(j,te)}).bind(R))}function p(b){return b&&b.video!==void 0?Object.assign({},b,{video:n.compactObject(b.video)}):b}function m(b){if(b.RTCPeerConnection){var R=b.RTCPeerConnection;b.RTCPeerConnection=function(O,x){if(O&&O.iceServers){for(var L=[],j=0;j<O.iceServers.length;j++){var te=O.iceServers[j];te.urls===void 0&&te.url?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),te=JSON.parse(JSON.stringify(te)),te.urls=te.url,delete te.url,L.push(te)):L.push(O.iceServers[j])}O.iceServers=L}return new R(O,x)},b.RTCPeerConnection.prototype=R.prototype,"generateCertificate"in R&&Object.defineProperty(b.RTCPeerConnection,"generateCertificate",{get:function(){return R.generateCertificate}})}}function _(b){i(b)==="object"&&b.RTCTrackEvent&&"receiver"in b.RTCTrackEvent.prototype&&!("transceiver"in b.RTCTrackEvent.prototype)&&Object.defineProperty(b.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function T(b){var R=b.RTCPeerConnection.prototype.createOffer;b.RTCPeerConnection.prototype.createOffer=function(O){if(O){typeof O.offerToReceiveAudio<"u"&&(O.offerToReceiveAudio=!!O.offerToReceiveAudio);var x=this.getTransceivers().find(function(j){return j.receiver.track.kind==="audio"});O.offerToReceiveAudio===!1&&x?x.direction==="sendrecv"?x.setDirection?x.setDirection("sendonly"):x.direction="sendonly":x.direction==="recvonly"&&(x.setDirection?x.setDirection("inactive"):x.direction="inactive"):O.offerToReceiveAudio===!0&&!x&&this.addTransceiver("audio",{direction:"recvonly"}),typeof O.offerToReceiveVideo<"u"&&(O.offerToReceiveVideo=!!O.offerToReceiveVideo);var L=this.getTransceivers().find(function(j){return j.receiver.track.kind==="video"});O.offerToReceiveVideo===!1&&L?L.direction==="sendrecv"?L.setDirection?L.setDirection("sendonly"):L.direction="sendonly":L.direction==="recvonly"&&(L.setDirection?L.setDirection("inactive"):L.direction="inactive"):O.offerToReceiveVideo===!0&&!L&&this.addTransceiver("video",{direction:"recvonly"})}return R.apply(this,arguments)}}function C(b){i(b)!=="object"||b.AudioContext||(b.AudioContext=b.webkitAudioContext)}return cr}var SF=bF(),RF=Zp(),vI=n=>{throw TypeError(n)},EI=(n,e,t)=>e.has(n)||vI("Cannot "+t),IF=(n,e,t)=>(EI(n,e,"read from private field"),t?t.call(n):e.get(n)),DF=(n,e,t)=>e.has(n)?vI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),NF=(n,e,t,i)=>(EI(n,e,"write to private field"),e.set(n,t),t);const $p=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],em=$p.map(([n])=>n),MF=em.filter((n,e)=>$p[e][1]==="L"),OF=em.filter((n,e)=>$p[e][1]==="M");function d_(n){switch(n){case"Linear-Codes":return MF.reduce((e,t)=>e|d_(t),0);case"Matrix-Codes":return OF.reduce((e,t)=>e|d_(t),0);case"Any":return(1<<$p.length)-1;case"None":return 0;default:return 1<<em.indexOf(n)}}function xF(n){if(n===0)return"None";const e=31-Math.clz32(n);return em[e]}function kF(n){return n.reduce((e,t)=>e|d_(t),0)}const PF=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function LF(n){return PF.indexOf(n)}const oC=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function BF(n){return n==="UnicodeBig"?oC.indexOf("UTF16BE"):oC.indexOf(n)}const VF=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function UF(n){return VF[n]}const FF=["Ignore","Read","Require"];function qF(n){return FF.indexOf(n)}const GF=["Plain","ECI","HRI","Hex","Escaped"];function jF(n){return GF.indexOf(n)}const hp={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function lC(n){return{...n,formats:kF(n.formats),binarizer:LF(n.binarizer),eanAddOnSymbol:qF(n.eanAddOnSymbol),textMode:jF(n.textMode),characterSet:BF(n.characterSet)}}function YF(n){return{...n,format:xF(n.format),contentType:UF(n.contentType),eccLevel:n.ecLevel}}const HF={locateFile:(n,e)=>{const t=n.match(/_(.+?)\.wasm$/);return t?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.0/dist/${t[1]}/${n}`:e+n}},gy=new WeakMap;function zF(n,e){return Object.is(n,e)||Object.keys(n).length===Object.keys(e).length&&Object.keys(n).every(t=>Object.prototype.hasOwnProperty.call(e,t)&&n[t]===e[t])}function wI(n,{overrides:e,equalityFn:t=zF,fireImmediately:i=!1}={}){var a;const[l,u]=(a=gy.get(n))!=null?a:[HF],f=e??l;let p;if(i){if(u&&(p=t(l,f)))return u;const m=n({...f});return gy.set(n,[f,m]),m}(p??t(l,f))||gy.set(n,[f])}async function QF(n,e,t=hp){const i={...hp,...t},a=await wI(n,{fireImmediately:!0});let l,u;if("width"in e&&"height"in e&&"data"in e){const{data:p,data:{byteLength:m},width:_,height:T}=e;u=a._malloc(m),a.HEAPU8.set(p,u),l=a.readBarcodesFromPixmap(u,_,T,lC(i))}else{let p,m;if("buffer"in e)[p,m]=[e.byteLength,e];else if("byteLength"in e)[p,m]=[e.byteLength,new Uint8Array(e)];else if("size"in e)[p,m]=[e.size,new Uint8Array(await e.arrayBuffer())];else throw new TypeError("Invalid input type");u=a._malloc(p),a.HEAPU8.set(m,u),l=a.readBarcodesFromImage(u,p,lC(i))}a._free(u);const f=[];for(let p=0;p<l.size();++p)f.push(YF(l.get(p)));return f}({...hp,formats:[...hp.formats]});var TI=(()=>{var n,e=typeof document<"u"&&((n=document.currentScript)==null?void 0:n.tagName.toUpperCase())==="SCRIPT"?document.currentScript.src:void 0;return function(t={}){var i,a=t,l,u,f=new Promise((v,E)=>{l=v,u=E}),p=typeof window=="object",m=typeof Bun<"u",_=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var T=Object.assign({},a),C="./this.program",b="";function R(v){return a.locateFile?a.locateFile(v,b):b+v}var B,O;if(p||_||m){var x;_?b=self.location.href:typeof document<"u"&&((x=document.currentScript)===null||x===void 0?void 0:x.tagName.toUpperCase())==="SCRIPT"&&(b=document.currentScript.src),e&&(b=e),b.startsWith("blob:")?b="":b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),_&&(O=v=>{var E=new XMLHttpRequest;return E.open("GET",v,!1),E.responseType="arraybuffer",E.send(null),new Uint8Array(E.response)}),B=async v=>{var E=await fetch(v,{credentials:"same-origin"});if(E.ok)return E.arrayBuffer();throw new Error(E.status+" : "+E.url)}}var L=a.print||console.log.bind(console),j=a.printErr||console.error.bind(console);Object.assign(a,T),T=null,a.arguments&&a.arguments,a.thisProgram&&(C=a.thisProgram);var te=a.wasmBinary,se,pe=!1,P,D,N,V,Y,H,F,ke;function Ge(){var v=se.buffer;a.HEAP8=P=new Int8Array(v),a.HEAP16=N=new Int16Array(v),a.HEAPU8=D=new Uint8Array(v),a.HEAPU16=V=new Uint16Array(v),a.HEAP32=Y=new Int32Array(v),a.HEAPU32=H=new Uint32Array(v),a.HEAPF32=F=new Float32Array(v),a.HEAPF64=ke=new Float64Array(v)}var me=[],Ae=[],be=[];function qe(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Se(a.preRun.shift());Di(me)}function q(){Di(Ae)}function he(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)Ee(a.postRun.shift());Di(be)}function Se(v){me.unshift(v)}function Te(v){Ae.unshift(v)}function Ee(v){be.unshift(v)}var Ne=0,we=null;function Pe(v){var E;Ne++,(E=a.monitorRunDependencies)===null||E===void 0||E.call(a,Ne)}function Oe(v){var E;if(Ne--,(E=a.monitorRunDependencies)===null||E===void 0||E.call(a,Ne),Ne==0&&we){var S=we;we=null,S()}}function tt(v){var E;(E=a.onAbort)===null||E===void 0||E.call(a,v),v="Aborted("+v+")",j(v),pe=!0,v+=". Build with -sASSERTIONS for more info.";var S=new WebAssembly.RuntimeError(v);throw u(S),S}var ze="data:application/octet-stream;base64,",Tt=v=>v.startsWith(ze);function It(){var v="zxing_reader.wasm";return Tt(v)?v:R(v)}var xt;function qn(v){if(v==xt&&te)return new Uint8Array(te);if(O)return O(v);throw"both async and sync fetching of the wasm failed"}async function Gn(v){if(!te)try{var E=await B(v);return new Uint8Array(E)}catch{}return qn(v)}async function fn(v,E){try{var S=await Gn(v),k=await WebAssembly.instantiate(S,E);return k}catch(G){j(`failed to asynchronously prepare wasm: ${G}`),tt(G)}}async function Xt(v,E,S){if(!v&&typeof WebAssembly.instantiateStreaming=="function"&&!Tt(E)&&typeof fetch=="function")try{var k=fetch(E,{credentials:"same-origin"}),G=await WebAssembly.instantiateStreaming(k,S);return G}catch(z){j(`wasm streaming compile failed: ${z}`),j("falling back to ArrayBuffer instantiation")}return fn(E,S)}function Pr(){return{a:Rn}}async function Lr(){var v;function E(z,$){return gt=z.exports,se=gt.xa,Ge(),Gt=gt.Ba,Te(gt.ya),Oe(),gt}Pe();function S(z){E(z.instance)}var k=Pr();if(a.instantiateWasm)try{return a.instantiateWasm(k,E)}catch(z){j(`Module.instantiateWasm callback failed with error: ${z}`),u(z)}(v=xt)!==null&&v!==void 0||(xt=It());try{var G=await Xt(te,xt,k);return S(G),G}catch(z){u(z);return}}var Di=v=>{for(;v.length>0;)v.shift()(a)};a.noExitRuntime;var Qe=v=>zu(v),nt=()=>Qu(),Qi=[],Tn=0,hl=v=>{var E=new Ni(v);return E.get_caught()||(E.set_caught(!0),Tn--),E.set_rethrown(!1),Qi.push(E),Kh(v),Hu(v)},Dt=0,dn=()=>{it(0,0);var v=Qi.pop();Ku(v.excPtr),Dt=0};class Ni{constructor(E){this.excPtr=E,this.ptr=E-24}set_type(E){H[this.ptr+4>>2]=E}get_type(){return H[this.ptr+4>>2]}set_destructor(E){H[this.ptr+8>>2]=E}get_destructor(){return H[this.ptr+8>>2]}set_caught(E){E=E?1:0,P[this.ptr+12]=E}get_caught(){return P[this.ptr+12]!=0}set_rethrown(E){E=E?1:0,P[this.ptr+13]=E}get_rethrown(){return P[this.ptr+13]!=0}init(E,S){this.set_adjusted_ptr(0),this.set_type(E),this.set_destructor(S)}set_adjusted_ptr(E){H[this.ptr+16>>2]=E}get_adjusted_ptr(){return H[this.ptr+16>>2]}}var fl=v=>{throw Dt||(Dt=v),Dt},Br=v=>Dl(v),uo=v=>{var E=Dt;if(!E)return Br(0),0;var S=new Ni(E);S.set_adjusted_ptr(E);var k=S.get_type();if(!k)return Br(0),E;for(var G of v){if(G===0||G===k)break;var z=S.ptr+16;if(Wh(G,k,z))return Br(G),E}return Br(k),E},fs=()=>uo([]),Vr=v=>uo([v]),kn=(v,E)=>uo([v,E]),co=()=>{var v=Qi.pop();v||tt("no exception to throw");var E=v.excPtr;throw v.get_rethrown()||(Qi.push(v),v.set_rethrown(!0),v.set_caught(!1),Tn++),Dt=E,Dt},Ki=(v,E,S)=>{var k=new Ni(v);throw k.init(E,S),Dt=v,Tn++,Dt},jn=()=>Tn,ho=()=>tt(""),ds={},Js=v=>{for(;v.length;){var E=v.pop(),S=v.pop();S(E)}};function ei(v){return this.fromWireType(H[v>>2])}var ui={},An={},Yn={},pr,mr=v=>{throw new pr(v)},Mi=(v,E,S)=>{v.forEach(W=>Yn[W]=E);function k(W){var oe=S(W);oe.length!==v.length&&mr("Mismatched type converter count");for(var ge=0;ge<v.length;++ge)Cn(v[ge],oe[ge])}var G=new Array(E.length),z=[],$=0;E.forEach((W,oe)=>{An.hasOwnProperty(W)?G[oe]=An[W]:(z.push(W),ui.hasOwnProperty(W)||(ui[W]=[]),ui[W].push(()=>{G[oe]=An[W],++$,$===z.length&&k(G)}))}),z.length===0&&k(G)},Ur=v=>{var E=ds[v];delete ds[v];var S=E.rawConstructor,k=E.rawDestructor,G=E.fields,z=G.map($=>$.getterReturnType).concat(G.map($=>$.setterArgumentType));Mi([v],z,$=>{var W={};return G.forEach((oe,ge)=>{var ye=oe.fieldName,Ie=$[ge],Xe=oe.getter,Ze=oe.getterContext,yt=$[ge+G.length],kt=oe.setter,zt=oe.setterContext;W[ye]={read:Yt=>Ie.fromWireType(Xe(Ze,Yt)),write:(Yt,Rr)=>{var Rt=[];kt(zt,Yt,yt.toWireType(Rt,Rr)),Js(Rt)}}}),[{name:E.name,fromWireType:oe=>{var ge={};for(var ye in W)ge[ye]=W[ye].read(oe);return k(oe),ge},toWireType:(oe,ge)=>{for(var ye in W)if(!(ye in ge))throw new TypeError(`Missing field: "${ye}"`);var Ie=S();for(ye in W)W[ye].write(Ie,ge[ye]);return oe!==null&&oe.push(k,Ie),Ie},argPackAdvance:pn,readValueFromPointer:ei,destructorFunction:k}]})},Xs=(v,E,S,k,G)=>{},Ht=()=>{for(var v=new Array(256),E=0;E<256;++E)v[E]=String.fromCharCode(E);fo=v},fo,jt=v=>{for(var E="",S=v;D[S];)E+=fo[D[S++]];return E},ci,ft=v=>{throw new ci(v)};function dl(v,E){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var k=E.name;if(v||ft(`type "${k}" must have a positive integer typeid pointer`),An.hasOwnProperty(v)){if(S.ignoreDuplicateRegistrations)return;ft(`Cannot register type '${k}' twice`)}if(An[v]=E,delete Yn[v],ui.hasOwnProperty(v)){var G=ui[v];delete ui[v],G.forEach(z=>z())}}function Cn(v,E){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return dl(v,E,S)}var pn=8,mn=(v,E,S,k)=>{E=jt(E),Cn(v,{name:E,fromWireType:function(G){return!!G},toWireType:function(G,z){return z?S:k},argPackAdvance:pn,readValueFromPointer:function(G){return this.fromWireType(D[G])},destructorFunction:null})},an=v=>({count:v.count,deleteScheduled:v.deleteScheduled,preservePointerOnDelete:v.preservePointerOnDelete,ptr:v.ptr,ptrType:v.ptrType,smartPtr:v.smartPtr,smartPtrType:v.smartPtrType}),Oi=v=>{function E(S){return S.$$.ptrType.registeredClass.name}ft(E(v)+" instance already deleted")},gr=!1,ps=v=>{},Wi=v=>{v.smartPtr?v.smartPtrType.rawDestructor(v.smartPtr):v.ptrType.registeredClass.rawDestructor(v.ptr)},Zs=v=>{v.count.value-=1;var E=v.count.value===0;E&&Wi(v)},yr=(v,E,S)=>{if(E===S)return v;if(S.baseClass===void 0)return null;var k=yr(v,E,S.baseClass);return k===null?null:S.downcast(k)},Fr={},xi={},_r=(v,E)=>{for(E===void 0&&ft("ptr should not be undefined");v.baseClass;)E=v.upcast(E),v=v.baseClass;return E},qr=(v,E)=>(E=_r(v,E),xi[E]),ki=(v,E)=>{(!E.ptrType||!E.ptr)&&mr("makeClassHandle requires ptr and ptrType");var S=!!E.smartPtrType,k=!!E.smartPtr;return S!==k&&mr("Both smartPtrType and smartPtr must be specified"),E.count={value:1},vr(Object.create(v,{$$:{value:E,writable:!0}}))};function qt(v){var E=this.getPointee(v);if(!E)return this.destructor(v),null;var S=qr(this.registeredClass,E);if(S!==void 0){if(S.$$.count.value===0)return S.$$.ptr=E,S.$$.smartPtr=v,S.clone();var k=S.clone();return this.destructor(v),k}function G(){return this.isSmartPointer?ki(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:E,smartPtrType:this,smartPtr:v}):ki(this.registeredClass.instancePrototype,{ptrType:this,ptr:v})}var z=this.registeredClass.getActualType(E),$=Fr[z];if(!$)return G.call(this);var W;this.isConst?W=$.constPointerType:W=$.pointerType;var oe=yr(E,this.registeredClass,W.registeredClass);return oe===null?G.call(this):this.isSmartPointer?ki(W.registeredClass.instancePrototype,{ptrType:W,ptr:oe,smartPtrType:this,smartPtr:v}):ki(W.registeredClass.instancePrototype,{ptrType:W,ptr:oe})}var vr=v=>typeof FinalizationRegistry>"u"?(vr=E=>E,v):(gr=new FinalizationRegistry(E=>{Zs(E.$$)}),vr=E=>{var S=E.$$,k=!!S.smartPtr;if(k){var G={$$:S};gr.register(E,G,E)}return E},ps=E=>gr.unregister(E),vr(v)),$s=()=>{Object.assign(Pn.prototype,{isAliasOf(v){if(!(this instanceof Pn)||!(v instanceof Pn))return!1;var E=this.$$.ptrType.registeredClass,S=this.$$.ptr;v.$$=v.$$;for(var k=v.$$.ptrType.registeredClass,G=v.$$.ptr;E.baseClass;)S=E.upcast(S),E=E.baseClass;for(;k.baseClass;)G=k.upcast(G),k=k.baseClass;return E===k&&S===G},clone(){if(this.$$.ptr||Oi(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var v=vr(Object.create(Object.getPrototypeOf(this),{$$:{value:an(this.$$)}}));return v.$$.count.value+=1,v.$$.deleteScheduled=!1,v},delete(){this.$$.ptr||Oi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ft("Object already scheduled for deletion"),ps(this),Zs(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Oi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ft("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}})};function Pn(){}var bn=(v,E)=>Object.defineProperty(E,"name",{value:v}),ti=(v,E,S)=>{if(v[E].overloadTable===void 0){var k=v[E];v[E]=function(){for(var G=arguments.length,z=new Array(G),$=0;$<G;$++)z[$]=arguments[$];return v[E].overloadTable.hasOwnProperty(z.length)||ft(`Function '${S}' called with an invalid number of arguments (${z.length}) - expects one of (${v[E].overloadTable})!`),v[E].overloadTable[z.length].apply(this,z)},v[E].overloadTable=[],v[E].overloadTable[k.argCount]=k}},pl=(v,E,S)=>{a.hasOwnProperty(v)?((S===void 0||a[v].overloadTable!==void 0&&a[v].overloadTable[S]!==void 0)&&ft(`Cannot register public name '${v}' twice`),ti(a,v,v),a[v].overloadTable.hasOwnProperty(S)&&ft(`Cannot register multiple overloads of a function with the same number of arguments (${S})!`),a[v].overloadTable[S]=E):(a[v]=E,a[v].argCount=S)},po=48,mo=57,ml=v=>{v=v.replace(/[^a-zA-Z0-9_]/g,"$");var E=v.charCodeAt(0);return E>=po&&E<=mo?`_${v}`:v};function Gr(v,E,S,k,G,z,$,W){this.name=v,this.constructor=E,this.instancePrototype=S,this.rawDestructor=k,this.baseClass=G,this.getActualType=z,this.upcast=$,this.downcast=W,this.pureVirtualFunctions=[]}var Ji=(v,E,S)=>{for(;E!==S;)E.upcast||ft(`Expected null or instance of ${S.name}, got an instance of ${E.name}`),v=E.upcast(v),E=E.baseClass;return v};function yi(v,E){if(E===null)return this.isReference&&ft(`null is not a valid ${this.name}`),0;E.$$||ft(`Cannot pass "${Tr(E)}" as a ${this.name}`),E.$$.ptr||ft(`Cannot pass deleted object as a pointer of type ${this.name}`);var S=E.$$.ptrType.registeredClass,k=Ji(E.$$.ptr,S,this.registeredClass);return k}function Hn(v,E){var S;if(E===null)return this.isReference&&ft(`null is not a valid ${this.name}`),this.isSmartPointer?(S=this.rawConstructor(),v!==null&&v.push(this.rawDestructor,S),S):0;(!E||!E.$$)&&ft(`Cannot pass "${Tr(E)}" as a ${this.name}`),E.$$.ptr||ft(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&E.$$.ptrType.isConst&&ft(`Cannot convert argument of type ${E.$$.smartPtrType?E.$$.smartPtrType.name:E.$$.ptrType.name} to parameter type ${this.name}`);var k=E.$$.ptrType.registeredClass;if(S=Ji(E.$$.ptr,k,this.registeredClass),this.isSmartPointer)switch(E.$$.smartPtr===void 0&&ft("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:E.$$.smartPtrType===this?S=E.$$.smartPtr:ft(`Cannot convert argument of type ${E.$$.smartPtrType?E.$$.smartPtrType.name:E.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:S=E.$$.smartPtr;break;case 2:if(E.$$.smartPtrType===this)S=E.$$.smartPtr;else{var G=E.clone();S=this.rawShare(S,Ei.toHandle(()=>G.delete())),v!==null&&v.push(this.rawDestructor,S)}break;default:ft("Unsupporting sharing policy")}return S}function gl(v,E){if(E===null)return this.isReference&&ft(`null is not a valid ${this.name}`),0;E.$$||ft(`Cannot pass "${Tr(E)}" as a ${this.name}`),E.$$.ptr||ft(`Cannot pass deleted object as a pointer of type ${this.name}`),E.$$.ptrType.isConst&&ft(`Cannot convert argument of type ${E.$$.ptrType.name} to parameter type ${this.name}`);var S=E.$$.ptrType.registeredClass,k=Ji(E.$$.ptr,S,this.registeredClass);return k}var qu=()=>{Object.assign(Xi.prototype,{getPointee(v){return this.rawGetPointee&&(v=this.rawGetPointee(v)),v},destructor(v){var E;(E=this.rawDestructor)===null||E===void 0||E.call(this,v)},argPackAdvance:pn,readValueFromPointer:ei,fromWireType:qt})};function Xi(v,E,S,k,G,z,$,W,oe,ge,ye){this.name=v,this.registeredClass=E,this.isReference=S,this.isConst=k,this.isSmartPointer=G,this.pointeeType=z,this.sharingPolicy=$,this.rawGetPointee=W,this.rawConstructor=oe,this.rawShare=ge,this.rawDestructor=ye,!G&&E.baseClass===void 0?k?(this.toWireType=yi,this.destructorFunction=null):(this.toWireType=gl,this.destructorFunction=null):this.toWireType=Hn}var ea=(v,E,S)=>{a.hasOwnProperty(v)||mr("Replacing nonexistent public symbol"),a[v].overloadTable!==void 0&&S!==void 0?a[v].overloadTable[S]=E:(a[v]=E,a[v].argCount=S)},ta=(v,E,S)=>{v=v.replace(/p/g,"i");var k=a["dynCall_"+v];return k(E,...S)},_i=[],Gt,Ke=v=>{var E=_i[v];return E||(v>=_i.length&&(_i.length=v+1),_i[v]=E=Gt.get(v)),E},ms=function(v,E){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(v.includes("j"))return ta(v,E,S);var k=Ke(E)(...S);return k},na=(v,E)=>function(){for(var S=arguments.length,k=new Array(S),G=0;G<S;G++)k[G]=arguments[G];return ms(v,E,k)},je=(v,E)=>{v=jt(v);function S(){return v.includes("j")?na(v,E):Ke(E)}var k=S();return typeof k!="function"&&ft(`unknown function pointer with signature ${v}: ${E}`),k},gs=(v,E)=>{var S=bn(E,function(k){this.name=E,this.message=k;var G=new Error(k).stack;G!==void 0&&(this.stack=this.toString()+`
`+G.replace(/^Error(:[^\n]*)?\n/,""))});return S.prototype=Object.create(v.prototype),S.prototype.constructor=S,S.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},S},Er,hi=v=>{var E=ha(v),S=jt(E);return Ai(E),S},ia=(v,E)=>{var S=[],k={};function G(z){if(!k[z]&&!An[z]){if(Yn[z]){Yn[z].forEach(G);return}S.push(z),k[z]=!0}}throw E.forEach(G),new Er(`${v}: `+S.map(hi).join([", "]))},go=(v,E,S,k,G,z,$,W,oe,ge,ye,Ie,Xe)=>{ye=jt(ye),z=je(G,z),W&&(W=je($,W)),ge&&(ge=je(oe,ge)),Xe=je(Ie,Xe);var Ze=ml(ye);pl(Ze,function(){ia(`Cannot construct ${ye} due to unbound types`,[k])}),Mi([v,E,S],k?[k]:[],yt=>{yt=yt[0];var kt,zt;k?(kt=yt.registeredClass,zt=kt.instancePrototype):zt=Pn.prototype;var Yt=bn(ye,function(){if(Object.getPrototypeOf(this)!==Rr)throw new ci("Use 'new' to construct "+ye);if(Rt.constructor_body===void 0)throw new ci(ye+" has no accessible constructor");for(var Kr=arguments.length,No=new Array(Kr),Mo=0;Mo<Kr;Mo++)No[Mo]=arguments[Mo];var ma=Rt.constructor_body[No.length];if(ma===void 0)throw new ci(`Tried to invoke ctor of ${ye} with invalid number of parameters (${No.length}) - expected (${Object.keys(Rt.constructor_body).toString()}) parameters instead!`);return ma.apply(this,No)}),Rr=Object.create(zt,{constructor:{value:Yt}});Yt.prototype=Rr;var Rt=new Gr(ye,Yt,Rr,Xe,kt,z,W,ge);if(Rt.baseClass){var Pt,lt;(lt=(Pt=Rt.baseClass).__derivedClasses)!==null&&lt!==void 0||(Pt.__derivedClasses=[]),Rt.baseClass.__derivedClasses.push(Rt)}var Vi=new Xi(ye,Rt,!0,!1,!1),Ui=new Xi(ye+"*",Rt,!1,!1,!1),Ol=new Xi(ye+" const*",Rt,!1,!0,!1);return Fr[v]={pointerType:Ui,constPointerType:Ol},ea(Ze,Yt),[Vi,Ui,Ol]})},ra=(v,E)=>{for(var S=[],k=0;k<v;k++)S.push(H[E+k*4>>2]);return S};function yo(v){for(var E=1;E<v.length;++E)if(v[E]!==null&&v[E].destructorFunction===void 0)return!0;return!1}function _o(v,E,S,k,G,z){var $=E.length;$<2&&ft("argTypes array size mismatch! Must at least get return value and 'this' types!");var W=E[1]!==null&&S!==null,oe=yo(E),ge=E[0].name!=="void",ye=$-2,Ie=new Array(ye),Xe=[],Ze=[],yt=function(){Ze.length=0;var kt;Xe.length=W?2:1,Xe[0]=G,W&&(kt=E[1].toWireType(Ze,this),Xe[1]=kt);for(var zt=0;zt<ye;++zt)Ie[zt]=E[zt+2].toWireType(Ze,zt<0||arguments.length<=zt?void 0:arguments[zt]),Xe.push(Ie[zt]);var Yt=k(...Xe);function Rr(Rt){if(oe)Js(Ze);else for(var Pt=W?1:2;Pt<E.length;Pt++){var lt=Pt===1?kt:Ie[Pt-2];E[Pt].destructorFunction!==null&&E[Pt].destructorFunction(lt)}if(ge)return E[0].fromWireType(Rt)}return Rr(Yt)};return bn(v,yt)}var Gu=(v,E,S,k,G,z)=>{var $=ra(E,S);G=je(k,G),Mi([],[v],W=>{W=W[0];var oe=`constructor ${W.name}`;if(W.registeredClass.constructor_body===void 0&&(W.registeredClass.constructor_body=[]),W.registeredClass.constructor_body[E-1]!==void 0)throw new ci(`Cannot register multiple constructors with identical number of parameters (${E-1}) for class '${W.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return W.registeredClass.constructor_body[E-1]=()=>{ia(`Cannot construct ${W.name} due to unbound types`,$)},Mi([],$,ge=>(ge.splice(1,0,null),W.registeredClass.constructor_body[E-1]=_o(oe,ge,null,G,z),[])),[]})},Pi=v=>{v=v.trim();const E=v.indexOf("(");return E!==-1?v.substr(0,E):v},vi=(v,E,S,k,G,z,$,W,oe,ge)=>{var ye=ra(S,k);E=jt(E),E=Pi(E),z=je(G,z),Mi([],[v],Ie=>{Ie=Ie[0];var Xe=`${Ie.name}.${E}`;E.startsWith("@@")&&(E=Symbol[E.substring(2)]),W&&Ie.registeredClass.pureVirtualFunctions.push(E);function Ze(){ia(`Cannot call ${Xe} due to unbound types`,ye)}var yt=Ie.registeredClass.instancePrototype,kt=yt[E];return kt===void 0||kt.overloadTable===void 0&&kt.className!==Ie.name&&kt.argCount===S-2?(Ze.argCount=S-2,Ze.className=Ie.name,yt[E]=Ze):(ti(yt,E,Xe),yt[E].overloadTable[S-2]=Ze),Mi([],ye,zt=>{var Yt=_o(Xe,zt,Ie,z,$);return yt[E].overloadTable===void 0?(Yt.argCount=S-2,yt[E]=Yt):yt[E].overloadTable[S-2]=Yt,[]}),[]})},jr=[],Sn=[],Li=v=>{v>9&&--Sn[v+1]===0&&(Sn[v]=void 0,jr.push(v))},wr=()=>Sn.length/2-5-jr.length,vo=()=>{Sn.push(0,1,void 0,1,null,1,!0,1,!1,1),a.count_emval_handles=wr},Ei={toValue:v=>(v||ft("Cannot use deleted val. handle = "+v),Sn[v]),toHandle:v=>{switch(v){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const E=jr.pop()||Sn.length;return Sn[E]=v,Sn[E+1]=1,E}}}},Yr={name:"emscripten::val",fromWireType:v=>{var E=Ei.toValue(v);return Li(v),E},toWireType:(v,E)=>Ei.toHandle(E),argPackAdvance:pn,readValueFromPointer:ei,destructorFunction:null},wi=v=>Cn(v,Yr),Tr=v=>{if(v===null)return"null";var E=typeof v;return E==="object"||E==="array"||E==="function"?v.toString():""+v},Zi=(v,E)=>{switch(E){case 4:return function(S){return this.fromWireType(F[S>>2])};case 8:return function(S){return this.fromWireType(ke[S>>3])};default:throw new TypeError(`invalid float width (${E}): ${v}`)}},Hr=(v,E,S)=>{E=jt(E),Cn(v,{name:E,fromWireType:k=>k,toWireType:(k,G)=>G,argPackAdvance:pn,readValueFromPointer:Zi(E,S),destructorFunction:null})},Ar=(v,E,S,k,G,z,$,W)=>{var oe=ra(E,S);v=jt(v),v=Pi(v),G=je(k,G),pl(v,function(){ia(`Cannot call ${v} due to unbound types`,oe)},E-1),Mi([],oe,ge=>{var ye=[ge[0],null].concat(ge.slice(1));return ea(v,_o(v,ye,null,G,z),E-1),[]})},Eo=(v,E,S)=>{switch(E){case 1:return S?k=>P[k]:k=>D[k];case 2:return S?k=>N[k>>1]:k=>V[k>>1];case 4:return S?k=>Y[k>>2]:k=>H[k>>2];default:throw new TypeError(`invalid integer width (${E}): ${v}`)}},$i=(v,E,S,k,G)=>{E=jt(E);var z=ye=>ye;if(k===0){var $=32-8*S;z=ye=>ye<<$>>>$}var W=E.includes("unsigned"),oe=(ye,Ie)=>{},ge;W?ge=function(ye,Ie){return oe(Ie,this.name),Ie>>>0}:ge=function(ye,Ie){return oe(Ie,this.name),Ie},Cn(v,{name:E,fromWireType:z,toWireType:ge,argPackAdvance:pn,readValueFromPointer:Eo(E,S,k!==0),destructorFunction:null})},er=(v,E,S)=>{var k=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],G=k[E];function z($){var W=H[$>>2],oe=H[$+4>>2];return new G(P.buffer,oe,W)}S=jt(S),Cn(v,{name:S,fromWireType:z,argPackAdvance:pn,readValueFromPointer:z},{ignoreDuplicateRegistrations:!0})},wo=Object.assign({optional:!0},Yr),gn=(v,E)=>{Cn(v,wo)},Ct=(v,E,S,k)=>{if(!(k>0))return 0;for(var G=S,z=S+k-1,$=0;$<v.length;++$){var W=v.charCodeAt($);if(W>=55296&&W<=57343){var oe=v.charCodeAt(++$);W=65536+((W&1023)<<10)|oe&1023}if(W<=127){if(S>=z)break;E[S++]=W}else if(W<=2047){if(S+1>=z)break;E[S++]=192|W>>6,E[S++]=128|W&63}else if(W<=65535){if(S+2>=z)break;E[S++]=224|W>>12,E[S++]=128|W>>6&63,E[S++]=128|W&63}else{if(S+3>=z)break;E[S++]=240|W>>18,E[S++]=128|W>>12&63,E[S++]=128|W>>6&63,E[S++]=128|W&63}}return E[S]=0,S-G},tr=(v,E,S)=>Ct(v,D,E,S),ys=v=>{for(var E=0,S=0;S<v.length;++S){var k=v.charCodeAt(S);k<=127?E++:k<=2047?E+=2:k>=55296&&k<=57343?(E+=4,++S):E+=3}return E},To=typeof TextDecoder<"u"?new TextDecoder:void 0,_s=function(v){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var k=E+S,G=E;v[G]&&!(G>=k);)++G;if(G-E>16&&v.buffer&&To)return To.decode(v.subarray(E,G));for(var z="";E<G;){var $=v[E++];if(!($&128)){z+=String.fromCharCode($);continue}var W=v[E++]&63;if(($&224)==192){z+=String.fromCharCode(($&31)<<6|W);continue}var oe=v[E++]&63;if(($&240)==224?$=($&15)<<12|W<<6|oe:$=($&7)<<18|W<<12|oe<<6|v[E++]&63,$<65536)z+=String.fromCharCode($);else{var ge=$-65536;z+=String.fromCharCode(55296|ge>>10,56320|ge&1023)}}return z},sa=(v,E)=>v?_s(D,v,E):"",nr=(v,E)=>{E=jt(E),Cn(v,{name:E,fromWireType(S){for(var k=H[S>>2],G=S+4,z,W,$=G,W=0;W<=k;++W){var oe=G+W;if(W==k||D[oe]==0){var ge=oe-$,ye=sa($,ge);z===void 0?z=ye:(z+="\0",z+=ye),$=oe+1}}return Ai(S),z},toWireType(S,k){k instanceof ArrayBuffer&&(k=new Uint8Array(k));var G,z=typeof k=="string";z||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int8Array||ft("Cannot pass non-string to std::string"),z?G=ys(k):G=k.length;var $=Il(4+G+1),W=$+4;if(H[$>>2]=G,z)tr(k,W,G+1);else if(z)for(var oe=0;oe<G;++oe){var ge=k.charCodeAt(oe);ge>255&&(Ai(W),ft("String has UTF-16 code units that do not fit in 8 bits")),D[W+oe]=ge}else for(var oe=0;oe<G;++oe)D[W+oe]=k[oe];return S!==null&&S.push(Ai,$),$},argPackAdvance:pn,readValueFromPointer:ei,destructorFunction(S){Ai(S)}})},zr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ti=(v,E)=>{for(var S=v,k=S>>1,G=k+E/2;!(k>=G)&&V[k];)++k;if(S=k<<1,S-v>32&&zr)return zr.decode(D.subarray(v,S));for(var z="",$=0;!($>=E/2);++$){var W=N[v+$*2>>1];if(W==0)break;z+=String.fromCharCode(W)}return z},yl=(v,E,S)=>{var k;if((k=S)!==null&&k!==void 0||(S=2147483647),S<2)return 0;S-=2;for(var G=E,z=S<v.length*2?S/2:v.length,$=0;$<z;++$){var W=v.charCodeAt($);N[E>>1]=W,E+=2}return N[E>>1]=0,E-G},ju=v=>v.length*2,vs=(v,E)=>{for(var S=0,k="";!(S>=E/4);){var G=Y[v+S*4>>2];if(G==0)break;if(++S,G>=65536){var z=G-65536;k+=String.fromCharCode(55296|z>>10,56320|z&1023)}else k+=String.fromCharCode(G)}return k},aa=(v,E,S)=>{var k;if((k=S)!==null&&k!==void 0||(S=2147483647),S<4)return 0;for(var G=E,z=G+S-4,$=0;$<v.length;++$){var W=v.charCodeAt($);if(W>=55296&&W<=57343){var oe=v.charCodeAt(++$);W=65536+((W&1023)<<10)|oe&1023}if(Y[E>>2]=W,E+=4,E+4>z)break}return Y[E>>2]=0,E-G},Ao=v=>{for(var E=0,S=0;S<v.length;++S){var k=v.charCodeAt(S);k>=55296&&k<=57343&&++S,E+=4}return E},oa=(v,E,S)=>{S=jt(S);var k,G,z,$;E===2?(k=Ti,G=yl,$=ju,z=W=>V[W>>1]):E===4&&(k=vs,G=aa,$=Ao,z=W=>H[W>>2]),Cn(v,{name:S,fromWireType:W=>{for(var oe=H[W>>2],ge,ye=W+4,Ie=0;Ie<=oe;++Ie){var Xe=W+4+Ie*E;if(Ie==oe||z(Xe)==0){var Ze=Xe-ye,yt=k(ye,Ze);ge===void 0?ge=yt:(ge+="\0",ge+=yt),ye=Xe+E}}return Ai(W),ge},toWireType:(W,oe)=>{typeof oe!="string"&&ft(`Cannot pass non-string to C++ string type ${S}`);var ge=$(oe),ye=Il(4+ge+E);return H[ye>>2]=ge/E,G(oe,ye+4,ge+E),W!==null&&W.push(Ai,ye),ye},argPackAdvance:pn,readValueFromPointer:ei,destructorFunction(W){Ai(W)}})},_l=(v,E,S,k,G,z)=>{ds[v]={name:jt(E),rawConstructor:je(S,k),rawDestructor:je(G,z),fields:[]}},la=(v,E,S,k,G,z,$,W,oe,ge)=>{ds[v].fields.push({fieldName:jt(E),getterReturnType:S,getter:je(k,G),getterContext:z,setterArgumentType:$,setter:je(W,oe),setterContext:ge})},Yu=(v,E)=>{E=jt(E),Cn(v,{isVoid:!0,name:E,argPackAdvance:0,fromWireType:()=>{},toWireType:(S,k)=>{}})},Co=(v,E,S)=>D.copyWithin(v,E,E+S),Cr=[],vl=(v,E,S,k)=>(v=Cr[v],E=Ei.toValue(E),v(null,E,S,k)),El={},bo=v=>{var E=El[v];return E===void 0?jt(v):E},Qr=()=>{if(typeof globalThis=="object")return globalThis;function v(E){E.$$$embind_global$$$=E;var S=typeof $$$embind_global$$$=="object"&&E.$$$embind_global$$$==E;return S||delete E.$$$embind_global$$$,S}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&v(global)?$$$embind_global$$$=global:typeof self=="object"&&v(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},wl=v=>v===0?Ei.toHandle(Qr()):(v=bo(v),Ei.toHandle(Qr()[v])),ua=v=>{var E=Cr.length;return Cr.push(v),E},So=(v,E)=>{var S=An[v];return S===void 0&&ft(`${E} has unknown type ${hi(v)}`),S},Ro=(v,E)=>{for(var S=new Array(v),k=0;k<v;++k)S[k]=So(H[E+k*4>>2],"parameter "+k);return S},br=Reflect.construct,Tl=(v,E,S)=>{var k=[],G=v.toWireType(k,S);return k.length&&(H[E>>2]=Ei.toHandle(k)),G},Al=(v,E,S)=>{var k=Ro(v,E),G=k.shift();v--;var z=new Array(v),$=(oe,ge,ye,Ie)=>{for(var Xe=0,Ze=0;Ze<v;++Ze)z[Ze]=k[Ze].readValueFromPointer(Ie+Xe),Xe+=k[Ze].argPackAdvance;var yt=S===1?br(ge,z):ge.apply(oe,z);return Tl(G,ye,yt)},W=`methodCaller<(${k.map(oe=>oe.name).join(", ")}) => ${G.name}>`;return ua(bn(W,$))},Cl=v=>{v>9&&(Sn[v+1]+=1)},bl=v=>{var E=Ei.toValue(v);Js(E),Li(v)},ca=(v,E)=>{v=So(v,"_emval_take_value");var S=v.readValueFromPointer(E);return Ei.toHandle(S)},zn=(v,E,S,k)=>{var G=new Date().getFullYear(),z=new Date(G,0,1),$=new Date(G,6,1),W=z.getTimezoneOffset(),oe=$.getTimezoneOffset(),ge=Math.max(W,oe);H[v>>2]=ge*60,Y[E>>2]=+(W!=oe);var ye=Ze=>{var yt=Ze>=0?"-":"+",kt=Math.abs(Ze),zt=String(Math.floor(kt/60)).padStart(2,"0"),Yt=String(kt%60).padStart(2,"0");return`UTC${yt}${zt}${Yt}`},Ie=ye(W),Xe=ye(oe);oe<W?(tr(Ie,S,17),tr(Xe,k,17)):(tr(Ie,k,17),tr(Xe,S,17))},Sl=()=>2147483648,Rl=(v,E)=>Math.ceil(v/E)*E,ir=v=>{var E=se.buffer,S=(v-E.byteLength+65535)/65536|0;try{return se.grow(S),Ge(),1}catch{}},h=v=>{var E=D.length;v>>>=0;var S=Sl();if(v>S)return!1;for(var k=1;k<=4;k*=2){var G=E*(1+.2/k);G=Math.min(G,v+100663296);var z=Math.min(S,Rl(Math.max(v,G),65536)),$=ir(z);if($)return!0}return!1},y={},w=()=>C||"./this.program",M=()=>{if(!M.strings){var v=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:v,_:w()};for(var S in y)y[S]===void 0?delete E[S]:E[S]=y[S];var k=[];for(var S in E)k.push(`${S}=${E[S]}`);M.strings=k}return M.strings},Z=(v,E)=>{for(var S=0;S<v.length;++S)P[E++]=v.charCodeAt(S);P[E]=0},ie=(v,E)=>{var S=0;return M().forEach((k,G)=>{var z=E+S;H[v+G*4>>2]=z,Z(k,z),S+=k.length+1}),0},ve=(v,E)=>{var S=M();H[v>>2]=S.length;var k=0;return S.forEach(G=>k+=G.length+1),H[E>>2]=k,0},dt=v=>52;function on(v,E,S,k,G){return 70}var pt=[null,[],[]],yn=(v,E)=>{var S=pt[v];E===0||E===10?((v===1?L:j)(_s(S)),S.length=0):S.push(E)},ln=(v,E,S,k)=>{for(var G=0,z=0;z<S;z++){var $=H[E>>2],W=H[E+4>>2];E+=8;for(var oe=0;oe<W;oe++)yn(v,D[$+oe]);G+=W}return H[k>>2]=G,0},Sr=v=>v;pr=a.InternalError=class extends Error{constructor(v){super(v),this.name="InternalError"}},Ht(),ci=a.BindingError=class extends Error{constructor(v){super(v),this.name="BindingError"}},$s(),qu(),Er=a.UnboundTypeError=gs(Error,"UnboundTypeError"),vo();var Rn={s:hl,w:dn,a:fs,j:Vr,l:kn,M:co,p:Ki,ca:jn,d:fl,Z:ho,sa:Ur,Y:Xs,na:mn,qa:go,pa:Gu,D:vi,la:wi,Q:Hr,R:Ar,x:$i,t:er,ra:gn,ma:nr,N:oa,J:_l,ta:la,oa:Yu,fa:Co,U:vl,ua:Li,wa:wl,_:Al,S:Cl,va:bl,ka:ca,$:zn,da:h,aa:ie,ba:ve,ea:dt,W:on,P:ln,H:sf,B:of,T:ef,O:Bi,q:da,b:fi,C:ws,ha:sm,c:Zh,ga:am,h:$h,i:fa,r:Ju,L:rf,v:Xu,G:uf,I:Zu,z:rm,F:Ci,X:$u,V:Nl,k:Wu,f:tf,e:Io,g:tm,K:cf,m:im,ia:af,o:Do,u:nf,ja:Es,A:lf,n:nm,E:pa,y:Sr},gt;Lr();var ha=v=>(ha=gt.za)(v),Ai=a._free=v=>(Ai=a._free=gt.Aa)(v),Il=a._malloc=v=>(Il=a._malloc=gt.Ca)(v),Hu=v=>(Hu=gt.Da)(v),it=(v,E)=>(it=gt.Ea)(v,E),Dl=v=>(Dl=gt.Fa)(v),zu=v=>(zu=gt.Ga)(v),Qu=()=>(Qu=gt.Ha)(),Ku=v=>(Ku=gt.Ia)(v),Kh=v=>(Kh=gt.Ja)(v),Wh=(v,E,S)=>(Wh=gt.Ka)(v,E,S);a.dynCall_viijii=(v,E,S,k,G,z,$)=>(a.dynCall_viijii=gt.La)(v,E,S,k,G,z,$);var Jh=a.dynCall_jiii=(v,E,S,k)=>(Jh=a.dynCall_jiii=gt.Ma)(v,E,S,k);a.dynCall_jiji=(v,E,S,k,G)=>(a.dynCall_jiji=gt.Na)(v,E,S,k,G);var Xh=a.dynCall_jiiii=(v,E,S,k,G)=>(Xh=a.dynCall_jiiii=gt.Oa)(v,E,S,k,G);a.dynCall_iiiiij=(v,E,S,k,G,z,$)=>(a.dynCall_iiiiij=gt.Pa)(v,E,S,k,G,z,$),a.dynCall_iiiiijj=(v,E,S,k,G,z,$,W,oe)=>(a.dynCall_iiiiijj=gt.Qa)(v,E,S,k,G,z,$,W,oe),a.dynCall_iiiiiijj=(v,E,S,k,G,z,$,W,oe,ge)=>(a.dynCall_iiiiiijj=gt.Ra)(v,E,S,k,G,z,$,W,oe,ge);function tm(v,E,S,k){var G=nt();try{Ke(v)(E,S,k)}catch(z){if(Qe(G),z!==z+0)throw z;it(1,0)}}function fi(v,E){var S=nt();try{return Ke(v)(E)}catch(k){if(Qe(S),k!==k+0)throw k;it(1,0)}}function Io(v,E,S){var k=nt();try{Ke(v)(E,S)}catch(G){if(Qe(k),G!==G+0)throw G;it(1,0)}}function Zh(v,E,S){var k=nt();try{return Ke(v)(E,S)}catch(G){if(Qe(k),G!==G+0)throw G;it(1,0)}}function $h(v,E,S,k){var G=nt();try{return Ke(v)(E,S,k)}catch(z){if(Qe(G),z!==z+0)throw z;it(1,0)}}function ef(v,E,S,k,G){var z=nt();try{return Ke(v)(E,S,k,G)}catch($){if(Qe(z),$!==$+0)throw $;it(1,0)}}function tf(v,E){var S=nt();try{Ke(v)(E)}catch(k){if(Qe(S),k!==k+0)throw k;it(1,0)}}function Wu(v){var E=nt();try{Ke(v)()}catch(S){if(Qe(E),S!==S+0)throw S;it(1,0)}}function nm(v,E,S,k,G,z,$,W,oe,ge,ye){var Ie=nt();try{Ke(v)(E,S,k,G,z,$,W,oe,ge,ye)}catch(Xe){if(Qe(Ie),Xe!==Xe+0)throw Xe;it(1,0)}}function im(v,E,S,k,G){var z=nt();try{Ke(v)(E,S,k,G)}catch($){if(Qe(z),$!==$+0)throw $;it(1,0)}}function fa(v,E,S,k,G){var z=nt();try{return Ke(v)(E,S,k,G)}catch($){if(Qe(z),$!==$+0)throw $;it(1,0)}}function Ju(v,E,S,k,G,z){var $=nt();try{return Ke(v)(E,S,k,G,z)}catch(W){if(Qe($),W!==W+0)throw W;it(1,0)}}function Do(v,E,S,k,G,z){var $=nt();try{Ke(v)(E,S,k,G,z)}catch(W){if(Qe($),W!==W+0)throw W;it(1,0)}}function Xu(v,E,S,k,G,z,$){var W=nt();try{return Ke(v)(E,S,k,G,z,$)}catch(oe){if(Qe(W),oe!==oe+0)throw oe;it(1,0)}}function nf(v,E,S,k,G,z,$,W){var oe=nt();try{Ke(v)(E,S,k,G,z,$,W)}catch(ge){if(Qe(oe),ge!==ge+0)throw ge;it(1,0)}}function Es(v,E,S,k,G,z,$,W,oe){var ge=nt();try{Ke(v)(E,S,k,G,z,$,W,oe)}catch(ye){if(Qe(ge),ye!==ye+0)throw ye;it(1,0)}}function da(v){var E=nt();try{return Ke(v)()}catch(S){if(Qe(E),S!==S+0)throw S;it(1,0)}}function Zu(v,E,S,k,G,z,$,W,oe){var ge=nt();try{return Ke(v)(E,S,k,G,z,$,W,oe)}catch(ye){if(Qe(ge),ye!==ye+0)throw ye;it(1,0)}}function rf(v,E,S,k,G,z,$){var W=nt();try{return Ke(v)(E,S,k,G,z,$)}catch(oe){if(Qe(W),oe!==oe+0)throw oe;it(1,0)}}function ws(v,E,S,k){var G=nt();try{return Ke(v)(E,S,k)}catch(z){if(Qe(G),z!==z+0)throw z;it(1,0)}}function sf(v,E,S,k){var G=nt();try{return Ke(v)(E,S,k)}catch(z){if(Qe(G),z!==z+0)throw z;it(1,0)}}function af(v,E,S,k,G,z,$,W){var oe=nt();try{Ke(v)(E,S,k,G,z,$,W)}catch(ge){if(Qe(oe),ge!==ge+0)throw ge;it(1,0)}}function of(v,E,S,k,G,z){var $=nt();try{return Ke(v)(E,S,k,G,z)}catch(W){if(Qe($),W!==W+0)throw W;it(1,0)}}function rm(v,E,S,k,G,z,$,W,oe,ge){var ye=nt();try{return Ke(v)(E,S,k,G,z,$,W,oe,ge)}catch(Ie){if(Qe(ye),Ie!==Ie+0)throw Ie;it(1,0)}}function sm(v,E,S){var k=nt();try{return Ke(v)(E,S)}catch(G){if(Qe(k),G!==G+0)throw G;it(1,0)}}function am(v,E,S,k,G){var z=nt();try{return Ke(v)(E,S,k,G)}catch($){if(Qe(z),$!==$+0)throw $;it(1,0)}}function lf(v,E,S,k,G,z,$,W,oe,ge){var ye=nt();try{Ke(v)(E,S,k,G,z,$,W,oe,ge)}catch(Ie){if(Qe(ye),Ie!==Ie+0)throw Ie;it(1,0)}}function uf(v,E,S,k,G,z,$,W){var oe=nt();try{return Ke(v)(E,S,k,G,z,$,W)}catch(ge){if(Qe(oe),ge!==ge+0)throw ge;it(1,0)}}function cf(v,E,S,k,G,z,$){var W=nt();try{Ke(v)(E,S,k,G,z,$)}catch(oe){if(Qe(W),oe!==oe+0)throw oe;it(1,0)}}function Bi(v,E,S,k){var G=nt();try{return Ke(v)(E,S,k)}catch(z){if(Qe(G),z!==z+0)throw z;it(1,0)}}function Ci(v,E,S,k,G,z,$,W,oe,ge,ye,Ie){var Xe=nt();try{return Ke(v)(E,S,k,G,z,$,W,oe,ge,ye,Ie)}catch(Ze){if(Qe(Xe),Ze!==Ze+0)throw Ze;it(1,0)}}function pa(v,E,S,k,G,z,$,W,oe,ge,ye,Ie,Xe,Ze,yt,kt){var zt=nt();try{Ke(v)(E,S,k,G,z,$,W,oe,ge,ye,Ie,Xe,Ze,yt,kt)}catch(Yt){if(Qe(zt),Yt!==Yt+0)throw Yt;it(1,0)}}function $u(v,E,S,k){var G=nt();try{return Jh(v,E,S,k)}catch(z){if(Qe(G),z!==z+0)throw z;it(1,0)}}function Nl(v,E,S,k,G){var z=nt();try{return Xh(v,E,S,k,G)}catch($){if(Qe(z),$!==$+0)throw $;it(1,0)}}var Ts;we=function v(){Ts||Ml(),Ts||(we=v)};function Ml(){if(Ne>0||(qe(),Ne>0))return;function v(){var E;Ts||(Ts=!0,a.calledRun=!0,!pe&&(q(),l(a),(E=a.onRuntimeInitialized)===null||E===void 0||E.call(a),he()))}a.setStatus?(a.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>a.setStatus(""),1),v()},1)):v()}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Ml(),i=f,i}})();function KF(n){return wI(TI,n)}async function WF(n,e){return QF(TI,n,e)}const AI=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],JF=[...AI,["unknown"]].map(n=>n[0]),p_=new Map(AI);function XF(n){for(const[e,t]of p_)if(n===t)return e;return"unknown"}function ZF(n){if(CI(n))return{width:n.naturalWidth,height:n.naturalHeight};if(bI(n))return{width:n.width.baseVal.value,height:n.height.baseVal.value};if(SI(n))return{width:n.videoWidth,height:n.videoHeight};if(II(n))return{width:n.width,height:n.height};if(NI(n))return{width:n.displayWidth,height:n.displayHeight};if(RI(n))return{width:n.width,height:n.height};if(DI(n))return{width:n.width,height:n.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function CI(n){var e,t;try{return n instanceof((t=(e=n==null?void 0:n.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.HTMLImageElement)}catch{return!1}}function bI(n){var e,t;try{return n instanceof((t=(e=n==null?void 0:n.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.SVGImageElement)}catch{return!1}}function SI(n){var e,t;try{return n instanceof((t=(e=n==null?void 0:n.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.HTMLVideoElement)}catch{return!1}}function RI(n){var e,t;try{return n instanceof((t=(e=n==null?void 0:n.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.HTMLCanvasElement)}catch{return!1}}function II(n){try{return n instanceof ImageBitmap||Object.prototype.toString.call(n)==="[object ImageBitmap]"}catch{return!1}}function DI(n){try{return n instanceof OffscreenCanvas||Object.prototype.toString.call(n)==="[object OffscreenCanvas]"}catch{return!1}}function NI(n){try{return n instanceof VideoFrame||Object.prototype.toString.call(n)==="[object VideoFrame]"}catch{return!1}}function $F(n){try{return n instanceof Blob||Object.prototype.toString.call(n)==="[object Blob]"}catch{return!1}}function eq(n){try{return n instanceof ImageData||Object.prototype.toString.call(n)==="[object ImageData]"}catch{return!1}}function tq(n,e){try{const t=new OffscreenCanvas(n,e);if(t.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return t;throw void 0}catch{const t=document.createElement("canvas");return t.width=n,t.height=e,t}}async function MI(n){if(CI(n)&&!await sq(n))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(bI(n)&&!await aq(n))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(NI(n)&&oq(n))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(SI(n)&&(n.readyState===0||n.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(II(n)&&uq(n))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:t}=ZF(n);if(e===0||t===0)return null;const i=tq(e,t).getContext("2d");i.drawImage(n,0,0);try{return i.getImageData(0,0,e,t)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function nq(n){let e;try{e=await createImageBitmap(n)}catch{try{if(globalThis.Image){e=new Image;let t="";try{t=URL.createObjectURL(n),e.src=t,await e.decode()}finally{URL.revokeObjectURL(t)}}else return n}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await MI(e)}function iq(n){const{width:e,height:t}=n;if(e===0||t===0)return null;const i=n.getContext("2d");try{return i.getImageData(0,0,e,t)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function rq(n){if($F(n))return await nq(n);if(eq(n)){if(lq(n))throw new DOMException("The image data has been detached.","InvalidStateError");return n}return RI(n)||DI(n)?iq(n):await MI(n)}async function sq(n){try{return await n.decode(),!0}catch{return!1}}async function aq(n){var e;try{return await((e=n.decode)==null?void 0:e.call(n)),!0}catch{return!1}}function oq(n){return n.format===null}function lq(n){return n.data.buffer.byteLength===0}function uq(n){return n.width===0&&n.height===0}function uC(n,e){return cq(n)?new DOMException(`${e}: ${n.message}`,n.name):hq(n)?new n.constructor(`${e}: ${n.message}`):new Error(`${e}: ${n}`)}function cq(n){return n instanceof DOMException||Object.prototype.toString.call(n)==="[object DOMException]"}function hq(n){return n instanceof Error||Object.prototype.toString.call(n)==="[object Error]"}var Nd;class m_{constructor(e={}){DF(this,Nd);var t;try{const i=(t=e==null?void 0:e.formats)==null?void 0:t.filter(a=>a!=="unknown");if((i==null?void 0:i.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const a of i??[])if(!p_.has(a))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${a}' is not a valid enum value of type BarcodeFormat.`);NF(this,Nd,i??[]),KF({fireImmediately:!0}).catch(()=>{})}catch(i){throw uC(i,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return JF.filter(e=>e!=="unknown")}async detect(e){try{const t=await rq(e);if(t===null)return[];let i;const a={tryCode39ExtendedMode:!1,textMode:"Plain",formats:IF(this,Nd).map(l=>p_.get(l))};try{i=await WF(t,a)}catch(l){throw console.error(l),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return i.map(l=>{const{topLeft:{x:u,y:f},topRight:{x:p,y:m},bottomLeft:{x:_,y:T},bottomRight:{x:C,y:b}}=l.position,R=Math.min(u,p,_,C),B=Math.min(f,m,T,b),O=Math.max(u,p,_,C),x=Math.max(f,m,T,b);return{boundingBox:new DOMRectReadOnly(R,B,O-R,x-B),rawValue:l.text,format:XF(l.format),cornerPoints:[{x:u,y:f},{x:p,y:m},{x:C,y:b},{x:_,y:T}]}})}catch(t){throw uC(t,"Failed to execute 'detect' on 'BarcodeDetector'")}}}Nd=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=m_);function fq(n){const{onClick:e,disabled:t,className:i}=n,a={cursor:t?"default":"pointer",stroke:t?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...n.style};return We.createElement("svg",{onClick:t?void 0:e,className:i,style:a,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},We.createElement("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"}))}function dq(n){const{onClick:e,disabled:t,className:i}=n,a={cursor:t?"default":"pointer",stroke:t?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...n.style};return We.createElement("svg",{onClick:t?void 0:e,className:i,style:a,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},We.createElement("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),We.createElement("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"}))}function pq(n){const{scanning:e,startScanning:t,stopScanning:i}=n,[a,l]=J.useState(!1);function u(){l(!0),e?i():t(),setTimeout(()=>l(!1),1e3)}return We.createElement("div",{style:{bottom:85,right:3,position:"absolute",zIndex:2,cursor:a?"default":"pointer"}},e?We.createElement(fq,{disabled:a,onClick:u}):We.createElement(dq,{disabled:a,onClick:u}))}function mq(n){const{onClick:e,className:t,style:i}=n;return We.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:t,style:i,xmlns:"http://www.w3.org/2000/svg"},We.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"}))}function gq(n){const{onClick:e,className:t,style:i}=n;return We.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:t,style:i,xmlns:"http://www.w3.org/2000/svg"},We.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"}))}function yq(n){const{status:e,scanning:t,torchToggle:i}=n;function a(l){i(l)}return t&&i?We.createElement("div",{style:{bottom:35,right:3,position:"absolute",zIndex:2,cursor:"pointer"}},e?We.createElement(gq,{onClick:()=>a(!1)}):We.createElement(mq,{onClick:()=>a(!0)})):null}function _q(n){const{onClick:e,className:t,disabled:i=!1}=n,a={cursor:i?"default":"pointer",stroke:i?"grey":"yellow",fill:i?"grey":"yellow",...n.style};return We.createElement("svg",{onClick:i?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:t,style:a,xmlns:"http://www.w3.org/2000/svg"},We.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"}))}function vq(n){const{onClick:e,className:t,disabled:i=!1}=n,a={cursor:i?"default":"pointer",stroke:i?"grey":"yellow",fill:i?"grey":"yellow",...n.style};return We.createElement("svg",{onClick:i?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:t,style:a,xmlns:"http://www.w3.org/2000/svg"},We.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"}))}function Eq(n){const{scanning:e,capabilities:t,onZoom:i,value:a}=n;if(!e||!i)return null;const l=(t.max-t.min)/3;return We.createElement(J.Fragment,null,We.createElement("div",{style:{bottom:130,right:3,position:"absolute",zIndex:2,cursor:"pointer"}},We.createElement(vq,{disabled:a<=t.min,onClick:function(){i(Math.max(a-l,t.min))}})),We.createElement("div",{style:{bottom:180,right:3,position:"absolute",zIndex:2,cursor:"pointer"}},We.createElement(_q,{disabled:a>=t.max,onClick:function(){i(Math.min(a+l,t.max))}})))}function wq(n){const{scanning:e,loading:t,capabilities:i,border:a=35,onOff:l,torch:u,zoom:f,startScanning:p,stopScanning:m}=n,_="rgba(255, 0, 0, 0.5)";return We.createElement("div",{style:{position:"relative"}},We.createElement("svg",{viewBox:"0 0 100 100",style:{top:0,left:0,zIndex:1,boxSizing:"border-box",border:`${a>=35?a:35}px solid rgba(0, 0, 0, 0.2)`}},t&&We.createElement("text",{x:"50",y:"50",textAnchor:"middle",fill:"black",fontSize:"8",fontFamily:"Arial",fontWeight:"bold"},"Loading ...",We.createElement("animate",{attributeName:"opacity",values:"0;1;0",dur:"2s",repeatCount:"indefinite"})),We.createElement("path",{fill:"none",d:"M23,0 L0,0 L0,23",stroke:_,strokeWidth:3}),We.createElement("path",{fill:"none",d:"M0,77 L0,100 L23,100",stroke:_,strokeWidth:3}),We.createElement("path",{fill:"none",d:"M77,100 L100,100 L100,77",stroke:_,strokeWidth:3}),We.createElement("path",{fill:"none",d:"M100,23 L100,0 77,0",stroke:_,strokeWidth:3})),l&&We.createElement(pq,{scanning:e,startScanning:p,stopScanning:m}),u&&i.torch&&We.createElement(yq,{scanning:e,status:u.status,torchToggle:u.toggle}),f&&i.zoom&&We.createElement(Eq,{scanning:e,capabilities:i.zoom,value:f.value,onZoom:f.onChange}))}const Tq={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},Aq={audio:!0,tracker:void 0,onOff:!1,finder:!0,torch:!0,zoom:!1},Cq={width:"100%",height:"100%",position:"relative"},bq={top:0,left:0,width:"100%",height:"100%",display:"block",overflow:"hidden"};var Sq=function(n){let e,t=!1;return(...i)=>(t||(e=n(i),t=!0),e)}(()=>{const n=RF.detectBrowser(window);switch(n.browser){case"chrome":TF.shimGetUserMedia(window,n);break;case"firefox":CF.shimGetUserMedia(window,n);break;case"safari":SF.shimGetUserMedia(window,n);break;default:throw new Error("Unsupported browser")}});const Rq="data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";var Xc=n=>n instanceof Date,OI=n=>n==null;const xI=n=>typeof n=="object";var cC=n=>!OI(n)&&!Array.isArray(n)&&xI(n)&&!Xc(n),hC=n=>OI(n)||!xI(n);function kI(n,e){if(hC(n)||hC(e))return n===e;if(Xc(n)&&Xc(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const a of t){const l=n[a];if(!i.includes(a))return!1;if(a!=="ref"){const u=e[a];if(Xc(l)&&Xc(u)||cC(l)&&cC(u)||Array.isArray(l)&&Array.isArray(u)?!kI(l,u):l!==u)return!1}}return!0}function dd(n){if(n===null)throw new Error("Canvas should always be defined when component is mounted.");const e=n.getContext("2d");if(e===null)throw new Error("Canvas 2D context should be non-null");e.clearRect(0,0,n.width,n.height)}function Iq(n){var e;const{onScan:t,constraints:i,formats:a=["qr_code"],paused:l=!1,components:u,children:f,styles:p,classNames:m,allowMultiple:_,scanDelay:T,onError:C}=n,b=J.useRef(null),R=J.useRef(null),B=J.useRef(null),O=J.useMemo(()=>({...Tq,...i}),[i]),x=J.useMemo(()=>({...Aq,...u}),[u]),[L,j]=J.useState(!1),[te,se]=J.useState(!0),[pe,P]=J.useState(O),D=function(){const ke=J.useRef(Promise.resolve({type:"stop",data:{}})),Ge=J.useRef(null),me=J.useRef(null),[Ae,be]=J.useState({}),[qe,q]=J.useState({}),he=J.useCallback(async(we,Pe)=>{var Oe,tt,ze;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((Oe=navigator==null?void 0:navigator.mediaDevices)===null||Oe===void 0?void 0:Oe.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");Sq();const Tt=await navigator.mediaDevices.getUserMedia({audio:!1,video:Pe});we.srcObject!==void 0?we.srcObject=Tt:we.mozSrcObject!==void 0?we.mozSrcObject=Tt:window.URL.createObjectURL?we.src=window.URL.createObjectURL(Tt):window.webkitURL?we.src=window.webkitURL.createObjectURL(Tt):we.src=Tt.id,await Promise.race([we.play(),new Promise(xt=>setTimeout(xt,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(xt=>setTimeout(xt,500));const[It]=Tt.getVideoTracks();return q(It.getSettings()),be((ze=(tt=It==null?void 0:It.getCapabilities)===null||tt===void 0?void 0:tt.call(It))!==null&&ze!==void 0?ze:{}),Ge.current=Tt,me.current=It,{type:"start",data:{videoEl:we,stream:Tt,constraints:Pe}}},[]),Se=J.useCallback(async(we,Pe)=>{we.src="",we.srcObject=null,we.load();for(const Oe of Pe.getTracks())Pe.removeTrack(Oe),Oe.stop();return Ge.current=null,me.current=null,q({}),{type:"stop",data:{}}},[]),Te=J.useCallback(async(we,{constraints:Pe,restart:Oe=!1})=>{if(ke.current=ke.current.then(tt=>{if(tt.type==="start"){const{data:{videoEl:ze,stream:Tt,constraints:It}}=tt;return Oe||we!==ze||Pe!==It?Se(ze,Tt).then(()=>he(we,Pe)):tt}return he(we,Pe)}),(await ke.current).type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[he,Se]),Ee=J.useCallback(async()=>{if(ke.current=ke.current.then(we=>{if(we.type==="stop")return we;const{data:{videoEl:Pe,stream:Oe}}=we;return Se(Pe,Oe)}),(await ke.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[Se]),Ne=J.useCallback(async we=>{const Pe=me.current;if(!Pe)throw new Error("No active video track found.");{we.advanced&&we.advanced[0].zoom&&Pe.getCapabilities().torch&&await Pe.applyConstraints({advanced:[{torch:!1}]}),await Pe.applyConstraints(we);const Oe=Pe.getCapabilities(),tt=Pe.getSettings();be(Oe),q(tt)}},[]);return J.useEffect(()=>()=>{(async()=>await Ee())()},[Ee]),{capabilities:Ae,settings:qe,startCamera:Te,stopCamera:Ee,updateConstraints:Ne}}(),{startScanning:N,stopScanning:V}=function(ke){const{videoElementRef:Ge,onScan:me,onFound:Ae,retryDelay:be=100,scanDelay:qe=0,formats:q=[],audio:he=!0,allowMultiple:Se=!1}=ke,Te=J.useRef(new m_({formats:q})),Ee=J.useRef(null),Ne=J.useRef(null);J.useEffect(()=>{Te.current=new m_({formats:q})},[q]),J.useEffect(()=>{typeof window<"u"&&he&&(Ee.current=new Audio(Rq))},[he]);const we=J.useCallback(Pe=>async Oe=>{if(Ge.current!==null&&Ge.current.readyState>1){const{lastScan:tt,contentBefore:ze,lastScanHadContent:Tt}=Pe;if(Oe-tt<be)Ne.current=window.requestAnimationFrame(we(Pe));else{const It=await Te.current.detect(Ge.current),xt=It.some(Xt=>!ze.includes(Xt.rawValue)),qn=It.length>0;let Gn=Pe.lastOnScan;(xt||Se&&qn&&Oe-Gn>=qe)&&(he&&Ee.current&&Ee.current.paused&&Ee.current.play().catch(Xt=>console.error("Error playing the sound",Xt)),Gn=Oe,me(It)),qn&&Ae(It),!qn&&Tt&&Ae(It);const fn={lastScan:Oe,lastOnScan:Gn,lastScanHadContent:qn,contentBefore:xt?It.map(Xt=>Xt.rawValue):ze};Ne.current=window.requestAnimationFrame(we(fn))}}},[Ge.current,me,Ae,be]);return{startScanning:J.useCallback(()=>{const Pe=performance.now(),Oe={lastScan:Pe,lastOnScan:Pe,contentBefore:[],lastScanHadContent:!1};Ne.current=window.requestAnimationFrame(we(Oe))},[we]),stopScanning:J.useCallback(()=>{Ne.current!==null&&(window.cancelAnimationFrame(Ne.current),Ne.current=null)},[])}}({videoElementRef:b,onScan:t,onFound:ke=>function(Ge,me,Ae,be){const qe=Ae;if(qe==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const q=me;if(q==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(Ge.length===0||be===void 0)dd(qe);else{const he=q.offsetWidth,Se=q.offsetHeight,Te=q.videoWidth,Ee=q.videoHeight,Ne=Math.max(he/Te,Se/Ee),we=Te*Ne,Pe=Ee*Ne,Oe=we/Te,tt=Pe/Ee,ze=(he-we)/2,Tt=(Se-Pe)/2,It=({x:fn,y:Xt})=>({x:Math.floor(fn*Oe),y:Math.floor(Xt*tt)}),xt=({x:fn,y:Xt})=>({x:Math.floor(fn+ze),y:Math.floor(Xt+Tt)}),qn=Ge.map(fn=>{const{boundingBox:Xt,cornerPoints:Pr}=fn,{x:Lr,y:Di}=xt(It({x:Xt.x,y:Xt.y})),{x:Qe,y:nt}=It({x:Xt.width,y:Xt.height});return{...fn,cornerPoints:Pr.map(Qi=>xt(It(Qi))),boundingBox:DOMRectReadOnly.fromRect({x:Lr,y:Di,width:Qe,height:nt})}});qe.width=q.offsetWidth,qe.height=q.offsetHeight;const Gn=qe.getContext("2d");if(Gn===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");be(qn,Gn)}}(ke,b.current,B.current,x.tracker),formats:a,audio:x.audio,allowMultiple:_,retryDelay:x.tracker===void 0?500:10,scanDelay:T});J.useEffect(()=>(j(!0),()=>{j(!1)}),[]),J.useEffect(()=>{L&&(V(),N())},[u==null?void 0:u.tracker]),J.useEffect(()=>{if(!kI(O,pe)){const ke=O;i!=null&&i.deviceId&&delete ke.facingMode,P(ke)}},[i]);const Y=J.useMemo(()=>({constraints:pe,shouldStream:L&&!l}),[pe,L,l]),H=async()=>{const ke=b.current;if(ke==null)throw new Error("Video should be defined when component is mounted.");const Ge=R.current;if(Ge==null)throw new Error("Canvas should be defined when component is mounted.");const me=Ge.getContext("2d");if(me==null)throw new Error("Canvas should be defined when component is mounted.");if(Y.shouldStream){await D.stopCamera(),se(!1);try{await D.startCamera(ke,Y),ke?se(!0):await D.stopCamera()}catch(Ae){C==null||C(Ae),console.error("error",Ae)}}else Ge.width=ke.videoWidth,Ge.height=ke.videoHeight,me.drawImage(ke,0,0,ke.videoWidth,ke.videoHeight),await D.stopCamera(),se(!1)};J.useEffect(()=>{(async()=>await H())()},[Y]);const F=J.useMemo(()=>Y.shouldStream&&te,[Y.shouldStream,te]);return J.useEffect(()=>{if(F){if(R.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(dd(R.current),B.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(dd(B.current),b.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");N()}},[F]),We.createElement("div",{style:{...Cq,...p==null?void 0:p.container},className:m==null?void 0:m.container},We.createElement("video",{ref:b,style:{...bq,...p==null?void 0:p.video,visibility:l?"hidden":"visible"},className:m==null?void 0:m.video,autoPlay:!0,muted:!0,playsInline:!0}),We.createElement("canvas",{ref:R,style:{display:l?"block":"none",position:"absolute",top:0,left:0,width:"100%"}}),We.createElement("canvas",{ref:B,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),We.createElement("div",{style:{top:0,left:0,position:"absolute",width:"100%",height:"100%"}},x.finder&&We.createElement(wq,{scanning:te,capabilities:D.capabilities,loading:!1,onOff:x.onOff,zoom:x.zoom&&D.settings.zoom?{value:D.settings.zoom,onChange:async ke=>{const Ge={...pe,advanced:[{zoom:ke}]};await D.updateConstraints(Ge)}}:void 0,torch:x.torch?{status:(e=D.settings.torch)!==null&&e!==void 0&&e,toggle:async ke=>{const Ge={...pe,advanced:[{torch:ke}]};await D.updateConstraints(Ge)}}:void 0,startScanning:async()=>await H(),stopScanning:async()=>{await D.stopCamera(),dd(B.current),se(!1)},border:p==null?void 0:p.finderBorder}),f))}const Dq=n=>`https://www.google.com/maps/embed/v1/place?key=AIzaSyCENAteLpltku_Bl1MsfMttNUByYFReQro&q=${encodeURIComponent(n)}`,Nq=()=>{const n=oo(),e=dp(),t=Gy(),i=L_(),{orderId:a,order:l}=n.state||{},[u,f]=J.useState(!1),[p,m]=J.useState(null),[_,T]=J.useState(null),[C,b]=J.useState(null),[R,B]=J.useState(!1);J.useEffect(()=>{const j=x_(i,async te=>{te?(await te.getIdTokenResult()).claims.admin?b(te):(alert("Access Denied: You are not an admin."),e("/")):e("/login")});return()=>j()},[e]);const O=(j,te)=>{m(j),T(te),f(!0)},x=j=>{j[0].rawValue===p&&_?(alert("QR Code Matched!"),QT(Fa(t,`/orders/${C.uid}/${p}`),{status:"Delivered"}).then(()=>alert("Order delivered successfully!")).catch(te=>alert("Error updating order status: "+te.message)),QT(Fa(t,`/users/${_.uid}/orders/${l.messId}/${p}`),{status:"Delivered"}).then(()=>alert("Order delivered successfully!")).catch(te=>alert("Error updating order status: "+te.message)),f(!1)):alert("Invalid QR Code. Please scan the correct order QR.")},L=j=>async te=>{if(te.preventDefault(),B(!0),!l||!l.uid||!a){console.error("Invalid order data. Cannot send notification."),alert("Invalid order data. Please check the order details.");return}const se=Gy(),pe=Fa(se,`users/${l.uid}/notification`);try{const P=await C4(pe),D=P.exists()?P.val():[],N={message:j,timestamp:new Date().toISOString(),orderId:a,status:"Ready"},V=[...D,N];await Fy(pe,V),alert("Notification sent successfully!")}catch(P){console.error("Error adding notification to Firebase:",P),alert("Failed to send notification. Please try again.")}};return l?fe.jsxs("div",{className:"p-6 font-sans bg-gray-50 min-h-screen",children:[fe.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Order Details"}),fe.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-2xl mx-auto",children:[fe.jsxs("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:["Order ID: ",l.orderId]}),fe.jsxs("p",{className:"text-gray-600 mb-2",children:[fe.jsx("span",{className:"font-medium",children:"Status:"})," ",l.status]}),fe.jsxs("p",{className:"text-gray-600 mb-4",children:[fe.jsx("span",{className:"font-medium",children:"Address:"})," ",l.address]}),fe.jsx("div",{className:"mt-4",children:fe.jsx("iframe",{title:`Map for ${l.address}`,className:"w-full h-64 rounded-lg shadow-sm border-0",src:Dq(l.address),allowFullScreen:!0})}),fe.jsxs("div",{className:"mt-6 flex gap-4",children:[!R&&fe.jsx("button",{onClick:L("Your order is ready and out for delivery"),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Order Ready"}),R&&fe.jsx("button",{onClick:()=>{},className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"On Address"}),fe.jsx("button",{onClick:()=>O(a,l),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Scan"})]})]}),u&&fe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:fe.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg text-center",children:[fe.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Scan QR Code for Order: ",p]}),fe.jsx(Iq,{onScan:x,onError:j=>console.error(j)}),fe.jsx("button",{onClick:()=>f(!1),className:"mt-4 bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Close"})]})})]}):fe.jsx("div",{className:"p-4 text-red-500",children:"No order data found."})};sD.createRoot(document.getElementById("root")).render(fe.jsx(We.StrictMode,{children:fe.jsx(jV,{children:fe.jsx(vN,{children:fe.jsxs(WD,{children:[fe.jsx(pd,{path:"/",element:fe.jsx(vF,{})}),fe.jsx(pd,{path:"/dashboard",element:fe.jsx(EF,{})}),fe.jsx(pd,{path:"/order",element:fe.jsx(Nq,{})})]})})})}));
